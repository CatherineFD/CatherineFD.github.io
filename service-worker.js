/*! Commit hash: 73f80c5 */
(()=>{var e={47:(e,t)=>{"use strict";var n;n={value:true};t["default"]=r;n=i;function r(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:new Map;var i=n.get(e);if(i)return i;if(Array.isArray(e)){var o=[];n.set(e,o);for(var s=0;s<e.length;s++){o[s]=r(e[s],t,n)}return o}if(e instanceof Date)return new Date(e.valueOf());if(!(e instanceof Object))return e;var a={};n.set(e,a);var c=Object.keys(e);for(var u=0;u<c.length;u++){var f=t?t(c[u]):c[u];a[f]=r(e[c[u]],t,n)}return a}function i(e){return function(t){return r(t,e)}}r.formatKeys=i},63:e=>{"use strict";e.exports=function e(t,n){n=n.split(":")[0];t=+t;if(!t)return false;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return false}return t!==0}},160:(e,t,n)=>{"use strict";var r=n(63),i=n(992),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,f=/^[a-zA-Z]:/;function l(e){return(e?e:"").toString().replace(o,"")}var d=[["#","hash"],["?","query"],function e(t,n){return g(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",undefined,1,1],[/:(\d*)$/,"port",undefined,1],[NaN,"hostname",undefined,1,1]];var h={hash:1,query:1};function p(e){var t;if(typeof window!=="undefined")t=window;else if(typeof n.g!=="undefined")t=n.g;else if(typeof self!=="undefined")t=self;else t={};var r=t.location||{};e=e||r;var i={},o=typeof e,s;if("blob:"===e.protocol){i=new m(unescape(e.pathname),{})}else if("string"===o){i=new m(e,{});for(s in h)delete i[s]}else if("object"===o){for(s in e){if(s in h)continue;i[s]=e[s]}if(i.slashes===undefined){i.slashes=a.test(e.href)}}return i}function g(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function b(e,t){e=l(e);e=e.replace(s,"");t=t||{};var n=u.exec(e);var r=n[1]?n[1].toLowerCase():"";var i=!!n[2];var o=!!n[3];var a=0;var c;if(i){if(o){c=n[2]+n[3]+n[4];a=n[2].length+n[3].length}else{c=n[2]+n[4];a=n[2].length}}else{if(o){c=n[3]+n[4];a=n[3].length}else{c=n[4]}}if(r==="file:"){if(a>=2){c=c.slice(2)}}else if(g(r)){c=n[4]}else if(r){if(i){c=c.slice(2)}}else if(a>=2&&g(t.protocol)){c=n[4]}return{protocol:r,slashes:i||g(r),slashesCount:a,rest:c}}function v(e,t){if(e==="")return t;var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=false,s=0;while(r--){if(n[r]==="."){n.splice(r,1)}else if(n[r]===".."){n.splice(r,1);s++}else if(s){if(r===0)o=true;n.splice(r,1);s--}}if(o)n.unshift("");if(i==="."||i==="..")n.push("");return n.join("/")}function m(e,t,n){e=l(e);e=e.replace(s,"");if(!(this instanceof m)){return new m(e,t,n)}var o,a,c,u,h,y,w=d.slice(),_=typeof t,S=this,I=0;if("object"!==_&&"string"!==_){n=t;t=null}if(n&&"function"!==typeof n)n=i.parse;t=p(t);a=b(e||"",t);o=!a.protocol&&!a.slashes;S.slashes=a.slashes||o&&t.slashes;S.protocol=a.protocol||t.protocol||"";e=a.rest;if(a.protocol==="file:"&&(a.slashesCount!==2||f.test(e))||!a.slashes&&(a.protocol||a.slashesCount<2||!g(S.protocol))){w[3]=[/(.*)/,"pathname"]}for(;I<w.length;I++){u=w[I];if(typeof u==="function"){e=u(e,S);continue}c=u[0];y=u[1];if(c!==c){S[y]=e}else if("string"===typeof c){h=c==="@"?e.lastIndexOf(c):e.indexOf(c);if(~h){if("number"===typeof u[2]){S[y]=e.slice(0,h);e=e.slice(h+u[2])}else{S[y]=e.slice(h);e=e.slice(0,h)}}}else if(h=c.exec(e)){S[y]=h[1];e=e.slice(0,h.index)}S[y]=S[y]||(o&&u[3]?t[y]||"":"");if(u[4])S[y]=S[y].toLowerCase()}if(n)S.query=n(S.query);if(o&&t.slashes&&S.pathname.charAt(0)!=="/"&&(S.pathname!==""||t.pathname!=="")){S.pathname=v(S.pathname,t.pathname)}if(S.pathname.charAt(0)!=="/"&&g(S.protocol)){S.pathname="/"+S.pathname}if(!r(S.port,S.protocol)){S.host=S.hostname;S.port=""}S.username=S.password="";if(S.auth){h=S.auth.indexOf(":");if(~h){S.username=S.auth.slice(0,h);S.username=encodeURIComponent(decodeURIComponent(S.username));S.password=S.auth.slice(h+1);S.password=encodeURIComponent(decodeURIComponent(S.password))}else{S.username=encodeURIComponent(decodeURIComponent(S.auth))}S.auth=S.password?S.username+":"+S.password:S.username}S.origin=S.protocol!=="file:"&&g(S.protocol)&&S.host?S.protocol+"//"+S.host:"null";S.href=S.toString()}function y(e,t,n){var o=this;switch(e){case"query":if("string"===typeof t&&t.length){t=(n||i.parse)(t)}o[e]=t;break;case"port":o[e]=t;if(!r(t,o.protocol)){o.host=o.hostname;o[e]=""}else if(t){o.host=o.hostname+":"+t}break;case"hostname":o[e]=t;if(o.port)t+=":"+o.port;o.host=t;break;case"host":o[e]=t;if(c.test(t)){t=t.split(":");o.port=t.pop();o.hostname=t.join(":")}else{o.hostname=t;o.port=""}break;case"protocol":o.protocol=t.toLowerCase();o.slashes=!n;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";o[e]=t.charAt(0)!==s?s+t:t}else{o[e]=t}break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");if(~a){o.username=t.slice(0,a);o.username=encodeURIComponent(decodeURIComponent(o.username));o.password=t.slice(a+1);o.password=encodeURIComponent(decodeURIComponent(o.password))}else{o.username=encodeURIComponent(decodeURIComponent(t))}}for(var u=0;u<d.length;u++){var f=d[u];if(f[4])o[f[1]]=o[f[1]].toLowerCase()}o.auth=o.password?o.username+":"+o.password:o.username;o.origin=o.protocol!=="file:"&&g(o.protocol)&&o.host?o.protocol+"//"+o.host:"null";o.href=o.toString();return o}function w(e){if(!e||"function"!==typeof e)e=i.stringify;var t,n=this,r=n.host,o=n.protocol;if(o&&o.charAt(o.length-1)!==":")o+=":";var s=o+(n.protocol&&n.slashes||g(n.protocol)?"//":"");if(n.username){s+=n.username;if(n.password)s+=":"+n.password;s+="@"}else if(n.password){s+=":"+n.password;s+="@"}else if(n.protocol!=="file:"&&g(n.protocol)&&!r&&n.pathname!=="/"){s+="@"}if(r[r.length-1]===":"||c.test(n.hostname)&&!n.port){r+=":"}s+=r+n.pathname;t="object"===typeof n.query?e(n.query):n.query;if(t)s+="?"!==t.charAt(0)?"?"+t:t;if(n.hash)s+=n.hash;return s}m.prototype={set:y,toString:w};m.extractProtocol=b;m.location=p;m.trimLeft=l;m.qs=i;e.exports=m},790:(e,t,n)=>{(function(t){if(true){e.exports=t()}else{var n}})((function(){var e,t,r;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var c=undefined;if(!a&&c)return require(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[s]={exports:{}};t[s][0].call(f.exports,(function(e){var n=t[s][1][e];return i(n?n:e)}),f,f.exports,e,t,n,r)}return n[s].exports}var o=undefined;for(var s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,r){(function(e){"use strict";var n=e.MutationObserver||e.WebKitMutationObserver;var r;{if(n){var i=0;var o=new n(f);var s=e.document.createTextNode("");o.observe(s,{characterData:true});r=function(){s.data=i=++i%2}}else if(!e.setImmediate&&typeof e.MessageChannel!=="undefined"){var a=new e.MessageChannel;a.port1.onmessage=f;r=function(){a.port2.postMessage(0)}}else if("document"in e&&"onreadystatechange"in e.document.createElement("script")){r=function(){var t=e.document.createElement("script");t.onreadystatechange=function(){f();t.onreadystatechange=null;t.parentNode.removeChild(t);t=null};e.document.documentElement.appendChild(t)}}else{r=function(){setTimeout(f,0)}}}var c;var u=[];function f(){c=true;var e,t;var n=u.length;while(n){t=u;u=[];e=-1;while(++e<n){t[e]()}n=u.length}c=false}t.exports=l;function l(e){if(u.push(e)===1&&!c){r()}}}).call(this,typeof n.g!=="undefined"?n.g:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function i(){}var o={};var s=["REJECTED"];var a=["FULFILLED"];var c=["PENDING"];t.exports=u;function u(e){if(typeof e!=="function"){throw new TypeError("resolver must be a function")}this.state=c;this.queue=[];this.outcome=void 0;if(e!==i){h(this,e)}}u.prototype["catch"]=function(e){return this.then(null,e)};u.prototype.then=function(e,t){if(typeof e!=="function"&&this.state===a||typeof t!=="function"&&this.state===s){return this}var n=new this.constructor(i);if(this.state!==c){var r=this.state===a?e:t;l(n,r,this.outcome)}else{this.queue.push(new f(n,e,t))}return n};function f(e,t,n){this.promise=e;if(typeof t==="function"){this.onFulfilled=t;this.callFulfilled=this.otherCallFulfilled}if(typeof n==="function"){this.onRejected=n;this.callRejected=this.otherCallRejected}}f.prototype.callFulfilled=function(e){o.resolve(this.promise,e)};f.prototype.otherCallFulfilled=function(e){l(this.promise,this.onFulfilled,e)};f.prototype.callRejected=function(e){o.reject(this.promise,e)};f.prototype.otherCallRejected=function(e){l(this.promise,this.onRejected,e)};function l(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}if(r===e){o.reject(e,new TypeError("Cannot resolve promise with itself"))}else{o.resolve(e,r)}}))}o.resolve=function(e,t){var n=p(d,t);if(n.status==="error"){return o.reject(e,n.value)}var r=n.value;if(r){h(e,r)}else{e.state=a;e.outcome=t;var i=-1;var s=e.queue.length;while(++i<s){e.queue[i].callFulfilled(t)}}return e};o.reject=function(e,t){e.state=s;e.outcome=t;var n=-1;var r=e.queue.length;while(++n<r){e.queue[n].callRejected(t)}return e};function d(e){var t=e&&e.then;if(e&&(typeof e==="object"||typeof e==="function")&&typeof t==="function"){return function n(){t.apply(e,arguments)}}}function h(e,t){var n=false;function r(t){if(n){return}n=true;o.reject(e,t)}function i(t){if(n){return}n=true;o.resolve(e,t)}function s(){t(i,r)}var a=p(s);if(a.status==="error"){r(a.value)}}function p(e,t){var n={};try{n.value=e(t);n.status="success"}catch(e){n.status="error";n.value=e}return n}u.resolve=g;function g(e){if(e instanceof this){return e}return o.resolve(new this(i),e)}u.reject=b;function b(e){var t=new this(i);return o.reject(t,e)}u.all=v;function v(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]"){return this.reject(new TypeError("must be an array"))}var n=e.length;var r=false;if(!n){return this.resolve([])}var s=new Array(n);var a=0;var c=-1;var u=new this(i);while(++c<n){f(e[c],c)}return u;function f(e,i){t.resolve(e).then(c,(function(e){if(!r){r=true;o.reject(u,e)}}));function c(e){s[i]=e;if(++a===n&&!r){r=true;o.resolve(u,s)}}}}u.race=m;function m(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]"){return this.reject(new TypeError("must be an array"))}var n=e.length;var r=false;if(!n){return this.resolve([])}var s=-1;var a=new this(i);while(++s<n){c(e[s])}return a;function c(e){t.resolve(e).then((function(e){if(!r){r=true;o.resolve(a,e)}}),(function(e){if(!r){r=true;o.reject(a,e)}}))}}},{1:1}],3:[function(e,t,r){(function(t){"use strict";if(typeof t.Promise!=="function"){t.Promise=e(2)}}).call(this,typeof n.g!=="undefined"?n.g:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(){try{if(typeof indexedDB!=="undefined"){return indexedDB}if(typeof webkitIndexedDB!=="undefined"){return webkitIndexedDB}if(typeof mozIndexedDB!=="undefined"){return mozIndexedDB}if(typeof OIndexedDB!=="undefined"){return OIndexedDB}if(typeof msIndexedDB!=="undefined"){return msIndexedDB}}catch(e){return}}var s=o();function a(){try{if(!s||!s.open){return false}var e=typeof openDatabase!=="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);var t=typeof fetch==="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||t)&&typeof indexedDB!=="undefined"&&typeof IDBKeyRange!=="undefined"}catch(e){return false}}function c(e,t){e=e||[];t=t||{};try{return new Blob(e,t)}catch(o){if(o.name!=="TypeError"){throw o}var n=typeof BlobBuilder!=="undefined"?BlobBuilder:typeof MSBlobBuilder!=="undefined"?MSBlobBuilder:typeof MozBlobBuilder!=="undefined"?MozBlobBuilder:WebKitBlobBuilder;var r=new n;for(var i=0;i<e.length;i+=1){r.append(e[i])}return r.getBlob(t.type)}}if(typeof Promise==="undefined"){e(3)}var u=Promise;function f(e,t){if(t){e.then((function(e){t(null,e)}),(function(e){t(e)}))}}function l(e,t,n){if(typeof t==="function"){e.then(t)}if(typeof n==="function"){e["catch"](n)}}function d(e){if(typeof e!=="string"){console.warn(e+" used as a key, but it is not a string.");e=String(e)}return e}function h(){if(arguments.length&&typeof arguments[arguments.length-1]==="function"){return arguments[arguments.length-1]}}var p="local-forage-detect-blob-support";var g=void 0;var b={};var v=Object.prototype.toString;var m="readonly";var y="readwrite";function w(e){var t=e.length;var n=new ArrayBuffer(t);var r=new Uint8Array(n);for(var i=0;i<t;i++){r[i]=e.charCodeAt(i)}return n}function _(e){return new u((function(t){var n=e.transaction(p,y);var r=c([""]);n.objectStore(p).put(r,"key");n.onabort=function(e){e.preventDefault();e.stopPropagation();t(false)};n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/);var n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}))["catch"]((function(){return false}))}function S(e){if(typeof g==="boolean"){return u.resolve(g)}return _(e).then((function(e){g=e;return g}))}function I(e){var t=b[e.name];var n={};n.promise=new u((function(e,t){n.resolve=e;n.reject=t}));t.deferredOperations.push(n);if(!t.dbReady){t.dbReady=n.promise}else{t.dbReady=t.dbReady.then((function(){return n.promise}))}}function k(e){var t=b[e.name];var n=t.deferredOperations.pop();if(n){n.resolve();return n.promise}}function E(e,t){var n=b[e.name];var r=n.deferredOperations.pop();if(r){r.reject(t);return r.promise}}function C(e,t){return new u((function(n,r){b[e.name]=b[e.name]||R();if(e.db){if(t){I(e);e.db.close()}else{return n(e.db)}}var i=[e.name];if(t){i.push(e.version)}var o=s.open.apply(s,i);if(t){o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName);if(t.oldVersion<=1){n.createObjectStore(p)}}catch(n){if(n.name==="ConstraintError"){console.warn('The database "'+e.name+'"'+" has been upgraded from version "+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}else{throw n}}}}o.onerror=function(e){e.preventDefault();r(o.error)};o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()};n(t);k(e)}}))}function A(e){return C(e,false)}function O(e){return C(e,true)}function M(e,t){if(!e.db){return true}var n=!e.db.objectStoreNames.contains(e.storeName);var r=e.version<e.db.version;var i=e.version>e.db.version;if(r){if(e.version!==t){console.warn('The database "'+e.name+'"'+" can't be downgraded from version "+e.db.version+" to version "+e.version+".")}e.version=e.db.version}if(i||n){if(n){var o=e.db.version+1;if(o>e.version){e.version=o}}return true}return false}function T(e){return new u((function(t,n){var r=new FileReader;r.onerror=n;r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:true,data:r,type:e.type})};r.readAsBinaryString(e)}))}function P(e){var t=w(atob(e.data));return c([t],{type:e.type})}function D(e){return e&&e.__local_forage_encoded_blob}function N(e){var t=this;var n=t._initReady().then((function(){var e=b[t._dbInfo.name];if(e&&e.dbReady){return e.dbReady}}));l(n,e,e);return n}function x(e){I(e);var t=b[e.name];var n=t.forages;for(var r=0;r<n.length;r++){var i=n[r];if(i._dbInfo.db){i._dbInfo.db.close();i._dbInfo.db=null}}e.db=null;return A(e).then((function(t){e.db=t;if(M(e)){return O(e)}return t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++){n[i]._dbInfo.db=r}}))["catch"]((function(t){E(e,t);throw t}))}function j(e,t,n,r){if(r===undefined){r=1}try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||i.name==="InvalidStateError"||i.name==="NotFoundError")){return u.resolve().then((function(){if(!e.db||i.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version){if(e.db){e.version=e.db.version+1}return O(e)}})).then((function(){return x(e).then((function(){j(e,t,n,r-1)}))}))["catch"](n)}n(i)}}function R(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function B(e){var t=this;var n={db:null};if(e){for(var r in e){n[r]=e[r]}}var i=b[n.name];if(!i){i=R();b[n.name]=i}i.forages.push(t);if(!t._initReady){t._initReady=t.ready;t.ready=N}var o=[];function s(){return u.resolve()}for(var a=0;a<i.forages.length;a++){var c=i.forages[a];if(c!==t){o.push(c._initReady()["catch"](s))}}var f=i.forages.slice(0);return u.all(o).then((function(){n.db=i.db;return A(n)})).then((function(e){n.db=e;if(M(n,t._defaultConfig.version)){return O(n)}return e})).then((function(e){n.db=i.db=e;t._dbInfo=n;for(var r=0;r<f.length;r++){var o=f[r];if(o!==t){o._dbInfo.db=n.db;o._dbInfo.version=n.version}}}))}function F(e,t){var n=this;e=d(e);var r=new u((function(t,r){n.ready().then((function(){j(n._dbInfo,m,(function(i,o){if(i){return r(i)}try{var s=o.objectStore(n._dbInfo.storeName);var a=s.get(e);a.onsuccess=function(){var e=a.result;if(e===undefined){e=null}if(D(e)){e=P(e)}t(e)};a.onerror=function(){r(a.error)}}catch(e){r(e)}}))}))["catch"](r)}));f(r,t);return r}function L(e,t){var n=this;var r=new u((function(t,r){n.ready().then((function(){j(n._dbInfo,m,(function(i,o){if(i){return r(i)}try{var s=o.objectStore(n._dbInfo.storeName);var a=s.openCursor();var c=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;if(D(r)){r=P(r)}var i=e(r,n.key,c++);if(i!==void 0){t(i)}else{n["continue"]()}}else{t()}};a.onerror=function(){r(a.error)}}catch(e){r(e)}}))}))["catch"](r)}));f(r,t);return r}function W(e,t,n){var r=this;e=d(e);var i=new u((function(n,i){var o;r.ready().then((function(){o=r._dbInfo;if(v.call(t)==="[object Blob]"){return S(o.db).then((function(e){if(e){return t}return T(t)}))}return t})).then((function(t){j(r._dbInfo,y,(function(o,s){if(o){return i(o)}try{var a=s.objectStore(r._dbInfo.storeName);if(t===null){t=undefined}var c=a.put(t,e);s.oncomplete=function(){if(t===undefined){t=null}n(t)};s.onabort=s.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))}))["catch"](i)}));f(i,n);return i}function z(e,t){var n=this;e=d(e);var r=new u((function(t,r){n.ready().then((function(){j(n._dbInfo,y,(function(i,o){if(i){return r(i)}try{var s=o.objectStore(n._dbInfo.storeName);var a=s["delete"](e);o.oncomplete=function(){t()};o.onerror=function(){r(a.error)};o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))}))["catch"](r)}));f(r,t);return r}function U(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){j(t._dbInfo,y,(function(r,i){if(r){return n(r)}try{var o=i.objectStore(t._dbInfo.storeName);var s=o.clear();i.oncomplete=function(){e()};i.onabort=i.onerror=function(){var e=s.error?s.error:s.transaction.error;n(e)}}catch(e){n(e)}}))}))["catch"](n)}));f(n,e);return n}function $(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){j(t._dbInfo,m,(function(r,i){if(r){return n(r)}try{var o=i.objectStore(t._dbInfo.storeName);var s=o.count();s.onsuccess=function(){e(s.result)};s.onerror=function(){n(s.error)}}catch(e){n(e)}}))}))["catch"](n)}));f(n,e);return n}function V(e,t){var n=this;var r=new u((function(t,r){if(e<0){t(null);return}n.ready().then((function(){j(n._dbInfo,m,(function(i,o){if(i){return r(i)}try{var s=o.objectStore(n._dbInfo.storeName);var a=false;var c=s.openKeyCursor();c.onsuccess=function(){var n=c.result;if(!n){t(null);return}if(e===0){t(n.key)}else{if(!a){a=true;n.advance(e)}else{t(n.key)}}};c.onerror=function(){r(c.error)}}catch(e){r(e)}}))}))["catch"](r)}));f(r,t);return r}function H(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){j(t._dbInfo,m,(function(r,i){if(r){return n(r)}try{var o=i.objectStore(t._dbInfo.storeName);var s=o.openKeyCursor();var a=[];s.onsuccess=function(){var t=s.result;if(!t){e(a);return}a.push(t.key);t["continue"]()};s.onerror=function(){n(s.error)}}catch(e){n(e)}}))}))["catch"](n)}));f(n,e);return n}function K(e,t){t=h.apply(this,arguments);var n=this.config();e=typeof e!=="function"&&e||{};if(!e.name){e.name=e.name||n.name;e.storeName=e.storeName||n.storeName}var r=this;var i;if(!e.name){i=u.reject("Invalid arguments")}else{var o=e.name===n.name&&r._dbInfo.db;var a=o?u.resolve(r._dbInfo.db):A(e).then((function(t){var n=b[e.name];var r=n.forages;n.db=t;for(var i=0;i<r.length;i++){r[i]._dbInfo.db=t}return t}));if(!e.storeName){i=a.then((function(t){I(e);var n=b[e.name];var r=n.forages;t.close();for(var i=0;i<r.length;i++){var o=r[i];o._dbInfo.db=null}var a=new u((function(t,n){var r=s.deleteDatabase(e.name);r.onerror=function(){var e=r.result;if(e){e.close()}n(r.error)};r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')};r.onsuccess=function(){var e=r.result;if(e){e.close()}t(e)}}));return a.then((function(e){n.db=e;for(var t=0;t<r.length;t++){var i=r[t];k(i._dbInfo)}}))["catch"]((function(t){(E(e,t)||u.resolve())["catch"]((function(){}));throw t}))}))}else{i=a.then((function(t){if(!t.objectStoreNames.contains(e.storeName)){return}var n=t.version+1;I(e);var r=b[e.name];var i=r.forages;t.close();for(var o=0;o<i.length;o++){var a=i[o];a._dbInfo.db=null;a._dbInfo.version=n}var c=new u((function(t,r){var i=s.open(e.name,n);i.onerror=function(e){var t=i.result;t.close();r(e)};i.onupgradeneeded=function(){var t=i.result;t.deleteObjectStore(e.storeName)};i.onsuccess=function(){var e=i.result;e.close();t(e)}}));return c.then((function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e;k(n._dbInfo)}}))["catch"]((function(t){(E(e,t)||u.resolve())["catch"]((function(){}));throw t}))}))}}f(i,t);return i}var q={_driver:"asyncStorage",_initStorage:B,_support:a(),iterate:L,getItem:F,setItem:W,removeItem:z,clear:U,length:$,key:V,keys:H,dropInstance:K};function G(){return typeof openDatabase==="function"}var J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var X="~~local_forage_type~";var Q=/^~~local_forage_type~([^~]+)~/;var Z="__lfsc__:";var Y=Z.length;var ee="arbf";var te="blob";var ne="si08";var re="ui08";var ie="uic8";var oe="si16";var se="si32";var ae="ur16";var ce="ui32";var ue="fl32";var fe="fl64";var le=Y+ee.length;var de=Object.prototype.toString;function he(e){var t=e.length*.75;var n=e.length;var r;var i=0;var o,s,a,c;if(e[e.length-1]==="="){t--;if(e[e.length-2]==="="){t--}}var u=new ArrayBuffer(t);var f=new Uint8Array(u);for(r=0;r<n;r+=4){o=J.indexOf(e[r]);s=J.indexOf(e[r+1]);a=J.indexOf(e[r+2]);c=J.indexOf(e[r+3]);f[i++]=o<<2|s>>4;f[i++]=(s&15)<<4|a>>2;f[i++]=(a&3)<<6|c&63}return u}function pe(e){var t=new Uint8Array(e);var n="";var r;for(r=0;r<t.length;r+=3){n+=J[t[r]>>2];n+=J[(t[r]&3)<<4|t[r+1]>>4];n+=J[(t[r+1]&15)<<2|t[r+2]>>6];n+=J[t[r+2]&63]}if(t.length%3===2){n=n.substring(0,n.length-1)+"="}else if(t.length%3===1){n=n.substring(0,n.length-2)+"=="}return n}function ge(e,t){var n="";if(e){n=de.call(e)}if(e&&(n==="[object ArrayBuffer]"||e.buffer&&de.call(e.buffer)==="[object ArrayBuffer]")){var r;var i=Z;if(e instanceof ArrayBuffer){r=e;i+=ee}else{r=e.buffer;if(n==="[object Int8Array]"){i+=ne}else if(n==="[object Uint8Array]"){i+=re}else if(n==="[object Uint8ClampedArray]"){i+=ie}else if(n==="[object Int16Array]"){i+=oe}else if(n==="[object Uint16Array]"){i+=ae}else if(n==="[object Int32Array]"){i+=se}else if(n==="[object Uint32Array]"){i+=ce}else if(n==="[object Float32Array]"){i+=ue}else if(n==="[object Float64Array]"){i+=fe}else{t(new Error("Failed to get type for BinaryArray"))}}t(i+pe(r))}else if(n==="[object Blob]"){var o=new FileReader;o.onload=function(){var n=X+e.type+"~"+pe(this.result);t(Z+te+n)};o.readAsArrayBuffer(e)}else{try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e);t(null,n)}}}function be(e){if(e.substring(0,Y)!==Z){return JSON.parse(e)}var t=e.substring(le);var n=e.substring(Y,le);var r;if(n===te&&Q.test(t)){var i=t.match(Q);r=i[1];t=t.substring(i[0].length)}var o=he(t);switch(n){case ee:return o;case te:return c([o],{type:r});case ne:return new Int8Array(o);case re:return new Uint8Array(o);case ie:return new Uint8ClampedArray(o);case oe:return new Int16Array(o);case ae:return new Uint16Array(o);case se:return new Int32Array(o);case ce:return new Uint32Array(o);case ue:return new Float32Array(o);case fe:return new Float64Array(o);default:throw new Error("Unkown type: "+n)}}var ve={serialize:ge,deserialize:be,stringToBuffer:he,bufferToString:pe};function me(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" "+"(id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function ye(e){var t=this;var n={db:null};if(e){for(var r in e){n[r]=typeof e[r]!=="string"?e[r].toString():e[r]}}var i=new u((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){me(i,n,(function(){t._dbInfo=n;e()}),(function(e,t){r(t)}))}),r)}));n.serializer=ve;return i}function we(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,s){if(s.code===s.SYNTAX_ERR){e.executeSql("SELECT name FROM sqlite_master "+"WHERE type='table' AND name = ?",[t.storeName],(function(e,a){if(!a.rows.length){me(e,t,(function(){e.executeSql(n,r,i,o)}),o)}else{o(e,s)}}),o)}else{o(e,s)}}),o)}function _e(e,t){var n=this;e=d(e);var r=new u((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){we(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;if(r){r=i.serializer.deserialize(r)}t(r)}),(function(e,t){r(t)}))}))}))["catch"](r)}));f(r,t);return r}function Se(e,t){var n=this;var r=new u((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){we(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){var o=r.rows;var s=o.length;for(var a=0;a<s;a++){var c=o.item(a);var u=c.value;if(u){u=i.serializer.deserialize(u)}u=e(u,c.key,a+1);if(u!==void 0){t(u);return}}t()}),(function(e,t){r(t)}))}))}))["catch"](r)}));f(r,t);return r}function Ie(e,t,n,r){var i=this;e=d(e);var o=new u((function(o,s){i.ready().then((function(){if(t===undefined){t=null}var a=t;var c=i._dbInfo;c.serializer.serialize(t,(function(t,u){if(u){s(u)}else{c.db.transaction((function(n){we(n,c,"INSERT OR REPLACE INTO "+c.storeName+" "+"(key, value) VALUES (?, ?)",[e,t],(function(){o(a)}),(function(e,t){s(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0){o(Ie.apply(i,[e,a,n,r-1]));return}s(t)}}))}}))}))["catch"](s)}));f(o,n);return o}function ke(e,t,n){return Ie.apply(this,[e,t,n,1])}function Ee(e,t){var n=this;e=d(e);var r=new u((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){we(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))}))["catch"](r)}));f(r,t);return r}function Ce(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){we(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))}))["catch"](n)}));f(n,e);return n}function Ae(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){we(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))}))["catch"](n)}));f(n,e);return n}function Oe(e,t){var n=this;var r=new u((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){we(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))}))["catch"](r)}));f(r,t);return r}function Me(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){we(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){var r=[];for(var i=0;i<n.rows.length;i++){r.push(n.rows.item(i).key)}e(r)}),(function(e,t){n(t)}))}))}))["catch"](n)}));f(n,e);return n}function Te(e){return new u((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master "+"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){var i=[];for(var o=0;o<r.rows.length;o++){i.push(r.rows.item(o).name)}t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}function Pe(e,t){t=h.apply(this,arguments);var n=this.config();e=typeof e!=="function"&&e||{};if(!e.name){e.name=e.name||n.name;e.storeName=e.storeName||n.storeName}var r=this;var i;if(!e.name){i=u.reject("Invalid arguments")}else{i=new u((function(t){var i;if(e.name===n.name){i=r._dbInfo.db}else{i=openDatabase(e.name,"","",0)}if(!e.storeName){t(Te(i))}else{t({db:i,storeNames:[e.storeName]})}})).then((function(e){return new u((function(t,n){e.db.transaction((function(r){function i(e){return new u((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}var o=[];for(var s=0,a=e.storeNames.length;s<a;s++){o.push(i(e.storeNames[s]))}u.all(o).then((function(){t()}))["catch"]((function(e){n(e)}))}),(function(e){n(e)}))}))}))}f(i,t);return i}var De={_driver:"webSQLStorage",_initStorage:ye,_support:G(),iterate:Se,getItem:_e,setItem:ke,removeItem:Ee,clear:Ce,length:Ae,key:Oe,keys:Me,dropInstance:Pe};function Ne(){try{return typeof localStorage!=="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return false}}function xe(e,t){var n=e.name+"/";if(e.storeName!==t.storeName){n+=e.storeName+"/"}return n}function je(){var e="_localforage_support_test";try{localStorage.setItem(e,true);localStorage.removeItem(e);return false}catch(e){return true}}function Re(){return!je()||localStorage.length>0}function Be(e){var t=this;var n={};if(e){for(var r in e){n[r]=e[r]}}n.keyPrefix=xe(e,t._defaultConfig);if(!Re()){return u.reject()}t._dbInfo=n;n.serializer=ve;return u.resolve()}function Fe(e){var t=this;var n=t.ready().then((function(){var e=t._dbInfo.keyPrefix;for(var n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);if(r.indexOf(e)===0){localStorage.removeItem(r)}}}));f(n,e);return n}function Le(e,t){var n=this;e=d(e);var r=n.ready().then((function(){var t=n._dbInfo;var r=localStorage.getItem(t.keyPrefix+e);if(r){r=t.serializer.deserialize(r)}return r}));f(r,t);return r}function We(e,t){var n=this;var r=n.ready().then((function(){var t=n._dbInfo;var r=t.keyPrefix;var i=r.length;var o=localStorage.length;var s=1;for(var a=0;a<o;a++){var c=localStorage.key(a);if(c.indexOf(r)!==0){continue}var u=localStorage.getItem(c);if(u){u=t.serializer.deserialize(u)}u=e(u,c.substring(i),s++);if(u!==void 0){return u}}}));f(r,t);return r}function ze(e,t){var n=this;var r=n.ready().then((function(){var t=n._dbInfo;var r;try{r=localStorage.key(e)}catch(e){r=null}if(r){r=r.substring(t.keyPrefix.length)}return r}));f(r,t);return r}function Ue(e){var t=this;var n=t.ready().then((function(){var e=t._dbInfo;var n=localStorage.length;var r=[];for(var i=0;i<n;i++){var o=localStorage.key(i);if(o.indexOf(e.keyPrefix)===0){r.push(o.substring(e.keyPrefix.length))}}return r}));f(n,e);return n}function $e(e){var t=this;var n=t.keys().then((function(e){return e.length}));f(n,e);return n}function Ve(e,t){var n=this;e=d(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));f(r,t);return r}function He(e,t,n){var r=this;e=d(e);var i=r.ready().then((function(){if(t===undefined){t=null}var n=t;return new u((function(i,o){var s=r._dbInfo;s.serializer.serialize(t,(function(t,r){if(r){o(r)}else{try{localStorage.setItem(s.keyPrefix+e,t);i(n)}catch(e){if(e.name==="QuotaExceededError"||e.name==="NS_ERROR_DOM_QUOTA_REACHED"){o(e)}o(e)}}}))}))}));f(i,n);return i}function Ke(e,t){t=h.apply(this,arguments);e=typeof e!=="function"&&e||{};if(!e.name){var n=this.config();e.name=e.name||n.name;e.storeName=e.storeName||n.storeName}var r=this;var i;if(!e.name){i=u.reject("Invalid arguments")}else{i=new u((function(t){if(!e.storeName){t(e.name+"/")}else{t(xe(e,r._defaultConfig))}})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);if(n.indexOf(e)===0){localStorage.removeItem(n)}}}))}f(i,t);return i}var qe={_driver:"localStorageWrapper",_initStorage:Be,_support:Ne(),iterate:We,getItem:Le,setItem:He,removeItem:Ve,clear:Fe,length:$e,key:ze,keys:Ue,dropInstance:Ke};var Ge=function e(t,n){return t===n||typeof t==="number"&&typeof n==="number"&&isNaN(t)&&isNaN(n)};var Je=function e(t,n){var r=t.length;var i=0;while(i<r){if(Ge(t[i],n)){return true}i++}return false};var Xe=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};var Qe={};var Ze={};var Ye={INDEXEDDB:q,WEBSQL:De,LOCALSTORAGE:qe};var et=[Ye.INDEXEDDB._driver,Ye.WEBSQL._driver,Ye.LOCALSTORAGE._driver];var tt=["dropInstance"];var nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt);var rt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function it(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function ot(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t){for(var n in t){if(t.hasOwnProperty(n)){if(Xe(t[n])){arguments[0][n]=t[n].slice()}else{arguments[0][n]=t[n]}}}}}return arguments[0]}var st=function(){function e(t){i(this,e);for(var n in Ye){if(Ye.hasOwnProperty(n)){var r=Ye[n];var o=r._driver;this[n]=o;if(!Qe[o]){this.defineDriver(r)}}}this._defaultConfig=ot({},rt);this._config=ot({},this._defaultConfig,t);this._driverSet=null;this._initDriver=null;this._ready=false;this._dbInfo=null;this._wrapLibraryMethodsWithReady();this.setDriver(this._config.driver)["catch"]((function(){}))}e.prototype.config=function e(t){if((typeof t==="undefined"?"undefined":r(t))==="object"){if(this._ready){return new Error("Can't call config() after localforage "+"has been used.")}for(var n in t){if(n==="storeName"){t[n]=t[n].replace(/\W/g,"_")}if(n==="version"&&typeof t[n]!=="number"){return new Error("Database version must be a number.")}this._config[n]=t[n]}if("driver"in t&&t.driver){return this.setDriver(this._config.driver)}return true}else if(typeof t==="string"){return this._config[t]}else{return this._config}};e.prototype.defineDriver=function e(t,n,r){var i=new u((function(e,n){try{var r=t._driver;var i=new Error("Custom driver not compliant; see "+"https://mozilla.github.io/localForage/#definedriver");if(!t._driver){n(i);return}var o=nt.concat("_initStorage");for(var s=0,a=o.length;s<a;s++){var c=o[s];var l=!Je(tt,c);if((l||t[c])&&typeof t[c]!=="function"){n(i);return}}var d=function e(){var n=function e(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver");var n=u.reject(e);f(n,arguments[arguments.length-1]);return n}};for(var r=0,i=tt.length;r<i;r++){var o=tt[r];if(!t[o]){t[o]=n(o)}}};d();var h=function n(i){if(Qe[r]){console.info("Redefining LocalForage driver: "+r)}Qe[r]=t;Ze[r]=i;e()};if("_support"in t){if(t._support&&typeof t._support==="function"){t._support().then(h,n)}else{h(!!t._support)}}else{h(true)}}catch(e){n(e)}}));l(i,n,r);return i};e.prototype.driver=function e(){return this._driver||null};e.prototype.getDriver=function e(t,n,r){var i=Qe[t]?u.resolve(Qe[t]):u.reject(new Error("Driver not found."));l(i,n,r);return i};e.prototype.getSerializer=function e(t){var n=u.resolve(ve);l(n,t);return n};e.prototype.ready=function e(t){var n=this;var r=n._driverSet.then((function(){if(n._ready===null){n._ready=n._initDriver()}return n._ready}));l(r,t,t);return r};e.prototype.setDriver=function e(t,n,r){var i=this;if(!Xe(t)){t=[t]}var o=this._getSupportedDrivers(t);function s(){i._config.driver=i.driver()}function a(e){i._extend(e);s();i._ready=i._initStorage(i._config);return i._ready}function c(e){return function(){var t=0;function n(){while(t<e.length){var r=e[t];t++;i._dbInfo=null;i._ready=null;return i.getDriver(r).then(a)["catch"](n)}s();var o=new Error("No available storage method found.");i._driverSet=u.reject(o);return i._driverSet}return n()}}var f=this._driverSet!==null?this._driverSet["catch"]((function(){return u.resolve()})):u.resolve();this._driverSet=f.then((function(){var e=o[0];i._dbInfo=null;i._ready=null;return i.getDriver(e).then((function(e){i._driver=e._driver;s();i._wrapLibraryMethodsWithReady();i._initDriver=c(o)}))}))["catch"]((function(){s();var e=new Error("No available storage method found.");i._driverSet=u.reject(e);return i._driverSet}));l(this._driverSet,n,r);return this._driverSet};e.prototype.supports=function e(t){return!!Ze[t]};e.prototype._extend=function e(t){ot(this,t)};e.prototype._getSupportedDrivers=function e(t){var n=[];for(var r=0,i=t.length;r<i;r++){var o=t[r];if(this.supports(o)){n.push(o)}}return n};e.prototype._wrapLibraryMethodsWithReady=function e(){for(var t=0,n=nt.length;t<n;t++){it(this,nt[t])}};e.prototype.createInstance=function t(n){return new e(n)};return e}();var at=new st;t.exports=at},{3:3}]},{},[4])(4)}))},880:function(e){!function(t,n){true?e.exports=n():0}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(i,o),a=0,c=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"};t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"};t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"};t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"};t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&s(t.prototype,n),r&&s(t,r),e}();t.default=a,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),s=c(n(95)),a=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),c=a.default.find(s,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(n[c]);if(void 0!==u)return u}var f=a.default.find(s,(function(e){return t.isPlatform(e)}));if(f){var l=this.satisfies(n[f]);if(void 0!==l)return l}}if(o>0){var d=Object.keys(i),h=a.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r};var o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18);var s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18);var s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18);var s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})}))},935:(e,t,n)=>{e.exports=n(47)["default"]},992:(e,t)=>{"use strict";var n=Object.prototype.hasOwnProperty,r;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function o(e){try{return encodeURIComponent(e)}catch(e){return null}}function s(e){var t=/([^=?#&]+)=?([^&]*)/g,n={},r;while(r=t.exec(e)){var o=i(r[1]),s=i(r[2]);if(o===null||s===null||o in n)continue;n[o]=s}return n}function a(e,t){t=t||"";var i=[],s,a;if("string"!==typeof t)t="?";for(a in e){if(n.call(e,a)){s=e[a];if(!s&&(s===null||s===r||isNaN(s))){s=""}a=o(a);s=o(s);if(a===null||s===null)continue;i.push(a+"="+s)}}return i.length?t+i.join("&"):""}t.stringify=a;t.parse=s}};var t={};function n(r){var i=t[r];if(i!==undefined){return i.exports}var o=t[r]={exports:{}};e[r].call(o.exports,o,o.exports,n);return o.exports}(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;n.d(t,{a:t});return t}})();(()=>{n.d=(e,t)=>{for(var r in t){if(n.o(t,r)&&!n.o(e,r)){Object.defineProperty(e,r,{enumerable:true,get:t[r]})}}}})();(()=>{n.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window==="object")return window}}()})();(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();var r={};(()=>{"use strict";var e=n(935);var t=n.n(e);const r={NODE_CLIENT:false,NODE_ADMIN:false,SDK_VERSION:"${JSCORE_VERSION}"};const i=function(e,t){if(!e){throw o(t)}};const o=function(e){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};const s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if((i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320){i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return t};const a=function(e){const t=[];let n=0,r=0;while(n<e.length){const i=e[n++];if(i<128){t[r++]=String.fromCharCode(i)}else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++];const s=e[n++];const a=e[n++];const c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10));t[r++]=String.fromCharCode(56320+(c&1023))}else{const o=e[n++];const s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")};const c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"abcdefghijklmnopqrstuvwxyz"+"0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(e,t){if(!Array.isArray(e)){throw Error("encodeByteArray takes an array as a parameter")}this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_;const r=[];for(let t=0;t<e.length;t+=3){const i=e[t];const o=t+1<e.length;const s=o?e[t+1]:0;const a=t+2<e.length;const c=a?e[t+2]:0;const u=i>>2;const f=(i&3)<<4|s>>4;let l=(s&15)<<2|c>>6;let d=c&63;if(!a){d=64;if(!o){l=64}}r.push(n[u],n[f],n[l],n[d])}return r.join("")},encodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return btoa(e)}return this.encodeByteArray(s(e),t)},decodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return atob(e)}return a(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_;const r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)];const o=t<e.length;const s=o?n[e.charAt(t)]:0;++t;const a=t<e.length;const c=a?n[e.charAt(t)]:64;++t;const f=t<e.length;const l=f?n[e.charAt(t)]:64;++t;if(i==null||s==null||c==null||l==null){throw new u}const d=i<<2|s>>4;r.push(d);if(c!==64){const e=s<<4&240|c>>2;r.push(e);if(l!==64){const e=c<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++){this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e);this.charToByteMap_[this.byteToCharMap_[e]]=e;this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e);this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e;if(e>=this.ENCODED_VALS_BASE.length){this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e;this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e}}}}};class u extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}const f=function(e){const t=s(e);return c.encodeByteArray(t,true)};const l=function(e){return f(e).replace(/\./g,"")};const d=function(e){try{return c.decodeString(e,true)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(e){return p(undefined,e)}function p(e,t){if(!(t instanceof Object)){return t}switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:if(e===undefined){e={}}break;case Array:e=[];break;default:return t}for(const n in t){if(!t.hasOwnProperty(n)||!g(n)){continue}e[n]=p(e[n],t[n])}return e}function g(e){return e!=="__proto__"}function b(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof n.g!=="undefined"){return n.g}throw new Error("Unable to locate global object.")}const v=()=>b().__FIREBASE_DEFAULTS__;const m=()=>{if(typeof process==="undefined"||typeof process.env==="undefined"){return}const e=process.env.__FIREBASE_DEFAULTS__;if(e){return JSON.parse(e)}};const y=()=>{if(typeof document==="undefined"){return}let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&d(e[1]);return t&&JSON.parse(t)};const w=()=>{try{return getDefaultsFromPostinstall()||v()||m()||y()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}};const _=e=>{var t,n;return(n=(t=w())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]};const S=e=>{const t=_(e);if(!t){return undefined}const n=t.lastIndexOf(":");if(n<=0||n+1===t.length){throw new Error(`Invalid host ${t} with no separate hostname and port!`)}const r=parseInt(t.substring(n+1),10);if(t[0]==="["){return[t.substring(1,n-1),r]}else{return[t.substring(0,n),r]}};const I=()=>{var e;return(e=w())===null||e===void 0?void 0:e.config};const k=e=>{var t;return(t=w())===null||t===void 0?void 0:t[`_${e}`]};class E{constructor(){this.reject=()=>{};this.resolve=()=>{};this.promise=new Promise(((e,t)=>{this.resolve=e;this.reject=t}))}wrapCallback(e){return(t,n)=>{if(t){this.reject(t)}else{this.resolve(n)}if(typeof e==="function"){this.promise.catch((()=>{}));if(e.length===1){e(t)}else{e(t,n)}}}}}function C(e,t){if(e.uid){throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.')}const n={alg:"none",type:"JWT"};const r=t||"demo-project";const i=e.iat||0;const o=e.sub||e.user_id;if(!o){throw new Error("mockUserToken must contain 'sub' or 'user_id' field!")}const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);const a="";return[l(JSON.stringify(n)),l(JSON.stringify(s)),a].join(".")}function A(){if(typeof navigator!=="undefined"&&typeof navigator["userAgent"]==="string"){return navigator["userAgent"]}else{return""}}function O(){return typeof window!=="undefined"&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A())}function M(){var e;const t=(e=w())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node"){return true}else if(t==="browser"){return false}try{return Object.prototype.toString.call(n.g.process)==="[object process]"}catch(e){return false}}function T(){return typeof window!=="undefined"||P()}function P(){return typeof WorkerGlobalScope!=="undefined"&&typeof self!=="undefined"&&self instanceof WorkerGlobalScope}function D(){return typeof navigator!=="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function N(){const e=typeof chrome==="object"?chrome.runtime:typeof browser==="object"?browser.runtime:undefined;return typeof e==="object"&&e.id!==undefined}function x(){return typeof navigator==="object"&&navigator["product"]==="ReactNative"}function j(){return A().indexOf("Electron/")>=0}function R(){const e=A();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function B(){return A().indexOf("MSAppHost/")>=0}function F(){return r.NODE_CLIENT===true||r.NODE_ADMIN===true}function L(){return!M()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){try{return typeof indexedDB==="object"}catch(e){return false}}function z(){return new Promise(((e,t)=>{try{let n=true;const r="validate-browser-context-for-indexeddb-analytics-module";const i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close();if(!n){self.indexedDB.deleteDatabase(r)}e(true)};i.onupgradeneeded=()=>{n=false};i.onerror=()=>{var e;t(((e=i.error)===null||e===void 0?void 0:e.message)||"")}}catch(e){t(e)}}))}function U(){if(typeof navigator==="undefined"||!navigator.cookieEnabled){return false}return true}const $="FirebaseError";class V extends Error{constructor(e,t,n){super(t);this.code=e;this.customData=n;this.name=$;Object.setPrototypeOf(this,V.prototype);if(Error.captureStackTrace){Error.captureStackTrace(this,H.prototype.create)}}}class H{constructor(e,t,n){this.service=e;this.serviceName=t;this.errors=n}create(e,...t){const n=t[0]||{};const r=`${this.service}/${e}`;const i=this.errors[e];const o=i?K(i,n):"Error";const s=`${this.serviceName}: ${o} (${r}).`;const a=new V(r,s,n);return a}}function K(e,t){return e.replace(q,((e,n)=>{const r=t[n];return r!=null?String(r):`<${n}?>`}))}const q=/\{\$([^}]+)}/g;function G(e){return JSON.parse(e)}function J(e){return JSON.stringify(e)}const X=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=G(d(o[0])||"");n=G(d(o[1])||"");i=o[2];r=n["d"]||{};delete n["d"]}catch(e){}return{header:t,claims:n,data:r,signature:i}};const Q=function(e){const t=X(e).claims;const n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;if(typeof t==="object"){if(t.hasOwnProperty("nbf")){r=t["nbf"]}else if(t.hasOwnProperty("iat")){r=t["iat"]}if(t.hasOwnProperty("exp")){i=t["exp"]}else{i=r+86400}}return!!n&&!!r&&!!i&&n>=r&&n<=i};const Z=function(e){const t=X(e).claims;if(typeof t==="object"&&t.hasOwnProperty("iat")){return t["iat"]}return null};const Y=function(e){const t=X(e),n=t.claims;return!!n&&typeof n==="object"&&n.hasOwnProperty("iat")};const ee=function(e){const t=X(e).claims;return typeof t==="object"&&t["admin"]===true};function te(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ne(e,t){if(Object.prototype.hasOwnProperty.call(e,t)){return e[t]}else{return undefined}}function re(e){for(const t in e){if(Object.prototype.hasOwnProperty.call(e,t)){return false}}return true}function ie(e,t,n){const r={};for(const i in e){if(Object.prototype.hasOwnProperty.call(e,i)){r[i]=t.call(n,e[i],i,e)}}return r}function oe(e,t){if(e===t){return true}const n=Object.keys(e);const r=Object.keys(t);for(const i of n){if(!r.includes(i)){return false}const n=e[i];const o=t[i];if(se(n)&&se(o)){if(!oe(n,o)){return false}}else if(n!==o){return false}}for(const e of r){if(!n.includes(e)){return false}}return true}function se(e){return e!==null&&typeof e==="object"}function ae(e,t=2e3){const n=new E;setTimeout((()=>n.reject("timeout!")),t);e.then(n.resolve,n.reject);return n.promise}function ce(e){const t=[];for(const[n,r]of Object.entries(e)){if(Array.isArray(r)){r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}))}else{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}}return t.length?"&"+t.join("&"):""}function ue(e){const t={};const n=e.replace(/^\?/,"").split("&");n.forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}));return t}function fe(e){const t=e.indexOf("?");if(!t){return""}const n=e.indexOf("#",t);return e.substring(t,n>0?n:undefined)}class le{constructor(){this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.inbuf_=0;this.total_=0;this.blockSize=512/8;this.pad_[0]=128;for(let e=1;e<this.blockSize;++e){this.pad_[e]=0}this.reset()}reset(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.inbuf_=0;this.total_=0}compress_(e,t){if(!t){t=0}const n=this.W_;if(typeof e==="string"){for(let r=0;r<16;r++){n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3);t+=4}}else{for(let r=0;r<16;r++){n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];t+=4}}for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=(t<<1|t>>>31)&4294967295}let r=this.chain_[0];let i=this.chain_[1];let o=this.chain_[2];let s=this.chain_[3];let a=this.chain_[4];let c,u;for(let e=0;e<80;e++){if(e<40){if(e<20){c=s^i&(o^s);u=1518500249}else{c=i^o^s;u=1859775393}}else{if(e<60){c=i&o|s&(i|o);u=2400959708}else{c=i^o^s;u=3395469782}}const t=(r<<5|r>>>27)+c+a+u+n[e]&4294967295;a=s;s=o;o=(i<<30|i>>>2)&4294967295;i=r;r=t}this.chain_[0]=this.chain_[0]+r&4294967295;this.chain_[1]=this.chain_[1]+i&4294967295;this.chain_[2]=this.chain_[2]+o&4294967295;this.chain_[3]=this.chain_[3]+s&4294967295;this.chain_[4]=this.chain_[4]+a&4294967295}update(e,t){if(e==null){return}if(t===undefined){t=e.length}const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;while(r<t){if(o===0){while(r<=n){this.compress_(e,r);r+=this.blockSize}}if(typeof e==="string"){while(r<t){i[o]=e.charCodeAt(r);++o;++r;if(o===this.blockSize){this.compress_(i);o=0;break}}}else{while(r<t){i[o]=e[r];++o;++r;if(o===this.blockSize){this.compress_(i);o=0;break}}}}this.inbuf_=o;this.total_+=t}digest(){const e=[];let t=this.total_*8;if(this.inbuf_<56){this.update(this.pad_,56-this.inbuf_)}else{this.update(this.pad_,this.blockSize-(this.inbuf_-56))}for(let e=this.blockSize-1;e>=56;e--){this.buf_[e]=t&255;t/=256}this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++){for(let r=24;r>=0;r-=8){e[n]=this.chain_[t]>>r&255;++n}}return e}}function de(e,t){const n=new he(e,t);return n.subscribe.bind(n)}class he{constructor(e,t){this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=Promise.resolve();this.finalized=false;this.onNoObservers=t;this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)}));this.close(e)}complete(){this.forEachObserver((e=>{e.complete()}));this.close()}subscribe(e,t,n){let r;if(e===undefined&&t===undefined&&n===undefined){throw new Error("Missing Observer.")}if(ge(e,["next","error","complete"])){r=e}else{r={next:e,error:t,complete:n}}if(r.next===undefined){r.next=be}if(r.error===undefined){r.error=be}if(r.complete===undefined){r.complete=be}const i=this.unsubscribeOne.bind(this,this.observers.length);if(this.finalized){this.task.then((()=>{try{if(this.finalError){r.error(this.finalError)}else{r.complete()}}catch(e){}return}))}this.observers.push(r);return i}unsubscribeOne(e){if(this.observers===undefined||this.observers[e]===undefined){return}delete this.observers[e];this.observerCount-=1;if(this.observerCount===0&&this.onNoObservers!==undefined){this.onNoObservers(this)}}forEachObserver(e){if(this.finalized){return}for(let t=0;t<this.observers.length;t++){this.sendOne(t,e)}}sendOne(e,t){this.task.then((()=>{if(this.observers!==undefined&&this.observers[e]!==undefined){try{t(this.observers[e])}catch(e){if(typeof console!=="undefined"&&console.error){console.error(e)}}}}))}close(e){if(this.finalized){return}this.finalized=true;if(e!==undefined){this.finalError=e}this.task.then((()=>{this.observers=undefined;this.onNoObservers=undefined}))}}function pe(e,t){return(...n)=>{Promise.resolve(true).then((()=>{e(...n)})).catch((e=>{if(t){t(e)}}))}}function ge(e,t){if(typeof e!=="object"||e===null){return false}for(const n of t){if(n in e&&typeof e[n]==="function"){return true}}return false}function be(){}const ve=function(e,t,n,r){let i;if(r<t){i="at least "+t}else if(r>n){i=n===0?"none":"no more than "+n}if(i){const t=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(t)}};function me(e,t){return`${e} failed: ${t} argument `}function ye(e,t,n){if(n&&!t){return}if(typeof t!=="string"){throw new Error(me(e,"namespace")+"must be a valid firebase namespace.")}}function we(e,t,n,r){if(r&&!n){return}if(typeof n!=="function"){throw new Error(me(e,t)+"must be a valid function.")}}function _e(e,t,n,r){if(r&&!n){return}if(typeof n!=="object"||n===null){throw new Error(me(e,t)+"must be a valid context object.")}}const Se=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o>=55296&&o<=56319){const t=o-55296;r++;i(r<e.length,"Surrogate pair missing trail surrogate.");const n=e.charCodeAt(r)-56320;o=65536+(t<<10)+n}if(o<128){t[n++]=o}else if(o<2048){t[n++]=o>>6|192;t[n++]=o&63|128}else if(o<65536){t[n++]=o>>12|224;t[n++]=o>>6&63|128;t[n++]=o&63|128}else{t[n++]=o>>18|240;t[n++]=o>>12&63|128;t[n++]=o>>6&63|128;t[n++]=o&63|128}}return t};const Ie=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(r<128){t++}else if(r<2048){t+=2}else if(r>=55296&&r<=56319){t+=4;n++}else{t+=3}}return t};const ke=1e3;const Ee=2;const Ce=null&&4*60*60*1e3;const Ae=.5;function Oe(e,t=ke,n=Ee){const r=t*Math.pow(n,e);const i=Math.round(Ae*r*(Math.random()-.5)*2);return Math.min(Ce,r+i)}function Me(e){if(!Number.isFinite(e)){return`${e}`}return e+Te(e)}function Te(e){e=Math.abs(e);const t=e%100;if(t>=10&&t<=20){return"th"}const n=e%10;if(n===1){return"st"}if(n===2){return"nd"}if(n===3){return"rd"}return"th"}function Pe(e){if(e&&e._delegate){return e._delegate}else{return e}}class De{constructor(e,t,n){this.name=e;this.instanceFactory=t;this.type=n;this.multipleInstances=false;this.serviceProps={};this.instantiationMode="LAZY";this.onInstanceCreated=null}setInstantiationMode(e){this.instantiationMode=e;return this}setMultipleInstances(e){this.multipleInstances=e;return this}setServiceProps(e){this.serviceProps=e;return this}setInstanceCreatedCallback(e){this.onInstanceCreated=e;return this}}const Ne="[DEFAULT]";class xe{constructor(e,t){this.name=e;this.container=t;this.component=null;this.instances=new Map;this.instancesDeferred=new Map;this.instancesOptions=new Map;this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new E;this.instancesDeferred.set(t,e);if(this.isInitialized(t)||this.shouldAutoInitialize()){try{const n=this.getOrInitializeService({instanceIdentifier:t});if(n){e.resolve(n)}}catch(e){}}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e===null||e===void 0?void 0:e.identifier);const r=(t=e===null||e===void 0?void 0:e.optional)!==null&&t!==void 0?t:false;if(this.isInitialized(n)||this.shouldAutoInitialize()){try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r){return null}else{throw e}}}else{if(r){return null}else{throw Error(`Service ${this.name} is not available`)}}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name){throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`)}if(this.component){throw Error(`Component for ${this.name} has already been provided`)}this.component=e;if(!this.shouldAutoInitialize()){return}if(Re(e)){try{this.getOrInitializeService({instanceIdentifier:Ne})}catch(e){}}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}clearInstance(e=Ne){this.instancesDeferred.delete(e);this.instancesOptions.delete(e);this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return this.component!=null}isInitialized(e=Ne){return this.instances.has(e)}getOptions(e=Ne){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e;const n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n)){throw Error(`${this.name}(${n}) has already been initialized`)}if(!this.isComponentSet()){throw Error(`Component ${this.name} has not been registered yet`)}const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);if(n===i){t.resolve(r)}}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t);const i=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;i.add(e);this.onInitCallbacks.set(r,i);const o=this.instances.get(r);if(o){e(o,r)}return()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(!n){return}for(const r of n){try{r(e,t)}catch(e){}}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component){n=this.component.instanceFactory(this.container,{instanceIdentifier:je(e),options:t});this.instances.set(e,n);this.instancesOptions.set(e,t);this.invokeOnInitCallbacks(n,e);if(this.component.onInstanceCreated){try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}}}return n||null}normalizeInstanceIdentifier(e=Ne){if(this.component){return this.component.multipleInstances?e:Ne}else{return e}}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function je(e){return e===Ne?undefined:e}function Re(e){return e.instantiationMode==="EAGER"}class Be{constructor(e){this.name=e;this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){throw new Error(`Component ${e.name} has already been registered with ${this.name}`)}t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){this.providers.delete(e.name)}this.addComponent(e)}getProvider(e){if(this.providers.has(e)){return this.providers.get(e)}const t=new xe(e,this);this.providers.set(e,t);return t}getProviders(){return Array.from(this.providers.values())}}const Fe=[];var Le;(function(e){e[e["DEBUG"]=0]="DEBUG";e[e["VERBOSE"]=1]="VERBOSE";e[e["INFO"]=2]="INFO";e[e["WARN"]=3]="WARN";e[e["ERROR"]=4]="ERROR";e[e["SILENT"]=5]="SILENT"})(Le||(Le={}));const We={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT};const ze=Le.INFO;const Ue={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"};const $e=(e,t,...n)=>{if(t<e.logLevel){return}const r=(new Date).toISOString();const i=Ue[t];if(i){console[i](`[${r}]  ${e.name}:`,...n)}else{throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)}};class Ve{constructor(e){this.name=e;this._logLevel=ze;this._logHandler=$e;this._userLogHandler=null;Fe.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le)){throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``)}this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==="string"?We[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=="function"){throw new TypeError("Value assigned to `logHandler` must be a function")}this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e);this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e);this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e);this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e);this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e);this._logHandler(this,Le.ERROR,...e)}}function He(e){Fe.forEach((t=>{t.setLogLevel(e)}))}function Ke(e,t){for(const n of Fe){let r=null;if(t&&t.level){r=We[t.level]}if(e===null){n.userLogHandler=null}else{n.userLogHandler=(t,n,...i)=>{const o=i.map((e=>{if(e==null){return null}else if(typeof e==="string"){return e}else if(typeof e==="number"||typeof e==="boolean"){return e.toString()}else if(e instanceof Error){return e.message}else{try{return JSON.stringify(e)}catch(e){return null}}})).filter((e=>e)).join(" ");if(n>=(r!==null&&r!==void 0?r:t.logLevel)){e({level:Le[n].toLowerCase(),message:o,args:i,type:t.name})}}}}}const qe=()=>undefined;const Ge={NODE_CLIENT:false,NODE_ADMIN:false,SDK_VERSION:"${JSCORE_VERSION}"};const Je=function(e,t){if(!e){throw Xe(t)}};const Xe=function(e){return new Error("Firebase Database ("+Ge.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};const Qe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if((i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320){i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return t};const Ze=function(e){const t=[];let n=0,r=0;while(n<e.length){const i=e[n++];if(i<128){t[r++]=String.fromCharCode(i)}else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++];const s=e[n++];const a=e[n++];const c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10));t[r++]=String.fromCharCode(56320+(c&1023))}else{const o=e[n++];const s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")};const Ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"abcdefghijklmnopqrstuvwxyz"+"0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(e,t){if(!Array.isArray(e)){throw Error("encodeByteArray takes an array as a parameter")}this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_;const r=[];for(let t=0;t<e.length;t+=3){const i=e[t];const o=t+1<e.length;const s=o?e[t+1]:0;const a=t+2<e.length;const c=a?e[t+2]:0;const u=i>>2;const f=(i&3)<<4|s>>4;let l=(s&15)<<2|c>>6;let d=c&63;if(!a){d=64;if(!o){l=64}}r.push(n[u],n[f],n[l],n[d])}return r.join("")},encodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return btoa(e)}return this.encodeByteArray(Qe(e),t)},decodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return atob(e)}return Ze(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_;const r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)];const o=t<e.length;const s=o?n[e.charAt(t)]:0;++t;const a=t<e.length;const c=a?n[e.charAt(t)]:64;++t;const u=t<e.length;const f=u?n[e.charAt(t)]:64;++t;if(i==null||s==null||c==null||f==null){throw new et}const l=i<<2|s>>4;r.push(l);if(c!==64){const e=s<<4&240|c>>2;r.push(e);if(f!==64){const e=c<<6&192|f;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++){this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e);this.charToByteMap_[this.byteToCharMap_[e]]=e;this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e);this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e;if(e>=this.ENCODED_VALS_BASE.length){this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e;this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e}}}}};class et extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}const tt=function(e){const t=Qe(e);return Ye.encodeByteArray(t,true)};const nt=function(e){return tt(e).replace(/\./g,"")};const rt=function(e){try{return Ye.decodeString(e,true)}catch(e){console.error("base64Decode failed: ",e)}return null};function it(e){return ot(undefined,e)}function ot(e,t){if(!(t instanceof Object)){return t}switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:if(e===undefined){e={}}break;case Array:e=[];break;default:return t}for(const n in t){if(!t.hasOwnProperty(n)||!st(n)){continue}e[n]=ot(e[n],t[n])}return e}function st(e){return e!=="__proto__"}function at(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof n.g!=="undefined"){return n.g}throw new Error("Unable to locate global object.")}const ct=()=>at().__FIREBASE_DEFAULTS__;const ut=()=>{if(typeof process==="undefined"||typeof process.env==="undefined"){return}const e=process.env.__FIREBASE_DEFAULTS__;if(e){return JSON.parse(e)}};const ft=()=>{if(typeof document==="undefined"){return}let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&rt(e[1]);return t&&JSON.parse(t)};const lt=()=>{try{return qe()||ct()||ut()||ft()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}};const dt=e=>{var t,n;return(n=(t=lt())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]};const ht=e=>{const t=dt(e);if(!t){return undefined}const n=t.lastIndexOf(":");if(n<=0||n+1===t.length){throw new Error(`Invalid host ${t} with no separate hostname and port!`)}const r=parseInt(t.substring(n+1),10);if(t[0]==="["){return[t.substring(1,n-1),r]}else{return[t.substring(0,n),r]}};const pt=()=>{var e;return(e=lt())===null||e===void 0?void 0:e.config};const gt=e=>{var t;return(t=lt())===null||t===void 0?void 0:t[`_${e}`]};class bt{constructor(){this.reject=()=>{};this.resolve=()=>{};this.promise=new Promise(((e,t)=>{this.resolve=e;this.reject=t}))}wrapCallback(e){return(t,n)=>{if(t){this.reject(t)}else{this.resolve(n)}if(typeof e==="function"){this.promise.catch((()=>{}));if(e.length===1){e(t)}else{e(t,n)}}}}}function vt(e,t){if(e.uid){throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.')}const n={alg:"none",type:"JWT"};const r=t||"demo-project";const i=e.iat||0;const o=e.sub||e.user_id;if(!o){throw new Error("mockUserToken must contain 'sub' or 'user_id' field!")}const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);const a="";return[nt(JSON.stringify(n)),nt(JSON.stringify(s)),a].join(".")}function mt(){if(typeof navigator!=="undefined"&&typeof navigator["userAgent"]==="string"){return navigator["userAgent"]}else{return""}}function yt(){return typeof window!=="undefined"&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function wt(){var e;const t=(e=lt())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node"){return true}else if(t==="browser"){return false}try{return Object.prototype.toString.call(n.g.process)==="[object process]"}catch(e){return false}}function _t(){return typeof window!=="undefined"||St()}function St(){return typeof WorkerGlobalScope!=="undefined"&&typeof self!=="undefined"&&self instanceof WorkerGlobalScope}function It(){return typeof navigator!=="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function kt(){const e=typeof chrome==="object"?chrome.runtime:typeof browser==="object"?browser.runtime:undefined;return typeof e==="object"&&e.id!==undefined}function Et(){return typeof navigator==="object"&&navigator["product"]==="ReactNative"}function Ct(){return mt().indexOf("Electron/")>=0}function At(){const e=mt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ot(){return mt().indexOf("MSAppHost/")>=0}function Mt(){return Ge.NODE_CLIENT===true||Ge.NODE_ADMIN===true}function Tt(){return!wt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pt(){try{return typeof indexedDB==="object"}catch(e){return false}}function Dt(){return new Promise(((e,t)=>{try{let n=true;const r="validate-browser-context-for-indexeddb-analytics-module";const i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close();if(!n){self.indexedDB.deleteDatabase(r)}e(true)};i.onupgradeneeded=()=>{n=false};i.onerror=()=>{var e;t(((e=i.error)===null||e===void 0?void 0:e.message)||"")}}catch(e){t(e)}}))}function Nt(){if(typeof navigator==="undefined"||!navigator.cookieEnabled){return false}return true}const xt="FirebaseError";class jt extends Error{constructor(e,t,n){super(t);this.code=e;this.customData=n;this.name=xt;Object.setPrototypeOf(this,jt.prototype);if(Error.captureStackTrace){Error.captureStackTrace(this,Rt.prototype.create)}}}class Rt{constructor(e,t,n){this.service=e;this.serviceName=t;this.errors=n}create(e,...t){const n=t[0]||{};const r=`${this.service}/${e}`;const i=this.errors[e];const o=i?Bt(i,n):"Error";const s=`${this.serviceName}: ${o} (${r}).`;const a=new jt(r,s,n);return a}}function Bt(e,t){return e.replace(Ft,((e,n)=>{const r=t[n];return r!=null?String(r):`<${n}?>`}))}const Ft=/\{\$([^}]+)}/g;function Lt(e){return JSON.parse(e)}function Wt(e){return JSON.stringify(e)}const zt=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=Lt(rt(o[0])||"");n=Lt(rt(o[1])||"");i=o[2];r=n["d"]||{};delete n["d"]}catch(e){}return{header:t,claims:n,data:r,signature:i}};const Ut=function(e){const t=zt(e).claims;const n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;if(typeof t==="object"){if(t.hasOwnProperty("nbf")){r=t["nbf"]}else if(t.hasOwnProperty("iat")){r=t["iat"]}if(t.hasOwnProperty("exp")){i=t["exp"]}else{i=r+86400}}return!!n&&!!r&&!!i&&n>=r&&n<=i};const $t=function(e){const t=zt(e).claims;if(typeof t==="object"&&t.hasOwnProperty("iat")){return t["iat"]}return null};const Vt=function(e){const t=zt(e),n=t.claims;return!!n&&typeof n==="object"&&n.hasOwnProperty("iat")};const Ht=function(e){const t=zt(e).claims;return typeof t==="object"&&t["admin"]===true};function Kt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qt(e,t){if(Object.prototype.hasOwnProperty.call(e,t)){return e[t]}else{return undefined}}function Gt(e){for(const t in e){if(Object.prototype.hasOwnProperty.call(e,t)){return false}}return true}function Jt(e,t,n){const r={};for(const i in e){if(Object.prototype.hasOwnProperty.call(e,i)){r[i]=t.call(n,e[i],i,e)}}return r}function Xt(e,t){if(e===t){return true}const n=Object.keys(e);const r=Object.keys(t);for(const i of n){if(!r.includes(i)){return false}const n=e[i];const o=t[i];if(Qt(n)&&Qt(o)){if(!Xt(n,o)){return false}}else if(n!==o){return false}}for(const e of r){if(!n.includes(e)){return false}}return true}function Qt(e){return e!==null&&typeof e==="object"}function Zt(e,t=2e3){const n=new bt;setTimeout((()=>n.reject("timeout!")),t);e.then(n.resolve,n.reject);return n.promise}function Yt(e){const t=[];for(const[n,r]of Object.entries(e)){if(Array.isArray(r)){r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}))}else{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}}return t.length?"&"+t.join("&"):""}function en(e){const t={};const n=e.replace(/^\?/,"").split("&");n.forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}));return t}function tn(e){const t=e.indexOf("?");if(!t){return""}const n=e.indexOf("#",t);return e.substring(t,n>0?n:undefined)}class nn{constructor(){this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.inbuf_=0;this.total_=0;this.blockSize=512/8;this.pad_[0]=128;for(let e=1;e<this.blockSize;++e){this.pad_[e]=0}this.reset()}reset(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.inbuf_=0;this.total_=0}compress_(e,t){if(!t){t=0}const n=this.W_;if(typeof e==="string"){for(let r=0;r<16;r++){n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3);t+=4}}else{for(let r=0;r<16;r++){n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];t+=4}}for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=(t<<1|t>>>31)&4294967295}let r=this.chain_[0];let i=this.chain_[1];let o=this.chain_[2];let s=this.chain_[3];let a=this.chain_[4];let c,u;for(let e=0;e<80;e++){if(e<40){if(e<20){c=s^i&(o^s);u=1518500249}else{c=i^o^s;u=1859775393}}else{if(e<60){c=i&o|s&(i|o);u=2400959708}else{c=i^o^s;u=3395469782}}const t=(r<<5|r>>>27)+c+a+u+n[e]&4294967295;a=s;s=o;o=(i<<30|i>>>2)&4294967295;i=r;r=t}this.chain_[0]=this.chain_[0]+r&4294967295;this.chain_[1]=this.chain_[1]+i&4294967295;this.chain_[2]=this.chain_[2]+o&4294967295;this.chain_[3]=this.chain_[3]+s&4294967295;this.chain_[4]=this.chain_[4]+a&4294967295}update(e,t){if(e==null){return}if(t===undefined){t=e.length}const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;while(r<t){if(o===0){while(r<=n){this.compress_(e,r);r+=this.blockSize}}if(typeof e==="string"){while(r<t){i[o]=e.charCodeAt(r);++o;++r;if(o===this.blockSize){this.compress_(i);o=0;break}}}else{while(r<t){i[o]=e[r];++o;++r;if(o===this.blockSize){this.compress_(i);o=0;break}}}}this.inbuf_=o;this.total_+=t}digest(){const e=[];let t=this.total_*8;if(this.inbuf_<56){this.update(this.pad_,56-this.inbuf_)}else{this.update(this.pad_,this.blockSize-(this.inbuf_-56))}for(let e=this.blockSize-1;e>=56;e--){this.buf_[e]=t&255;t/=256}this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++){for(let r=24;r>=0;r-=8){e[n]=this.chain_[t]>>r&255;++n}}return e}}function rn(e,t){const n=new on(e,t);return n.subscribe.bind(n)}class on{constructor(e,t){this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=Promise.resolve();this.finalized=false;this.onNoObservers=t;this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)}));this.close(e)}complete(){this.forEachObserver((e=>{e.complete()}));this.close()}subscribe(e,t,n){let r;if(e===undefined&&t===undefined&&n===undefined){throw new Error("Missing Observer.")}if(an(e,["next","error","complete"])){r=e}else{r={next:e,error:t,complete:n}}if(r.next===undefined){r.next=cn}if(r.error===undefined){r.error=cn}if(r.complete===undefined){r.complete=cn}const i=this.unsubscribeOne.bind(this,this.observers.length);if(this.finalized){this.task.then((()=>{try{if(this.finalError){r.error(this.finalError)}else{r.complete()}}catch(e){}return}))}this.observers.push(r);return i}unsubscribeOne(e){if(this.observers===undefined||this.observers[e]===undefined){return}delete this.observers[e];this.observerCount-=1;if(this.observerCount===0&&this.onNoObservers!==undefined){this.onNoObservers(this)}}forEachObserver(e){if(this.finalized){return}for(let t=0;t<this.observers.length;t++){this.sendOne(t,e)}}sendOne(e,t){this.task.then((()=>{if(this.observers!==undefined&&this.observers[e]!==undefined){try{t(this.observers[e])}catch(e){if(typeof console!=="undefined"&&console.error){console.error(e)}}}}))}close(e){if(this.finalized){return}this.finalized=true;if(e!==undefined){this.finalError=e}this.task.then((()=>{this.observers=undefined;this.onNoObservers=undefined}))}}function sn(e,t){return(...n)=>{Promise.resolve(true).then((()=>{e(...n)})).catch((e=>{if(t){t(e)}}))}}function an(e,t){if(typeof e!=="object"||e===null){return false}for(const n of t){if(n in e&&typeof e[n]==="function"){return true}}return false}function cn(){}const un=function(e,t,n,r){let i;if(r<t){i="at least "+t}else if(r>n){i=n===0?"none":"no more than "+n}if(i){const t=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(t)}};function fn(e,t){return`${e} failed: ${t} argument `}function ln(e,t,n){if(n&&!t){return}if(typeof t!=="string"){throw new Error(fn(e,"namespace")+"must be a valid firebase namespace.")}}function dn(e,t,n,r){if(r&&!n){return}if(typeof n!=="function"){throw new Error(fn(e,t)+"must be a valid function.")}}function hn(e,t,n,r){if(r&&!n){return}if(typeof n!=="object"||n===null){throw new Error(fn(e,t)+"must be a valid context object.")}}const pn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++;Je(r<e.length,"Surrogate pair missing trail surrogate.");const n=e.charCodeAt(r)-56320;i=65536+(t<<10)+n}if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if(i<65536){t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return t};const gn=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(r<128){t++}else if(r<2048){t+=2}else if(r>=55296&&r<=56319){t+=4;n++}else{t+=3}}return t};const bn=1e3;const vn=2;const mn=null&&4*60*60*1e3;const yn=.5;function wn(e,t=bn,n=vn){const r=t*Math.pow(n,e);const i=Math.round(yn*r*(Math.random()-.5)*2);return Math.min(mn,r+i)}function _n(e){if(!Number.isFinite(e)){return`${e}`}return e+Sn(e)}function Sn(e){e=Math.abs(e);const t=e%100;if(t>=10&&t<=20){return"th"}const n=e%10;if(n===1){return"st"}if(n===2){return"nd"}if(n===3){return"rd"}return"th"}function In(e){if(e&&e._delegate){return e._delegate}else{return e}}const kn=(e,t)=>t.some((t=>e instanceof t));let En;let Cn;function An(){return En||(En=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function On(){return Cn||(Cn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mn=new WeakMap;const Tn=new WeakMap;const Pn=new WeakMap;const Dn=new WeakMap;const Nn=new WeakMap;function xn(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i);e.removeEventListener("error",o)};const i=()=>{t(Wn(e.result));r()};const o=()=>{n(e.error);r()};e.addEventListener("success",i);e.addEventListener("error",o)}));t.then((t=>{if(t instanceof IDBCursor){Mn.set(t,e)}})).catch((()=>{}));Nn.set(t,e);return t}function jn(e){if(Tn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i);e.removeEventListener("error",o);e.removeEventListener("abort",o)};const i=()=>{t();r()};const o=()=>{n(e.error||new DOMException("AbortError","AbortError"));r()};e.addEventListener("complete",i);e.addEventListener("error",o);e.addEventListener("abort",o)}));Tn.set(e,t)}let Rn={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Tn.get(e);if(t==="objectStoreNames"){return e.objectStoreNames||Pn.get(e)}if(t==="store"){return n.objectStoreNames[1]?undefined:n.objectStore(n.objectStoreNames[0])}}return Wn(e[t])},set(e,t,n){e[t]=n;return true},has(e,t){if(e instanceof IDBTransaction&&(t==="done"||t==="store")){return true}return t in e}};function Bn(e){Rn=e(Rn)}function Fn(e){if(e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)){return function(t,...n){const r=e.call(zn(this),t,...n);Pn.set(r,t.sort?t.sort():[t]);return Wn(r)}}if(On().includes(e)){return function(...t){e.apply(zn(this),t);return Wn(Mn.get(this))}}return function(...t){return Wn(e.apply(zn(this),t))}}function Ln(e){if(typeof e==="function")return Fn(e);if(e instanceof IDBTransaction)jn(e);if(kn(e,An()))return new Proxy(e,Rn);return e}function Wn(e){if(e instanceof IDBRequest)return xn(e);if(Dn.has(e))return Dn.get(e);const t=Ln(e);if(t!==e){Dn.set(e,t);Nn.set(t,e)}return t}const zn=e=>Nn.get(e);function Un(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t);const a=Wn(s);if(r){s.addEventListener("upgradeneeded",(e=>{r(Wn(s.result),e.oldVersion,e.newVersion,Wn(s.transaction),e)}))}if(n){s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e)))}a.then((e=>{if(o)e.addEventListener("close",(()=>o()));if(i){e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))}})).catch((()=>{}));return a}function $n(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);if(t){n.addEventListener("blocked",(e=>t(e.oldVersion,e)))}return Wn(n).then((()=>undefined))}const Vn=["get","getKey","getAll","getAllKeys","count"];const Hn=["put","add","delete","clear"];const Kn=new Map;function qn(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==="string")){return}if(Kn.get(t))return Kn.get(t);const n=t.replace(/FromIndex$/,"");const r=t!==n;const i=Hn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Vn.includes(n))){return}const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;if(r)s=s.index(t.shift());return(await Promise.all([s[n](...t),i&&o.done]))[0]};Kn.set(t,o);return o}Bn((e=>({...e,get:(t,n,r)=>qn(t,n)||e.get(t,n,r),has:(t,n)=>!!qn(t,n)||e.has(t,n)})));class Gn{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map((e=>{if(Jn(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}else{return null}})).filter((e=>e)).join(" ")}}function Jn(e){const t=e.getComponent();return(t===null||t===void 0?void 0:t.type)==="VERSION"}const Xn="@firebase/app";const Qn="0.11.5";const Zn=new Ve("@firebase/app");const Yn="@firebase/app-compat";const er="@firebase/analytics-compat";const tr="@firebase/analytics";const nr="@firebase/app-check-compat";const rr="@firebase/app-check";const ir="@firebase/auth";const or="@firebase/auth-compat";const sr="@firebase/database";const ar="@firebase/data-connect";const cr="@firebase/database-compat";const ur="@firebase/functions";const fr="@firebase/functions-compat";const lr="@firebase/installations";const dr="@firebase/installations-compat";const hr="@firebase/messaging";const pr="@firebase/messaging-compat";const gr="@firebase/performance";const br="@firebase/performance-compat";const vr="@firebase/remote-config";const mr="@firebase/remote-config-compat";const yr="@firebase/storage";const wr="@firebase/storage-compat";const _r="@firebase/firestore";const Sr="@firebase/vertexai";const Ir="@firebase/firestore-compat";const kr="firebase";const Er="11.6.1";const Cr="[DEFAULT]";const Ar={[Xn]:"fire-core",[Yn]:"fire-core-compat",[tr]:"fire-analytics",[er]:"fire-analytics-compat",[rr]:"fire-app-check",[nr]:"fire-app-check-compat",[ir]:"fire-auth",[or]:"fire-auth-compat",[sr]:"fire-rtdb",[ar]:"fire-data-connect",[cr]:"fire-rtdb-compat",[ur]:"fire-fn",[fr]:"fire-fn-compat",[lr]:"fire-iid",[dr]:"fire-iid-compat",[hr]:"fire-fcm",[pr]:"fire-fcm-compat",[gr]:"fire-perf",[br]:"fire-perf-compat",[vr]:"fire-rc",[mr]:"fire-rc-compat",[yr]:"fire-gcs",[wr]:"fire-gcs-compat",[_r]:"fire-fst",[Ir]:"fire-fst-compat",[Sr]:"fire-vertex","fire-js":"fire-js",[kr]:"fire-js-all"};const Or=new Map;const Mr=new Map;const Tr=new Map;function Pr(e,t){try{e.container.addComponent(t)}catch(n){Zn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Dr(e,t){e.container.addOrOverwriteComponent(t)}function Nr(e){const t=e.name;if(Tr.has(t)){Zn.debug(`There were multiple attempts to register component ${t}.`);return false}Tr.set(t,e);for(const t of Or.values()){Pr(t,e)}for(const t of Mr.values()){Pr(t,e)}return true}function xr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:true});if(n){void n.triggerHeartbeat()}return e.container.getProvider(t)}function jr(e,t,n=Cr){xr(e,t).clearInstance(n)}function Rr(e){return e.options!==undefined}function Br(e){if(e===null||e===undefined){return false}return e.settings!==undefined}function Fr(){Tr.clear()}const Lr={["no-app"]:"No Firebase App '{$appName}' has been created - "+"call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a "+"Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."};const Wr=new Rt("app","Firebase",Lr);class zr{constructor(e,t,n){this._isDeleted=false;this._options=Object.assign({},e);this._config=Object.assign({},t);this._name=t.name;this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled;this._container=n;this.container.addComponent(new De("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){this.checkDestroyed();return this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed();this._automaticDataCollectionEnabled=e}get name(){this.checkDestroyed();return this._name}get options(){this.checkDestroyed();return this._options}get config(){this.checkDestroyed();return this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted){throw Wr.create("app-deleted",{appName:this._name})}}}function Ur(e,t){const n=rt(e.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`);return}const r=JSON.parse(n).exp;if(r===undefined){console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3;const o=(new Date).getTime();const s=i-o;if(s<=0){console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}}class $r extends zr{constructor(e,t,n,r){const i=t.automaticDataCollectionEnabled!==undefined?t.automaticDataCollectionEnabled:false;const o={name:n,automaticDataCollectionEnabled:i};if(e.apiKey!==undefined){super(e,o,r)}else{const t=e;super(t.options,o,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t);if(this._serverConfig.authIdToken){Ur(this._serverConfig.authIdToken,"authIdToken")}if(this._serverConfig.appCheckToken){Ur(this._serverConfig.appCheckToken,"appCheckToken")}this._finalizationRegistry=null;if(typeof FinalizationRegistry!=="undefined"){this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))}this._refCount=0;this.incRefCount(this._serverConfig.releaseOnDeref);this._serverConfig.releaseOnDeref=undefined;t.releaseOnDeref=undefined;Xr(Xn,Qn,"serverapp")}toJSON(){return undefined}get refCount(){return this._refCount}incRefCount(e){if(this.isDeleted){return}this._refCount++;if(e!==undefined&&this._finalizationRegistry!==null){this._finalizationRegistry.register(e,this)}}decRefCount(){if(this.isDeleted){return 0}return--this._refCount}automaticCleanup(){void Jr(this)}get settings(){this.checkDestroyed();return this._serverConfig}checkDestroyed(){if(this.isDeleted){throw Wr.create("server-app-deleted")}}}const Vr=null&&Er;function Hr(e,t={}){let n=e;if(typeof t!=="object"){const e=t;t={name:e}}const r=Object.assign({name:Cr,automaticDataCollectionEnabled:false},t);const i=r.name;if(typeof i!=="string"||!i){throw Wr.create("bad-app-name",{appName:String(i)})}n||(n=pt());if(!n){throw Wr.create("no-options")}const o=Or.get(i);if(o){if(Xt(n,o.options)&&Xt(r,o.config)){return o}else{throw Wr.create("duplicate-app",{appName:i})}}const s=new Be(i);for(const e of Tr.values()){s.addComponent(e)}const a=new zr(n,r,s);Or.set(i,a);return a}function Kr(e,t){if(isBrowser()&&!isWebWorker()){throw Wr.create("invalid-server-app-environment")}if(t.automaticDataCollectionEnabled===undefined){t.automaticDataCollectionEnabled=false}let n;if(Rr(e)){n=e.options}else{n=e}const r=Object.assign(Object.assign({},t),n);if(r.releaseOnDeref!==undefined){delete r.releaseOnDeref}const i=e=>[...e].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0);if(t.releaseOnDeref!==undefined){if(typeof FinalizationRegistry==="undefined"){throw Wr.create("finalization-registry-not-supported",{})}}const o=""+i(JSON.stringify(r));const s=Mr.get(o);if(s){s.incRefCount(t.releaseOnDeref);return s}const a=new ComponentContainer(o);for(const e of Tr.values()){a.addComponent(e)}const c=new $r(n,t,o,a);Mr.set(o,c);return c}function qr(e=Cr){const t=Or.get(e);if(!t&&e===Cr&&pt()){return Hr()}if(!t){throw Wr.create("no-app",{appName:e})}return t}function Gr(){return Array.from(Or.values())}async function Jr(e){let t=false;const n=e.name;if(Or.has(n)){t=true;Or.delete(n)}else if(Mr.has(n)){const r=e;if(r.decRefCount()<=0){Mr.delete(n);t=true}}if(t){await Promise.all(e.container.getProviders().map((e=>e.delete())));e.isDeleted=true}}function Xr(e,t,n){var r;let i=(r=Ar[e])!==null&&r!==void 0?r:e;if(n){i+=`-${n}`}const o=i.match(/\s|\//);const s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];if(o){e.push(`library name "${i}" contains illegal characters (whitespace or "/")`)}if(o&&s){e.push("and")}if(s){e.push(`version name "${t}" contains illegal characters (whitespace or "/")`)}Zn.warn(e.join(" "));return}Nr(new De(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function Qr(e,t){if(e!==null&&typeof e!=="function"){throw Wr.create("invalid-log-argument")}setUserLogHandler(e,t)}function Zr(e){setLogLevel$1(e)}const Yr="firebase-heartbeat-database";const ei=1;const ti="firebase-heartbeat-store";let ni=null;function ri(){if(!ni){ni=Un(Yr,ei,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ti)}catch(e){console.warn(e)}}}}).catch((e=>{throw Wr.create("idb-open",{originalErrorMessage:e.message})}))}return ni}async function ii(e){try{const t=await ri();const n=t.transaction(ti);const r=await n.objectStore(ti).get(si(e));await n.done;return r}catch(e){if(e instanceof jt){Zn.warn(e.message)}else{const t=Wr.create("idb-get",{originalErrorMessage:e===null||e===void 0?void 0:e.message});Zn.warn(t.message)}}}async function oi(e,t){try{const n=await ri();const r=n.transaction(ti,"readwrite");const i=r.objectStore(ti);await i.put(t,si(e));await r.done}catch(e){if(e instanceof jt){Zn.warn(e.message)}else{const t=Wr.create("idb-set",{originalErrorMessage:e===null||e===void 0?void 0:e.message});Zn.warn(t.message)}}}function si(e){return`${e.name}!${e.options.appId}`}const ai=1024;const ci=30;class ui{constructor(e){this.container=e;this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new di(t);this._heartbeatsCachePromise=this._storage.read().then((e=>{this._heartbeatsCache=e;return e}))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate();const r=n.getPlatformInfoString();const i=fi();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null){this._heartbeatsCache=await this._heartbeatsCachePromise;if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null){return}}if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some((e=>e.date===i))){return}else{this._heartbeatsCache.heartbeats.push({date:i,agent:r});if(this._heartbeatsCache.heartbeats.length>ci){const e=pi(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zn.warn(e)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null){await this._heartbeatsCachePromise}if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0){return""}const t=fi();const{heartbeatsToSend:n,unsentEntries:r}=li(this._heartbeatsCache.heartbeats);const i=nt(JSON.stringify({version:2,heartbeats:n}));this._heartbeatsCache.lastSentHeartbeatDate=t;if(r.length>0){this._heartbeatsCache.heartbeats=r;await this._storage.overwrite(this._heartbeatsCache)}else{this._heartbeatsCache.heartbeats=[];void this._storage.overwrite(this._heartbeatsCache)}return i}catch(e){Zn.warn(e);return""}}}function fi(){const e=new Date;return e.toISOString().substring(0,10)}function li(e,t=ai){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(!e){n.push({agent:i.agent,dates:[i.date]});if(hi(n)>t){n.pop();break}}else{e.dates.push(i.date);if(hi(n)>t){e.dates.pop();break}}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class di{constructor(e){this.app=e;this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){if(!Pt()){return false}else{return Dt().then((()=>true)).catch((()=>false))}}async read(){const e=await this._canUseIndexedDBPromise;if(!e){return{heartbeats:[]}}else{const e=await ii(this.app);if(e===null||e===void 0?void 0:e.heartbeats){return e}else{return{heartbeats:[]}}}}async overwrite(e){var t;const n=await this._canUseIndexedDBPromise;if(!n){return}else{const n=await this.read();return oi(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;const n=await this._canUseIndexedDBPromise;if(!n){return}else{const n=await this.read();return oi(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function hi(e){return nt(JSON.stringify({version:2,heartbeats:e})).length}function pi(e){if(e.length===0){return-1}let t=0;let n=e[0].date;for(let r=1;r<e.length;r++){if(e[r].date<n){n=e[r].date;t=r}}return t}function gi(e){Nr(new De("platform-logger",(e=>new Gn(e)),"PRIVATE"));Nr(new De("heartbeat",(e=>new ui(e)),"PRIVATE"));Xr(Xn,Qn,e);Xr(Xn,Qn,"esm2017");Xr("fire-js","")}gi("");const bi={NODE_CLIENT:false,NODE_ADMIN:false,SDK_VERSION:"${JSCORE_VERSION}"};const vi=function(e,t){if(!e){throw mi(t)}};const mi=function(e){return new Error("Firebase Database ("+bi.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};const yi=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if((i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320){i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return t};const wi=function(e){const t=[];let n=0,r=0;while(n<e.length){const i=e[n++];if(i<128){t[r++]=String.fromCharCode(i)}else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++];const s=e[n++];const a=e[n++];const c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10));t[r++]=String.fromCharCode(56320+(c&1023))}else{const o=e[n++];const s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")};const _i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"abcdefghijklmnopqrstuvwxyz"+"0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(e,t){if(!Array.isArray(e)){throw Error("encodeByteArray takes an array as a parameter")}this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_;const r=[];for(let t=0;t<e.length;t+=3){const i=e[t];const o=t+1<e.length;const s=o?e[t+1]:0;const a=t+2<e.length;const c=a?e[t+2]:0;const u=i>>2;const f=(i&3)<<4|s>>4;let l=(s&15)<<2|c>>6;let d=c&63;if(!a){d=64;if(!o){l=64}}r.push(n[u],n[f],n[l],n[d])}return r.join("")},encodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return btoa(e)}return this.encodeByteArray(yi(e),t)},decodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return atob(e)}return wi(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_;const r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)];const o=t<e.length;const s=o?n[e.charAt(t)]:0;++t;const a=t<e.length;const c=a?n[e.charAt(t)]:64;++t;const u=t<e.length;const f=u?n[e.charAt(t)]:64;++t;if(i==null||s==null||c==null||f==null){throw new Si}const l=i<<2|s>>4;r.push(l);if(c!==64){const e=s<<4&240|c>>2;r.push(e);if(f!==64){const e=c<<6&192|f;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++){this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e);this.charToByteMap_[this.byteToCharMap_[e]]=e;this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e);this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e;if(e>=this.ENCODED_VALS_BASE.length){this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e;this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e}}}}};class Si extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}const Ii=function(e){const t=yi(e);return _i.encodeByteArray(t,true)};const ki=function(e){return Ii(e).replace(/\./g,"")};const Ei=function(e){try{return _i.decodeString(e,true)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ci(e){return Ai(undefined,e)}function Ai(e,t){if(!(t instanceof Object)){return t}switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:if(e===undefined){e={}}break;case Array:e=[];break;default:return t}for(const n in t){if(!t.hasOwnProperty(n)||!Oi(n)){continue}e[n]=Ai(e[n],t[n])}return e}function Oi(e){return e!=="__proto__"}function Mi(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof n.g!=="undefined"){return n.g}throw new Error("Unable to locate global object.")}const Ti=()=>Mi().__FIREBASE_DEFAULTS__;const Pi=()=>{if(typeof process==="undefined"||typeof process.env==="undefined"){return}const e=process.env.__FIREBASE_DEFAULTS__;if(e){return JSON.parse(e)}};const Di=()=>{if(typeof document==="undefined"){return}let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&Ei(e[1]);return t&&JSON.parse(t)};const Ni=()=>{try{return getDefaultsFromPostinstall()||Ti()||Pi()||Di()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}};const xi=e=>Ni()?.emulatorHosts?.[e];const ji=e=>{const t=xi(e);if(!t){return undefined}const n=t.lastIndexOf(":");if(n<=0||n+1===t.length){throw new Error(`Invalid host ${t} with no separate hostname and port!`)}const r=parseInt(t.substring(n+1),10);if(t[0]==="["){return[t.substring(1,n-1),r]}else{return[t.substring(0,n),r]}};const Ri=()=>Ni()?.config;const Bi=e=>Ni()?.[`_${e}`];class Fi{constructor(){this.reject=()=>{};this.resolve=()=>{};this.promise=new Promise(((e,t)=>{this.resolve=e;this.reject=t}))}wrapCallback(e){return(t,n)=>{if(t){this.reject(t)}else{this.resolve(n)}if(typeof e==="function"){this.promise.catch((()=>{}));if(e.length===1){e(t)}else{e(t,n)}}}}}function Li(e){try{const t=e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e;return t.endsWith(".cloudworkstations.dev")}catch{return false}}async function Wi(e){const t=await fetch(e,{credentials:"include"});return t.ok}function zi(e,t){if(e.uid){throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.')}const n={alg:"none",type:"JWT"};const r=t||"demo-project";const i=e.iat||0;const o=e.sub||e.user_id;if(!o){throw new Error("mockUserToken must contain 'sub' or 'user_id' field!")}const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...e};const a="";return[ki(JSON.stringify(n)),ki(JSON.stringify(s)),a].join(".")}const Ui={};function $i(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ui)){if(Ui[t]){e.emulator.push(t)}else{e.prod.push(t)}}return e}function Vi(e){let t=document.getElementById(e);let n=false;if(!t){t=document.createElement("div");t.setAttribute("id",e);n=true}return{created:n,element:t}}let Hi=false;function Ki(e,t){if(typeof window==="undefined"||typeof document==="undefined"||!Li(window.location.host)||Ui[e]===t||Ui[e]||Hi){return}Ui[e]=t;function n(e){return`__firebase__banner__${e}`}const r="__firebase__banner";const i=$i();const o=i.prod.length>0;function s(){const e=document.getElementById(r);if(e){e.remove()}}function a(e){e.style.display="flex";e.style.background="#7faaf0";e.style.position="fixed";e.style.bottom="5px";e.style.left="5px";e.style.padding=".5em";e.style.borderRadius="5px";e.style.alignItems="center"}function c(e,t){e.setAttribute("width","24");e.setAttribute("id",t);e.setAttribute("height","24");e.setAttribute("viewBox","0 0 24 24");e.setAttribute("fill","none");e.style.marginLeft="-6px"}function u(){const e=document.createElement("span");e.style.cursor="pointer";e.style.marginLeft="16px";e.style.fontSize="24px";e.innerHTML=" &times;";e.onclick=()=>{Hi=true;s()};return e}function f(e,t){e.setAttribute("id",t);e.innerText="Learn more";e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend";e.setAttribute("target","__blank");e.style.paddingLeft="5px";e.style.textDecoration="underline"}function l(){const e=Vi(r);const t=n("text");const i=document.getElementById(t)||document.createElement("span");const s=n("learnmore");const l=document.getElementById(s)||document.createElement("a");const d=n("preprendIcon");const h=document.getElementById(d)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;a(t);f(l,s);const n=u();c(h,d);t.append(h,i,l,n);document.body.appendChild(t)}if(o){i.innerText=`Preview backend disconnected.`;h.innerHTML=`<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>`}else{h.innerHTML=`<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>`;i.innerText="Preview backend running in this workspace."}i.setAttribute("id",t)}if(document.readyState==="loading"){window.addEventListener("DOMContentLoaded",l)}else{l()}}function qi(){if(typeof navigator!=="undefined"&&typeof navigator["userAgent"]==="string"){return navigator["userAgent"]}else{return""}}function Gi(){return typeof window!=="undefined"&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qi())}function Ji(){const e=Ni()?.forceEnvironment;if(e==="node"){return true}else if(e==="browser"){return false}try{return Object.prototype.toString.call(n.g.process)==="[object process]"}catch(e){return false}}function Xi(){return typeof window!=="undefined"||Qi()}function Qi(){return typeof WorkerGlobalScope!=="undefined"&&typeof self!=="undefined"&&self instanceof WorkerGlobalScope}function Zi(){return typeof navigator!=="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function Yi(){const e=typeof chrome==="object"?chrome.runtime:typeof browser==="object"?browser.runtime:undefined;return typeof e==="object"&&e.id!==undefined}function eo(){return typeof navigator==="object"&&navigator["product"]==="ReactNative"}function to(){return qi().indexOf("Electron/")>=0}function no(){const e=qi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ro(){return qi().indexOf("MSAppHost/")>=0}function io(){return bi.NODE_CLIENT===true||bi.NODE_ADMIN===true}function oo(){return!Ji()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function so(){return!Ji()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function ao(){try{return typeof indexedDB==="object"}catch(e){return false}}function co(){return new Promise(((e,t)=>{try{let n=true;const r="validate-browser-context-for-indexeddb-analytics-module";const i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close();if(!n){self.indexedDB.deleteDatabase(r)}e(true)};i.onupgradeneeded=()=>{n=false};i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}}))}function uo(){if(typeof navigator==="undefined"||!navigator.cookieEnabled){return false}return true}const fo="FirebaseError";class lo extends Error{constructor(e,t,n){super(t);this.code=e;this.customData=n;this.name=fo;Object.setPrototypeOf(this,lo.prototype);if(Error.captureStackTrace){Error.captureStackTrace(this,ho.prototype.create)}}}class ho{constructor(e,t,n){this.service=e;this.serviceName=t;this.errors=n}create(e,...t){const n=t[0]||{};const r=`${this.service}/${e}`;const i=this.errors[e];const o=i?po(i,n):"Error";const s=`${this.serviceName}: ${o} (${r}).`;const a=new lo(r,s,n);return a}}function po(e,t){return e.replace(go,((e,n)=>{const r=t[n];return r!=null?String(r):`<${n}?>`}))}const go=/\{\$([^}]+)}/g;function bo(e){return JSON.parse(e)}function vo(e){return JSON.stringify(e)}const mo=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=bo(Ei(o[0])||"");n=bo(Ei(o[1])||"");i=o[2];r=n["d"]||{};delete n["d"]}catch(e){}return{header:t,claims:n,data:r,signature:i}};const yo=function(e){const t=mo(e).claims;const n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;if(typeof t==="object"){if(t.hasOwnProperty("nbf")){r=t["nbf"]}else if(t.hasOwnProperty("iat")){r=t["iat"]}if(t.hasOwnProperty("exp")){i=t["exp"]}else{i=r+86400}}return!!n&&!!r&&!!i&&n>=r&&n<=i};const wo=function(e){const t=mo(e).claims;if(typeof t==="object"&&t.hasOwnProperty("iat")){return t["iat"]}return null};const _o=function(e){const t=mo(e),n=t.claims;return!!n&&typeof n==="object"&&n.hasOwnProperty("iat")};const So=function(e){const t=mo(e).claims;return typeof t==="object"&&t["admin"]===true};function Io(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ko(e,t){if(Object.prototype.hasOwnProperty.call(e,t)){return e[t]}else{return undefined}}function Eo(e){for(const t in e){if(Object.prototype.hasOwnProperty.call(e,t)){return false}}return true}function Co(e,t,n){const r={};for(const i in e){if(Object.prototype.hasOwnProperty.call(e,i)){r[i]=t.call(n,e[i],i,e)}}return r}function Ao(e,t){if(e===t){return true}const n=Object.keys(e);const r=Object.keys(t);for(const i of n){if(!r.includes(i)){return false}const n=e[i];const o=t[i];if(Oo(n)&&Oo(o)){if(!Ao(n,o)){return false}}else if(n!==o){return false}}for(const e of r){if(!n.includes(e)){return false}}return true}function Oo(e){return e!==null&&typeof e==="object"}function Mo(e,t=2e3){const n=new Fi;setTimeout((()=>n.reject("timeout!")),t);e.then(n.resolve,n.reject);return n.promise}function To(e){const t=[];for(const[n,r]of Object.entries(e)){if(Array.isArray(r)){r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}))}else{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}}return t.length?"&"+t.join("&"):""}function Po(e){const t={};const n=e.replace(/^\?/,"").split("&");n.forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}));return t}function Do(e){const t=e.indexOf("?");if(!t){return""}const n=e.indexOf("#",t);return e.substring(t,n>0?n:undefined)}class No{constructor(){this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.inbuf_=0;this.total_=0;this.blockSize=512/8;this.pad_[0]=128;for(let e=1;e<this.blockSize;++e){this.pad_[e]=0}this.reset()}reset(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.inbuf_=0;this.total_=0}compress_(e,t){if(!t){t=0}const n=this.W_;if(typeof e==="string"){for(let r=0;r<16;r++){n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3);t+=4}}else{for(let r=0;r<16;r++){n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];t+=4}}for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=(t<<1|t>>>31)&4294967295}let r=this.chain_[0];let i=this.chain_[1];let o=this.chain_[2];let s=this.chain_[3];let a=this.chain_[4];let c,u;for(let e=0;e<80;e++){if(e<40){if(e<20){c=s^i&(o^s);u=1518500249}else{c=i^o^s;u=1859775393}}else{if(e<60){c=i&o|s&(i|o);u=2400959708}else{c=i^o^s;u=3395469782}}const t=(r<<5|r>>>27)+c+a+u+n[e]&4294967295;a=s;s=o;o=(i<<30|i>>>2)&4294967295;i=r;r=t}this.chain_[0]=this.chain_[0]+r&4294967295;this.chain_[1]=this.chain_[1]+i&4294967295;this.chain_[2]=this.chain_[2]+o&4294967295;this.chain_[3]=this.chain_[3]+s&4294967295;this.chain_[4]=this.chain_[4]+a&4294967295}update(e,t){if(e==null){return}if(t===undefined){t=e.length}const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;while(r<t){if(o===0){while(r<=n){this.compress_(e,r);r+=this.blockSize}}if(typeof e==="string"){while(r<t){i[o]=e.charCodeAt(r);++o;++r;if(o===this.blockSize){this.compress_(i);o=0;break}}}else{while(r<t){i[o]=e[r];++o;++r;if(o===this.blockSize){this.compress_(i);o=0;break}}}}this.inbuf_=o;this.total_+=t}digest(){const e=[];let t=this.total_*8;if(this.inbuf_<56){this.update(this.pad_,56-this.inbuf_)}else{this.update(this.pad_,this.blockSize-(this.inbuf_-56))}for(let e=this.blockSize-1;e>=56;e--){this.buf_[e]=t&255;t/=256}this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++){for(let r=24;r>=0;r-=8){e[n]=this.chain_[t]>>r&255;++n}}return e}}function xo(e,t){const n=new jo(e,t);return n.subscribe.bind(n)}class jo{constructor(e,t){this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=Promise.resolve();this.finalized=false;this.onNoObservers=t;this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)}));this.close(e)}complete(){this.forEachObserver((e=>{e.complete()}));this.close()}subscribe(e,t,n){let r;if(e===undefined&&t===undefined&&n===undefined){throw new Error("Missing Observer.")}if(Bo(e,["next","error","complete"])){r=e}else{r={next:e,error:t,complete:n}}if(r.next===undefined){r.next=Fo}if(r.error===undefined){r.error=Fo}if(r.complete===undefined){r.complete=Fo}const i=this.unsubscribeOne.bind(this,this.observers.length);if(this.finalized){this.task.then((()=>{try{if(this.finalError){r.error(this.finalError)}else{r.complete()}}catch(e){}return}))}this.observers.push(r);return i}unsubscribeOne(e){if(this.observers===undefined||this.observers[e]===undefined){return}delete this.observers[e];this.observerCount-=1;if(this.observerCount===0&&this.onNoObservers!==undefined){this.onNoObservers(this)}}forEachObserver(e){if(this.finalized){return}for(let t=0;t<this.observers.length;t++){this.sendOne(t,e)}}sendOne(e,t){this.task.then((()=>{if(this.observers!==undefined&&this.observers[e]!==undefined){try{t(this.observers[e])}catch(e){if(typeof console!=="undefined"&&console.error){console.error(e)}}}}))}close(e){if(this.finalized){return}this.finalized=true;if(e!==undefined){this.finalError=e}this.task.then((()=>{this.observers=undefined;this.onNoObservers=undefined}))}}function Ro(e,t){return(...n)=>{Promise.resolve(true).then((()=>{e(...n)})).catch((e=>{if(t){t(e)}}))}}function Bo(e,t){if(typeof e!=="object"||e===null){return false}for(const n of t){if(n in e&&typeof e[n]==="function"){return true}}return false}function Fo(){}const Lo=function(e,t,n,r){let i;if(r<t){i="at least "+t}else if(r>n){i=n===0?"none":"no more than "+n}if(i){const t=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(t)}};function Wo(e,t){return`${e} failed: ${t} argument `}function zo(e,t,n){if(n&&!t){return}if(typeof t!=="string"){throw new Error(Wo(e,"namespace")+"must be a valid firebase namespace.")}}function Uo(e,t,n,r){if(r&&!n){return}if(typeof n!=="function"){throw new Error(Wo(e,t)+"must be a valid function.")}}function $o(e,t,n,r){if(r&&!n){return}if(typeof n!=="object"||n===null){throw new Error(Wo(e,t)+"must be a valid context object.")}}const Vo=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++;vi(r<e.length,"Surrogate pair missing trail surrogate.");const n=e.charCodeAt(r)-56320;i=65536+(t<<10)+n}if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if(i<65536){t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return t};const Ho=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(r<128){t++}else if(r<2048){t+=2}else if(r>=55296&&r<=56319){t+=4;n++}else{t+=3}}return t};const Ko=1e3;const qo=2;const Go=null&&4*60*60*1e3;const Jo=.5;function Xo(e,t=Ko,n=qo){const r=t*Math.pow(n,e);const i=Math.round(Jo*r*(Math.random()-.5)*2);return Math.min(Go,r+i)}function Qo(e){if(!Number.isFinite(e)){return`${e}`}return e+Zo(e)}function Zo(e){e=Math.abs(e);const t=e%100;if(t>=10&&t<=20){return"th"}const n=e%10;if(n===1){return"st"}if(n===2){return"nd"}if(n===3){return"rd"}return"th"}function Yo(e){if(e&&e._delegate){return e._delegate}else{return e}}class es{constructor(e,t,n){this.name=e;this.instanceFactory=t;this.type=n;this.multipleInstances=false;this.serviceProps={};this.instantiationMode="LAZY";this.onInstanceCreated=null}setInstantiationMode(e){this.instantiationMode=e;return this}setMultipleInstances(e){this.multipleInstances=e;return this}setServiceProps(e){this.serviceProps=e;return this}setInstanceCreatedCallback(e){this.onInstanceCreated=e;return this}}const ts="[DEFAULT]";class ns{constructor(e,t){this.name=e;this.container=t;this.component=null;this.instances=new Map;this.instancesDeferred=new Map;this.instancesOptions=new Map;this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Deferred;this.instancesDeferred.set(t,e);if(this.isInitialized(t)||this.shouldAutoInitialize()){try{const n=this.getOrInitializeService({instanceIdentifier:t});if(n){e.resolve(n)}}catch(e){}}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier);const n=e?.optional??false;if(this.isInitialized(t)||this.shouldAutoInitialize()){try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n){return null}else{throw e}}}else{if(n){return null}else{throw Error(`Service ${this.name} is not available`)}}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name){throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`)}if(this.component){throw Error(`Component for ${this.name} has already been provided`)}this.component=e;if(!this.shouldAutoInitialize()){return}if(is(e)){try{this.getOrInitializeService({instanceIdentifier:ts})}catch(e){}}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}clearInstance(e=ts){this.instancesDeferred.delete(e);this.instancesOptions.delete(e);this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return this.component!=null}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e;const n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n)){throw Error(`${this.name}(${n}) has already been initialized`)}if(!this.isComponentSet()){throw Error(`Component ${this.name} has not been registered yet`)}const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);if(n===i){t.resolve(r)}}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t);const r=this.onInitCallbacks.get(n)??new Set;r.add(e);this.onInitCallbacks.set(n,r);const i=this.instances.get(n);if(i){e(i,n)}return()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(!n){return}for(const r of n){try{r(e,t)}catch{}}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component){n=this.component.instanceFactory(this.container,{instanceIdentifier:rs(e),options:t});this.instances.set(e,n);this.instancesOptions.set(e,t);this.invokeOnInitCallbacks(n,e);if(this.component.onInstanceCreated){try{this.component.onInstanceCreated(this.container,e,n)}catch{}}}return n||null}normalizeInstanceIdentifier(e=ts){if(this.component){return this.component.multipleInstances?e:ts}else{return e}}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rs(e){return e===ts?undefined:e}function is(e){return e.instantiationMode==="EAGER"}class os{constructor(e){this.name=e;this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){throw new Error(`Component ${e.name} has already been registered with ${this.name}`)}t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){this.providers.delete(e.name)}this.addComponent(e)}getProvider(e){if(this.providers.has(e)){return this.providers.get(e)}const t=new ns(e,this);this.providers.set(e,t);return t}getProviders(){return Array.from(this.providers.values())}}const ss="@firebase/installations";const as="0.6.19";const cs=1e4;const us=`w:${as}`;const fs="FIS_v2";const ls="https://firebaseinstallations.googleapis.com/v1";const ds=60*60*1e3;const hs="installations";const ps="Installations";const gs={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."};const bs=new ho(hs,ps,gs);function vs(e){return e instanceof lo&&e.code.includes("request-failed")}function ms({projectId:e}){return`${ls}/projects/${e}/installations`}function ys(e){return{token:e.token,requestStatus:2,expiresIn:ks(e.expiresIn),creationTime:Date.now()}}async function ws(e,t){const n=await t.json();const r=n.error;return bs.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function _s({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Ss(e,{refreshToken:t}){const n=_s(e);n.append("Authorization",Es(t));return n}async function Is(e){const t=await e();if(t.status>=500&&t.status<600){return e()}return t}function ks(e){return Number(e.replace("s","000"))}function Es(e){return`${fs} ${e}`}async function Cs({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=ms(e);const i=_s(e);const o=t.getImmediate({optional:true});if(o){const e=await o.getHeartbeatsHeader();if(e){i.append("x-firebase-client",e)}}const s={fid:n,authVersion:fs,appId:e.appId,sdkVersion:us};const a={method:"POST",headers:i,body:JSON.stringify(s)};const c=await Is((()=>fetch(r,a)));if(c.ok){const e=await c.json();const t={fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:ys(e.authToken)};return t}else{throw await ws("Create Installation",c)}}function As(e){return new Promise((t=>{setTimeout(t,e)}))}function Os(e){const t=btoa(String.fromCharCode(...e));return t.replace(/\+/g,"-").replace(/\//g,"_")}const Ms=/^[cdef][\w-]{21}$/;const Ts="";function Ps(){try{const e=new Uint8Array(17);const t=self.crypto||self.msCrypto;t.getRandomValues(e);e[0]=112+e[0]%16;const n=Ds(e);return Ms.test(n)?n:Ts}catch{return Ts}}function Ds(e){const t=Os(e);return t.substr(0,22)}function Ns(e){return`${e.appName}!${e.appId}`}const xs=new Map;function js(e,t){const n=Ns(e);Fs(n,t);Ls(n,t)}function Rs(e,t){zs();const n=Ns(e);let r=xs.get(n);if(!r){r=new Set;xs.set(n,r)}r.add(t)}function Bs(e,t){const n=Ns(e);const r=xs.get(n);if(!r){return}r.delete(t);if(r.size===0){xs.delete(n)}Us()}function Fs(e,t){const n=xs.get(e);if(!n){return}for(const e of n){e(t)}}function Ls(e,t){const n=zs();if(n){n.postMessage({key:e,fid:t})}Us()}let Ws=null;function zs(){if(!Ws&&"BroadcastChannel"in self){Ws=new BroadcastChannel("[Firebase] FID Change");Ws.onmessage=e=>{Fs(e.data.key,e.data.fid)}}return Ws}function Us(){if(xs.size===0&&Ws){Ws.close();Ws=null}}const $s="firebase-installations-database";const Vs=1;const Hs="firebase-installations-store";let Ks=null;function qs(){if(!Ks){Ks=Un($s,Vs,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Hs)}}})}return Ks}async function Gs(e,t){const n=Ns(e);const r=await qs();const i=r.transaction(Hs,"readwrite");const o=i.objectStore(Hs);const s=await o.get(n);await o.put(t,n);await i.done;if(!s||s.fid!==t.fid){js(e,t.fid)}return t}async function Js(e){const t=Ns(e);const n=await qs();const r=n.transaction(Hs,"readwrite");await r.objectStore(Hs).delete(t);await r.done}async function Xs(e,t){const n=Ns(e);const r=await qs();const i=r.transaction(Hs,"readwrite");const o=i.objectStore(Hs);const s=await o.get(n);const a=t(s);if(a===undefined){await o.delete(n)}else{await o.put(a,n)}await i.done;if(a&&(!s||s.fid!==a.fid)){js(e,a.fid)}return a}async function Qs(e){let t;const n=await Xs(e.appConfig,(n=>{const r=Zs(n);const i=Ys(e,r);t=i.registrationPromise;return i.installationEntry}));if(n.fid===Ts){return{installationEntry:await t}}return{installationEntry:n,registrationPromise:t}}function Zs(e){const t=e||{fid:Ps(),registrationStatus:0};return ra(t)}function Ys(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const e=Promise.reject(bs.create("app-offline"));return{installationEntry:t,registrationPromise:e}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};const r=ea(e,n);return{installationEntry:n,registrationPromise:r}}else if(t.registrationStatus===1){return{installationEntry:t,registrationPromise:ta(e)}}else{return{installationEntry:t}}}async function ea(e,t){try{const n=await Cs(e,t);return Gs(e.appConfig,n)}catch(n){if(vs(n)&&n.customData.serverCode===409){await Js(e.appConfig)}else{await Gs(e.appConfig,{fid:t.fid,registrationStatus:0})}throw n}}async function ta(e){let t=await na(e.appConfig);while(t.registrationStatus===1){await As(100);t=await na(e.appConfig)}if(t.registrationStatus===0){const{installationEntry:t,registrationPromise:n}=await Qs(e);if(n){return n}else{return t}}return t}function na(e){return Xs(e,(e=>{if(!e){throw bs.create("installation-not-found")}return ra(e)}))}function ra(e){if(ia(e)){return{fid:e.fid,registrationStatus:0}}return e}function ia(e){return e.registrationStatus===1&&e.registrationTime+cs<Date.now()}async function oa({appConfig:e,heartbeatServiceProvider:t},n){const r=sa(e,n);const i=Ss(e,n);const o=t.getImmediate({optional:true});if(o){const e=await o.getHeartbeatsHeader();if(e){i.append("x-firebase-client",e)}}const s={installation:{sdkVersion:us,appId:e.appId}};const a={method:"POST",headers:i,body:JSON.stringify(s)};const c=await Is((()=>fetch(r,a)));if(c.ok){const e=await c.json();const t=ys(e);return t}else{throw await ws("Generate Auth Token",c)}}function sa(e,{fid:t}){return`${ms(e)}/${t}/authTokens:generate`}async function aa(e,t=false){let n;const r=await Xs(e.appConfig,(r=>{if(!la(r)){throw bs.create("not-registered")}const i=r.authToken;if(!t&&da(i)){return r}else if(i.requestStatus===1){n=ca(e,t);return r}else{if(!navigator.onLine){throw bs.create("app-offline")}const t=pa(r);n=fa(e,t);return t}}));const i=n?await n:r.authToken;return i}async function ca(e,t){let n=await ua(e.appConfig);while(n.authToken.requestStatus===1){await As(100);n=await ua(e.appConfig)}const r=n.authToken;if(r.requestStatus===0){return aa(e,t)}else{return r}}function ua(e){return Xs(e,(e=>{if(!la(e)){throw bs.create("not-registered")}const t=e.authToken;if(ga(t)){return{...e,authToken:{requestStatus:0}}}return e}))}async function fa(e,t){try{const n=await oa(e,t);const r={...t,authToken:n};await Gs(e.appConfig,r);return n}catch(n){if(vs(n)&&(n.customData.serverCode===401||n.customData.serverCode===404)){await Js(e.appConfig)}else{const n={...t,authToken:{requestStatus:0}};await Gs(e.appConfig,n)}throw n}}function la(e){return e!==undefined&&e.registrationStatus===2}function da(e){return e.requestStatus===2&&!ha(e)}function ha(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ds}function pa(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function ga(e){return e.requestStatus===1&&e.requestTime+cs<Date.now()}async function ba(e){const t=e;const{installationEntry:n,registrationPromise:r}=await Qs(t);if(r){r.catch(console.error)}else{aa(t).catch(console.error)}return n.fid}async function va(e,t=false){const n=e;await ma(n);const r=await aa(n,t);return r.token}async function ma(e){const{registrationPromise:t}=await Qs(e);if(t){await t}}async function ya(e,t){const n=wa(e,t);const r=Ss(e,t);const i={method:"DELETE",headers:r};const o=await Is((()=>fetch(n,i)));if(!o.ok){throw await ws("Delete Installation",o)}}function wa(e,{fid:t}){return`${ms(e)}/${t}`}async function _a(e){const{appConfig:t}=e;const n=await Xs(t,(e=>{if(e&&e.registrationStatus===0){return undefined}return e}));if(n){if(n.registrationStatus===1){throw bs.create("delete-pending-registration")}else if(n.registrationStatus===2){if(!navigator.onLine){throw bs.create("app-offline")}else{await ya(t,n);await Js(t)}}}}function Sa(e,t){const{appConfig:n}=e;Rs(n,t);return()=>{Bs(n,t)}}function Ia(e=getApp()){const t=_getProvider(e,"installations").getImmediate();return t}function ka(e){if(!e||!e.options){throw Ea("App Configuration")}if(!e.name){throw Ea("App Name")}const t=["projectId","apiKey","appId"];for(const n of t){if(!e.options[n]){throw Ea(n)}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Ea(e){return bs.create("missing-app-config-values",{valueName:e})}const Ca="installations";const Aa="installations-internal";const Oa=e=>{const t=e.getProvider("app").getImmediate();const n=ka(t);const r=xr(t,"heartbeat");const i={app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()};return i};const Ma=e=>{const t=e.getProvider("app").getImmediate();const n=xr(t,Ca).getImmediate();const r={getId:()=>ba(n),getToken:e=>va(n,e)};return r};function Ta(){Nr(new es(Ca,Oa,"PUBLIC"));Nr(new es(Aa,Ma,"PRIVATE"))}Ta();Xr(ss,as);Xr(ss,as,"esm2020");class Pa{constructor(e,t,n){this.name=e;this.instanceFactory=t;this.type=n;this.multipleInstances=false;this.serviceProps={};this.instantiationMode="LAZY";this.onInstanceCreated=null}setInstantiationMode(e){this.instantiationMode=e;return this}setMultipleInstances(e){this.multipleInstances=e;return this}setServiceProps(e){this.serviceProps=e;return this}setInstanceCreatedCallback(e){this.onInstanceCreated=e;return this}}const Da="[DEFAULT]";class Na{constructor(e,t){this.name=e;this.container=t;this.component=null;this.instances=new Map;this.instancesDeferred=new Map;this.instancesOptions=new Map;this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Deferred;this.instancesDeferred.set(t,e);if(this.isInitialized(t)||this.shouldAutoInitialize()){try{const n=this.getOrInitializeService({instanceIdentifier:t});if(n){e.resolve(n)}}catch(e){}}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier);const n=e?.optional??false;if(this.isInitialized(t)||this.shouldAutoInitialize()){try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n){return null}else{throw e}}}else{if(n){return null}else{throw Error(`Service ${this.name} is not available`)}}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name){throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`)}if(this.component){throw Error(`Component for ${this.name} has already been provided`)}this.component=e;if(!this.shouldAutoInitialize()){return}if(ja(e)){try{this.getOrInitializeService({instanceIdentifier:Da})}catch(e){}}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}clearInstance(e=Da){this.instancesDeferred.delete(e);this.instancesOptions.delete(e);this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e;const n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n)){throw Error(`${this.name}(${n}) has already been initialized`)}if(!this.isComponentSet()){throw Error(`Component ${this.name} has not been registered yet`)}const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);if(n===i){t.resolve(r)}}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t);const r=this.onInitCallbacks.get(n)??new Set;r.add(e);this.onInitCallbacks.set(n,r);const i=this.instances.get(n);if(i){e(i,n)}return()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(!n){return}for(const r of n){try{r(e,t)}catch{}}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component){n=this.component.instanceFactory(this.container,{instanceIdentifier:xa(e),options:t});this.instances.set(e,n);this.instancesOptions.set(e,t);this.invokeOnInitCallbacks(n,e);if(this.component.onInstanceCreated){try{this.component.onInstanceCreated(this.container,e,n)}catch{}}}return n||null}normalizeInstanceIdentifier(e=Da){if(this.component){return this.component.multipleInstances?e:Da}else{return e}}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xa(e){return e===Da?undefined:e}function ja(e){return e.instantiationMode==="EAGER"}class Ra{constructor(e){this.name=e;this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){throw new Error(`Component ${e.name} has already been registered with ${this.name}`)}t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){this.providers.delete(e.name)}this.addComponent(e)}getProvider(e){if(this.providers.has(e)){return this.providers.get(e)}const t=new Na(e,this);this.providers.set(e,t);return t}getProviders(){return Array.from(this.providers.values())}}const Ba="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";const Fa="https://fcmregistrations.googleapis.com/v1";const La="FCM_MSG";const Wa="google.c.a.c_id";const za=3;const Ua=1;var $a;(function(e){e[e["DATA_MESSAGE"]=1]="DATA_MESSAGE";e[e["DISPLAY_NOTIFICATION"]=3]="DISPLAY_NOTIFICATION"})($a||($a={}));var Va;(function(e){e["PUSH_RECEIVED"]="push-received";e["NOTIFICATION_CLICKED"]="notification-clicked"})(Va||(Va={}));function Ha(e){const t=new Uint8Array(e);const n=btoa(String.fromCharCode(...t));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ka(e){const t="=".repeat((4-e.length%4)%4);const n=(e+t).replace(/\-/g,"+").replace(/_/g,"/");const r=atob(n);const i=new Uint8Array(r.length);for(let e=0;e<r.length;++e){i[e]=r.charCodeAt(e)}return i}const qa="fcm_token_details_db";const Ga=5;const Ja="fcm_token_object_Store";async function Xa(e){if("databases"in indexedDB){const e=await indexedDB.databases();const t=e.map((e=>e.name));if(!t.includes(qa)){return null}}let t=null;const n=await Un(qa,Ga,{upgrade:async(n,r,i,o)=>{if(r<2){return}if(!n.objectStoreNames.contains(Ja)){return}const s=o.objectStore(Ja);const a=await s.index("fcmSenderId").get(e);await s.clear();if(!a){return}if(r===2){const e=a;if(!e.auth||!e.p256dh||!e.endpoint){return}t={token:e.fcmToken,createTime:e.createTime??Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:typeof e.vapidKey==="string"?e.vapidKey:Ha(e.vapidKey)}}}else if(r===3){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ha(e.auth),p256dh:Ha(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ha(e.vapidKey)}}}else if(r===4){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ha(e.auth),p256dh:Ha(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ha(e.vapidKey)}}}}});n.close();await $n(qa);await $n("fcm_vapid_details_db");await $n("undefined");return Qa(t)?t:null}function Qa(e){if(!e||!e.subscriptionOptions){return false}const{subscriptionOptions:t}=e;return typeof e.createTime==="number"&&e.createTime>0&&typeof e.token==="string"&&e.token.length>0&&typeof t.auth==="string"&&t.auth.length>0&&typeof t.p256dh==="string"&&t.p256dh.length>0&&typeof t.endpoint==="string"&&t.endpoint.length>0&&typeof t.swScope==="string"&&t.swScope.length>0&&typeof t.vapidKey==="string"&&t.vapidKey.length>0}const Za="firebase-messaging-database";const Ya=1;const ec="firebase-messaging-store";let tc=null;function nc(){if(!tc){tc=Un(Za,Ya,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ec)}}})}return tc}async function rc(e){const t=sc(e);const n=await nc();const r=await n.transaction(ec).objectStore(ec).get(t);if(r){return r}else{const t=await Xa(e.appConfig.senderId);if(t){await ic(e,t);return t}}}async function ic(e,t){const n=sc(e);const r=await nc();const i=r.transaction(ec,"readwrite");await i.objectStore(ec).put(t,n);await i.done;return t}async function oc(e){const t=sc(e);const n=await nc();const r=n.transaction(ec,"readwrite");await r.objectStore(ec).delete(t);await r.done}function sc({appConfig:e}){return e.appId}const ac={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["only-available-in-window"]:"This method is available in a Window context.",["only-available-in-sw"]:"This method is available in a service worker context.",["permission-default"]:"The notification permission was not granted and dismissed instead.",["permission-blocked"]:"The notification permission was not granted and blocked instead.",["unsupported-browser"]:"This browser doesn't support the API's required to use the Firebase SDK.",["indexed-db-unsupported"]:"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)",["failed-service-worker-registration"]:"We are unable to register the default service worker. {$browserErrorMessage}",["token-subscribe-failed"]:"A problem occurred while subscribing the user to FCM: {$errorInfo}",["token-subscribe-no-token"]:"FCM returned no token when subscribing the user to push.",["token-unsubscribe-failed"]:"A problem occurred while unsubscribing the "+"user from FCM: {$errorInfo}",["token-update-failed"]:"A problem occurred while updating the user from FCM: {$errorInfo}",["token-update-no-token"]:"FCM returned no token when updating the user to push.",["use-sw-after-get-token"]:"The useServiceWorker() method may only be called once and must be "+"called before calling getToken() to ensure your service worker is used.",["invalid-sw-registration"]:"The input to useServiceWorker() must be a ServiceWorkerRegistration.",["invalid-bg-handler"]:"The input to setBackgroundMessageHandler() must be a function.",["invalid-vapid-key"]:"The public VAPID key must be a string.",["use-vapid-key-after-get-token"]:"The usePublicVapidKey() method may only be called once and must be "+"called before calling getToken() to ensure your VAPID key is used."};const cc=new ho("messaging","Messaging",ac);async function uc(e,t){const n=await hc(e);const r=pc(t);const i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=await fetch(dc(e.appConfig),i);o=await t.json()}catch(e){throw cc.create("token-subscribe-failed",{errorInfo:e?.toString()})}if(o.error){const e=o.error.message;throw cc.create("token-subscribe-failed",{errorInfo:e})}if(!o.token){throw cc.create("token-subscribe-no-token")}return o.token}async function fc(e,t){const n=await hc(e);const r=pc(t.subscriptionOptions);const i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=await fetch(`${dc(e.appConfig)}/${t.token}`,i);o=await n.json()}catch(e){throw cc.create("token-update-failed",{errorInfo:e?.toString()})}if(o.error){const e=o.error.message;throw cc.create("token-update-failed",{errorInfo:e})}if(!o.token){throw cc.create("token-update-no-token")}return o.token}async function lc(e,t){const n=await hc(e);const r={method:"DELETE",headers:n};try{const n=await fetch(`${dc(e.appConfig)}/${t}`,r);const i=await n.json();if(i.error){const e=i.error.message;throw cc.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw cc.create("token-unsubscribe-failed",{errorInfo:e?.toString()})}}function dc({projectId:e}){return`${Fa}/projects/${e}/registrations`}async function hc({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function pc({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};if(r!==Ba){i.web.applicationPubKey=r}return i}const gc=7*24*60*60*1e3;async function bc(e){const t=await wc(e.swRegistration,e.vapidKey);const n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Ha(t.getKey("auth")),p256dh:Ha(t.getKey("p256dh"))};const r=await rc(e.firebaseDependencies);if(!r){return yc(e.firebaseDependencies,n)}else if(!_c(r.subscriptionOptions,n)){try{await lc(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return yc(e.firebaseDependencies,n)}else if(Date.now()>=r.createTime+gc){return mc(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n})}else{return r.token}}async function vc(e){const t=await rc(e.firebaseDependencies);if(t){await lc(e.firebaseDependencies,t.token);await oc(e.firebaseDependencies)}const n=await e.swRegistration.pushManager.getSubscription();if(n){return n.unsubscribe()}return true}async function mc(e,t){try{const n=await fc(e.firebaseDependencies,t);const r={...t,token:n,createTime:Date.now()};await ic(e.firebaseDependencies,r);return n}catch(e){throw e}}async function yc(e,t){const n=await uc(e,t);const r={token:n,createTime:Date.now(),subscriptionOptions:t};await ic(e,r);return r.token}async function wc(e,t){const n=await e.pushManager.getSubscription();if(n){return n}return e.pushManager.subscribe({userVisibleOnly:true,applicationServerKey:Ka(t)})}function _c(e,t){const n=t.vapidKey===e.vapidKey;const r=t.endpoint===e.endpoint;const i=t.auth===e.auth;const o=t.p256dh===e.p256dh;return n&&r&&i&&o}function Sc(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};Ic(t,e);kc(t,e);Ec(t,e);return t}function Ic(e,t){if(!t.notification){return}e.notification={};const n=t.notification.title;if(!!n){e.notification.title=n}const r=t.notification.body;if(!!r){e.notification.body=r}const i=t.notification.image;if(!!i){e.notification.image=i}const o=t.notification.icon;if(!!o){e.notification.icon=o}}function kc(e,t){if(!t.data){return}e.data=t.data}function Ec(e,t){if(!t.fcmOptions&&!t.notification?.click_action){return}e.fcmOptions={};const n=t.fcmOptions?.link??t.notification?.click_action;if(!!n){e.fcmOptions.link=n}const r=t.fcmOptions?.analytics_label;if(!!r){e.fcmOptions.analyticsLabel=r}}function Cc(e){return typeof e==="object"&&!!e&&Wa in e}function Ac(e){return new Promise((t=>{setTimeout(t,e)}))}Dc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");async function Oc(e,t){const n=Mc(t,await e.firebaseDependencies.installations.getId());Tc(e,n,t.productId)}function Mc(e,t){const n={};if(!!e.from){n.project_number=e.from}if(!!e.fcmMessageId){n.message_id=e.fcmMessageId}n.instance_id=t;if(!!e.notification){n.message_type=$a.DISPLAY_NOTIFICATION.toString()}else{n.message_type=$a.DATA_MESSAGE.toString()}n.sdk_platform=za.toString();n.package_name=self.origin.replace(/(^\w+:|^)\/\//,"");if(!!e.collapse_key){n.collapse_key=e.collapse_key}n.event=Ua.toString();if(!!e.fcmOptions?.analytics_label){n.analytics_label=e.fcmOptions?.analytics_label}return n}function Tc(e,t,n){const r={};r.event_time_ms=Math.floor(Date.now()).toString();r.source_extension_json_proto3=JSON.stringify({messaging_client_event:t});if(!!n){r.compliance_data=Pc(n)}e.logEvents.push(r)}function Pc(e){const t={privacy_context:{prequest:{origin_associated_product_id:e}}};return t}function Dc(e,t){const n=[];for(let r=0;r<e.length;r++){n.push(e.charAt(r));if(r<t.length){n.push(t.charAt(r))}}return n.join("")}async function Nc(e,t){const{newSubscription:n}=e;if(!n){await vc(t);return}const r=await rc(t.firebaseDependencies);await vc(t);t.vapidKey=r?.subscriptionOptions?.vapidKey??Ba;await bc(t)}async function xc(e,t){const n=Bc(e);if(!n){return}if(t.deliveryMetricsExportedToBigQueryEnabled){await Oc(t,n)}const r=await zc();if(Lc(r)){return Wc(r,n)}if(!!n.notification){await Uc(Rc(n))}if(!t){return}if(!!t.onBackgroundMessageHandler){const e=Sc(n);if(typeof t.onBackgroundMessageHandler==="function"){await t.onBackgroundMessageHandler(e)}else{t.onBackgroundMessageHandler.next(e)}}}async function jc(e){const t=e.notification?.data?.[La];if(!t){return}else if(e.action){return}e.stopImmediatePropagation();e.notification.close();const n=$c(t);if(!n){return}const r=new URL(n,self.location.href);const i=new URL(self.location.origin);if(r.host!==i.host){return}let o=await Fc(r);if(!o){o=await self.clients.openWindow(n);await Ac(3e3)}else{o=await o.focus()}if(!o){return}t.messageType=Va.NOTIFICATION_CLICKED;t.isFirebaseMessaging=true;return o.postMessage(t)}function Rc(e){const t={...e.notification};t.data={[La]:e};return t}function Bc({data:e}){if(!e){return null}try{return e.json()}catch(e){return null}}async function Fc(e){const t=await zc();for(const n of t){const t=new URL(n.url,self.location.href);if(e.host===t.host){return n}}return null}function Lc(e){return e.some((e=>e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")))}function Wc(e,t){t.isFirebaseMessaging=true;t.messageType=Va.PUSH_RECEIVED;for(const n of e){n.postMessage(t)}}function zc(){return self.clients.matchAll({type:"window",includeUncontrolled:true})}function Uc(e){const{actions:t}=e;const{maxActions:n}=Notification;if(t&&n&&t.length>n){console.warn(`This browser only supports ${n} actions. The remaining actions will not be displayed.`)}return self.registration.showNotification(e.title??"",e)}function $c(e){const t=e.fcmOptions?.link??e.notification?.click_action;if(t){return t}if(Cc(e.data)){return self.location.origin}else{return null}}function Vc(e){if(!e||!e.options){throw Hc("App Configuration Object")}if(!e.name){throw Hc("App Name")}const t=["projectId","apiKey","appId","messagingSenderId"];const{options:n}=e;for(const e of t){if(!n[e]){throw Hc(e)}}return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Hc(e){return cc.create("missing-app-config-values",{valueName:e})}class Kc{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=false;this.onBackgroundMessageHandler=null;this.onMessageHandler=null;this.logEvents=[];this.isLogServiceStarted=false;const r=Vc(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}const qc=e=>{const t=new Kc(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));self.addEventListener("push",(e=>{e.waitUntil(xc(e,t))}));self.addEventListener("pushsubscriptionchange",(e=>{e.waitUntil(Nc(e,t))}));self.addEventListener("notificationclick",(e=>{e.waitUntil(jc(e))}));return t};function Gc(){Nr(new Pa("messaging-sw",qc,"PUBLIC"))}async function Jc(){return ao()&&await co()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function Xc(e,t){if(self.document!==undefined){throw cc.create("only-available-in-sw")}e.onBackgroundMessageHandler=t;return()=>{e.onBackgroundMessageHandler=null}}function Qc(e,t){e.deliveryMetricsExportedToBigQueryEnabled=t}function Zc(e=qr()){Jc().then((e=>{if(!e){throw cc.create("unsupported-browser")}}),(e=>{throw cc.create("indexed-db-unsupported")}));return xr(Yo(e),"messaging-sw").getImmediate()}function Yc(e,t){e=Yo(e);return Xc(e,t)}function eu(e,t){e=getModularInstance(e);return Qc(e,t)}Gc();var tu=undefined&&undefined.__assign||function(){tu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return tu.apply(this,arguments)};var nu="https://";var ru={debug:"true"==="true",isTest:"false"==="true",resourceToken:"2fHLS9YR9daS-a90b371eecc2952f",apiServerHost:"pxl-3q2p6pw26d2y1v18.dev.altcraft.com",swPath:"/service-worker.js",vapidKey:"",firebase:{apiKey:"AIzaSyBDC9ZBPjmxrWhu0JKyFDZ1IqWMgwBnbH8",projectId:"project-240ed",messagingSenderId:"163655963079",appId:"1:163655963079:web:4dbbc681180bb2503349e2"},browsers:{Chrome:{isFirebase:"true"==="true"},Firefox:{isFirebase:"true"==="true"},Opera:{isFirebase:"true"==="true"},"Yandex Browser":{isFirebase:"true"==="true"},"Samsung Internet for Android":{isFirebase:"true"==="true"},Safari:{websitePushID:"",websitePushAPI:"https://pxl-3q2p6pw26d2y1v18.dev.altcraft.com/ap"}},expirationSWChrome:"900"};var iu={randomPrefix:"Shahkoop2aeleiv8Ierief_",serverPrefix:nu,serverActionHandlers:{save:"/pixel?_push_pix=/push/subscription/save",delete:"/pixel?_push_pix=/push/subscription/delete",update:"/pixel?_push_pix=/push/subscription/update",suspend:"/pixel?_push_pix=/push/subscription/suspend"},serverCookiePath:"/pixel?_push_pix=/set_cookie_only",serverPushContentPath:"/pixel?_push_pix=/push/content/get",serverURL:(nu+ru.apiServerHost).replace(/\/+$/,""),swPath:"/service-worker.js",isTest:false,cookieID:"",browser:undefined,firebase:{authSubdomain:"firebaseapp.com",bucketSubdomain:"appspot.com",dbSubdomain:"firebaseio.com"},allFirebase:undefined};var ou=tu(tu(tu({},iu),ru),{firebase:tu(tu({},iu.firebase),ru.firebase),expirationSWChrome:parseInt(ru.expirationSWChrome,10)||0});const su=ou;var au=n(160);var cu=n.n(au);var uu=n(880);var fu=n(790);const lu="/firebase-messaging-sw.js";const du="/firebase-cloud-messaging-push-scope";const hu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";const pu="https://fcmregistrations.googleapis.com/v1";const gu="google.c.a.c_id";const bu="google.c.a.c_l";const vu="google.c.a.ts";const mu="google.c.a.e";const yu=1e4;var wu;(function(e){e[e["DATA_MESSAGE"]=1]="DATA_MESSAGE";e[e["DISPLAY_NOTIFICATION"]=3]="DISPLAY_NOTIFICATION"})(wu||(wu={}));var _u;(function(e){e["PUSH_RECEIVED"]="push-received";e["NOTIFICATION_CLICKED"]="notification-clicked"})(_u||(_u={}));function Su(e){const t=new Uint8Array(e);const n=btoa(String.fromCharCode(...t));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Iu(e){const t="=".repeat((4-e.length%4)%4);const n=(e+t).replace(/\-/g,"+").replace(/_/g,"/");const r=atob(n);const i=new Uint8Array(r.length);for(let e=0;e<r.length;++e){i[e]=r.charCodeAt(e)}return i}const ku="fcm_token_details_db";const Eu=5;const Cu="fcm_token_object_Store";async function Au(e){if("databases"in indexedDB){const e=await indexedDB.databases();const t=e.map((e=>e.name));if(!t.includes(ku)){return null}}let t=null;const n=await Un(ku,Eu,{upgrade:async(n,r,i,o)=>{if(r<2){return}if(!n.objectStoreNames.contains(Cu)){return}const s=o.objectStore(Cu);const a=await s.index("fcmSenderId").get(e);await s.clear();if(!a){return}if(r===2){const e=a;if(!e.auth||!e.p256dh||!e.endpoint){return}t={token:e.fcmToken,createTime:e.createTime??Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:typeof e.vapidKey==="string"?e.vapidKey:Su(e.vapidKey)}}}else if(r===3){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Su(e.auth),p256dh:Su(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Su(e.vapidKey)}}}else if(r===4){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Su(e.auth),p256dh:Su(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Su(e.vapidKey)}}}}});n.close();await $n(ku);await $n("fcm_vapid_details_db");await $n("undefined");return Ou(t)?t:null}function Ou(e){if(!e||!e.subscriptionOptions){return false}const{subscriptionOptions:t}=e;return typeof e.createTime==="number"&&e.createTime>0&&typeof e.token==="string"&&e.token.length>0&&typeof t.auth==="string"&&t.auth.length>0&&typeof t.p256dh==="string"&&t.p256dh.length>0&&typeof t.endpoint==="string"&&t.endpoint.length>0&&typeof t.swScope==="string"&&t.swScope.length>0&&typeof t.vapidKey==="string"&&t.vapidKey.length>0}const Mu="firebase-messaging-database";const Tu=1;const Pu="firebase-messaging-store";let Du=null;function Nu(){if(!Du){Du=Un(Mu,Tu,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Pu)}}})}return Du}async function xu(e){const t=Bu(e);const n=await Nu();const r=await n.transaction(Pu).objectStore(Pu).get(t);if(r){return r}else{const t=await Au(e.appConfig.senderId);if(t){await ju(e,t);return t}}}async function ju(e,t){const n=Bu(e);const r=await Nu();const i=r.transaction(Pu,"readwrite");await i.objectStore(Pu).put(t,n);await i.done;return t}async function Ru(e){const t=Bu(e);const n=await Nu();const r=n.transaction(Pu,"readwrite");await r.objectStore(Pu).delete(t);await r.done}function Bu({appConfig:e}){return e.appId}const Fu={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["only-available-in-window"]:"This method is available in a Window context.",["only-available-in-sw"]:"This method is available in a service worker context.",["permission-default"]:"The notification permission was not granted and dismissed instead.",["permission-blocked"]:"The notification permission was not granted and blocked instead.",["unsupported-browser"]:"This browser doesn't support the API's required to use the Firebase SDK.",["indexed-db-unsupported"]:"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)",["failed-service-worker-registration"]:"We are unable to register the default service worker. {$browserErrorMessage}",["token-subscribe-failed"]:"A problem occurred while subscribing the user to FCM: {$errorInfo}",["token-subscribe-no-token"]:"FCM returned no token when subscribing the user to push.",["token-unsubscribe-failed"]:"A problem occurred while unsubscribing the "+"user from FCM: {$errorInfo}",["token-update-failed"]:"A problem occurred while updating the user from FCM: {$errorInfo}",["token-update-no-token"]:"FCM returned no token when updating the user to push.",["use-sw-after-get-token"]:"The useServiceWorker() method may only be called once and must be "+"called before calling getToken() to ensure your service worker is used.",["invalid-sw-registration"]:"The input to useServiceWorker() must be a ServiceWorkerRegistration.",["invalid-bg-handler"]:"The input to setBackgroundMessageHandler() must be a function.",["invalid-vapid-key"]:"The public VAPID key must be a string.",["use-vapid-key-after-get-token"]:"The usePublicVapidKey() method may only be called once and must be "+"called before calling getToken() to ensure your VAPID key is used."};const Lu=new ho("messaging","Messaging",Fu);async function Wu(e,t){const n=await Vu(e);const r=Hu(t);const i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=await fetch($u(e.appConfig),i);o=await t.json()}catch(e){throw Lu.create("token-subscribe-failed",{errorInfo:e?.toString()})}if(o.error){const e=o.error.message;throw Lu.create("token-subscribe-failed",{errorInfo:e})}if(!o.token){throw Lu.create("token-subscribe-no-token")}return o.token}async function zu(e,t){const n=await Vu(e);const r=Hu(t.subscriptionOptions);const i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=await fetch(`${$u(e.appConfig)}/${t.token}`,i);o=await n.json()}catch(e){throw Lu.create("token-update-failed",{errorInfo:e?.toString()})}if(o.error){const e=o.error.message;throw Lu.create("token-update-failed",{errorInfo:e})}if(!o.token){throw Lu.create("token-update-no-token")}return o.token}async function Uu(e,t){const n=await Vu(e);const r={method:"DELETE",headers:n};try{const n=await fetch(`${$u(e.appConfig)}/${t}`,r);const i=await n.json();if(i.error){const e=i.error.message;throw Lu.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw Lu.create("token-unsubscribe-failed",{errorInfo:e?.toString()})}}function $u({projectId:e}){return`${pu}/projects/${e}/registrations`}async function Vu({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Hu({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};if(r!==hu){i.web.applicationPubKey=r}return i}const Ku=7*24*60*60*1e3;async function qu(e){const t=await Qu(e.swRegistration,e.vapidKey);const n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Su(t.getKey("auth")),p256dh:Su(t.getKey("p256dh"))};const r=await xu(e.firebaseDependencies);if(!r){return Xu(e.firebaseDependencies,n)}else if(!Zu(r.subscriptionOptions,n)){try{await Uu(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return Xu(e.firebaseDependencies,n)}else if(Date.now()>=r.createTime+Ku){return Ju(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n})}else{return r.token}}async function Gu(e){const t=await xu(e.firebaseDependencies);if(t){await Uu(e.firebaseDependencies,t.token);await Ru(e.firebaseDependencies)}const n=await e.swRegistration.pushManager.getSubscription();if(n){return n.unsubscribe()}return true}async function Ju(e,t){try{const n=await zu(e.firebaseDependencies,t);const r={...t,token:n,createTime:Date.now()};await ju(e.firebaseDependencies,r);return n}catch(e){throw e}}async function Xu(e,t){const n=await Wu(e,t);const r={token:n,createTime:Date.now(),subscriptionOptions:t};await ju(e,r);return r.token}async function Qu(e,t){const n=await e.pushManager.getSubscription();if(n){return n}return e.pushManager.subscribe({userVisibleOnly:true,applicationServerKey:Iu(t)})}function Zu(e,t){const n=t.vapidKey===e.vapidKey;const r=t.endpoint===e.endpoint;const i=t.auth===e.auth;const o=t.p256dh===e.p256dh;return n&&r&&i&&o}function Yu(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};ef(t,e);tf(t,e);nf(t,e);return t}function ef(e,t){if(!t.notification){return}e.notification={};const n=t.notification.title;if(!!n){e.notification.title=n}const r=t.notification.body;if(!!r){e.notification.body=r}const i=t.notification.image;if(!!i){e.notification.image=i}const o=t.notification.icon;if(!!o){e.notification.icon=o}}function tf(e,t){if(!t.data){return}e.data=t.data}function nf(e,t){if(!t.fcmOptions&&!t.notification?.click_action){return}e.fcmOptions={};const n=t.fcmOptions?.link??t.notification?.click_action;if(!!n){e.fcmOptions.link=n}const r=t.fcmOptions?.analytics_label;if(!!r){e.fcmOptions.analyticsLabel=r}}function rf(e){return typeof e==="object"&&!!e&&gu in e}of("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function of(e,t){const n=[];for(let r=0;r<e.length;r++){n.push(e.charAt(r));if(r<t.length){n.push(t.charAt(r))}}return n.join("")}function sf(e){if(!e||!e.options){throw af("App Configuration Object")}if(!e.name){throw af("App Name")}const t=["projectId","apiKey","appId","messagingSenderId"];const{options:n}=e;for(const e of t){if(!n[e]){throw af(e)}}return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function af(e){return Lu.create("missing-app-config-values",{valueName:e})}class cf{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=false;this.onBackgroundMessageHandler=null;this.onMessageHandler=null;this.logEvents=[];this.isLogServiceStarted=false;const r=sf(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function uf(e){try{e.swRegistration=await navigator.serviceWorker.register(lu,{scope:du});e.swRegistration.update().catch((()=>{}));await ff(e.swRegistration)}catch(e){throw Lu.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function ff(e){return new Promise(((t,n)=>{const r=setTimeout((()=>n(new Error(`Service worker not registered after ${yu} ms`))),yu);const i=e.installing||e.waiting;if(e.active){clearTimeout(r);t()}else if(i){i.onstatechange=e=>{if(e.target?.state==="activated"){i.onstatechange=null;clearTimeout(r);t()}}}else{clearTimeout(r);n(new Error("No incoming service worker found."))}}))}async function lf(e,t){if(!t&&!e.swRegistration){await uf(e)}if(!t&&!!e.swRegistration){return}if(!(t instanceof ServiceWorkerRegistration)){throw Lu.create("invalid-sw-registration")}e.swRegistration=t}async function df(e,t){if(!!t){e.vapidKey=t}else if(!e.vapidKey){e.vapidKey=hu}}async function hf(e,t){if(!navigator){throw Lu.create("only-available-in-window")}if(Notification.permission==="default"){await Notification.requestPermission()}if(Notification.permission!=="granted"){throw Lu.create("permission-blocked")}await df(e,t?.vapidKey);await lf(e,t?.serviceWorkerRegistration);return qu(e)}async function pf(e,t,n){const r=gf(t);const i=await e.firebaseDependencies.analyticsProvider.get();i.logEvent(r,{message_id:n[gu],message_name:n[bu],message_time:n[vu],message_device_time:Math.floor(Date.now()/1e3)})}function gf(e){switch(e){case _u.NOTIFICATION_CLICKED:return"notification_open";case _u.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function bf(e,t){const n=t.data;if(!n.isFirebaseMessaging){return}if(e.onMessageHandler&&n.messageType===_u.PUSH_RECEIVED){if(typeof e.onMessageHandler==="function"){e.onMessageHandler(Yu(n))}else{e.onMessageHandler.next(Yu(n))}}const r=n.data;if(rf(r)&&r[mu]==="1"){await pf(e,n.messageType,r)}}const vf="@firebase/messaging";const mf="0.12.23";const yf=e=>{const t=new cf(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));navigator.serviceWorker.addEventListener("message",(e=>bf(t,e)));return t};const wf=e=>{const t=e.getProvider("messaging").getImmediate();const n={getToken:e=>hf(t,e)};return n};function _f(){Nr(new Pa("messaging",yf,"PUBLIC"));Nr(new Pa("messaging-internal",wf,"PRIVATE"));Xr(vf,mf);Xr(vf,mf,"esm2020")}async function Sf(){try{await validateIndexedDBOpenable()}catch(e){return false}return typeof window!=="undefined"&&isIndexedDBAvailable()&&areCookiesEnabled()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}async function If(e){if(!navigator){throw Lu.create("only-available-in-window")}if(!e.swRegistration){await uf(e)}return Gu(e)}function kf(e,t){if(!navigator){throw Lu.create("only-available-in-window")}e.onMessageHandler=t;return()=>{e.onMessageHandler=null}}function Ef(e=getApp()){Sf().then((e=>{if(!e){throw Lu.create("unsupported-browser")}}),(e=>{throw Lu.create("indexed-db-unsupported")}));return _getProvider(getModularInstance(e),"messaging").getImmediate()}async function Cf(e,t){e=getModularInstance(e);return hf(e,t)}function Af(e){e=getModularInstance(e);return If(e)}function Of(e,t){e=getModularInstance(e);return kf(e,t)}_f();var Mf;(function(e){e["Granted"]="granted";e["Denied"]="denied";e["Default"]="default"})(Mf||(Mf={}));var Tf;(function(e){e["subscribe"]="subscribe";e["updateSubscription"]="update_subscription";e["suspendSubscription"]="suspend_subscription"})(Tf||(Tf={}));var Pf=Object.prototype.hasOwnProperty;function Df(e,t){return typeof e==="object"&&Pf.call(e,t)}function Nf(e){return function(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}if(e){console.info.apply(null,t)}}}var xf=Kf(su.debug);var jf=undefined&&undefined.__assign||function(){jf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return jf.apply(this,arguments)};var Rf=undefined&&undefined.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r["throw"](e))}catch(e){o(e)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))};var Bf=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return c([e,t])}}function c(s){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=s[0]&2?i["return"]:s[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;if(i=0,o)s=[s[0]&2,o.value];switch(s[0]){case 0:case 1:o=s;break;case 4:n.label++;return{value:s[1],done:false};case 5:n.label++;i=s[1];s=[0];continue;case 7:s=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){n.label=s[1];break}if(s[0]===6&&n.label<o[1]){n.label=o[1];o=s;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(s);break}if(o[2])n.ops.pop();n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e];i=0}finally{r=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var Ff=function(){return"safari"in window&&"pushNotification"in window.safari};var Lf={};function Wf(){return"serviceWorker"in window.navigator}function zf(){return Rf(this,void 0,void 0,(function(){return Bf(this,(function(e){if(Wf()){return[2,navigator.serviceWorker.getRegistrations().then((function(e){return e.find((function(e){var t=e.active,n=e.waiting,r=e.installing;var i=t||n||r;return i&&i.scriptURL.includes("/service-worker.js?browser")}))}))]}console.log("can`t use service worker");return[2,undefined]}))}))}function Uf(e){return e.split(" ").join("")}function $f(e){if(e.allFirebase)return true;var t=e.browser;if(t){var n=e.browsers[t];if(Df(n,"isFirebase")){return n.isFirebase}return false}throw new Error("Invalid config")}function Vf(e){return Rf(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,c,u;return Bf(this,(function(f){switch(f.label){case 0:t=e.serverURL,n=e.serverCookiePath,r=e.resourceToken;f.label=1;case 1:f.trys.push([1,9,,10]);return[4,localforage.getItem("_ak_cookie")];case 2:i=f.sent()||"";return[4,fetch(t+n,{method:"post",credentials:"include",headers:i?{"X-Cookie":i}:undefined,body:JSON.stringify({resource_token:r})}).then((function(e){return{body:e.json(),headers:e.headers}}))];case 3:o=f.sent();s={cookie_id:"","X-Cookie":""};a="cookie_id";return[4,o.body];case 4:if(!(a in f.sent()))return[3,6];c=s;return[4,o.body];case 5:c.cookie_id=f.sent().cookie_id;f.label=6;case 6:debug("X-Cookie:",o===null||o===void 0?void 0:o.headers.has("X-Cookie"),o===null||o===void 0?void 0:o.headers.get("X-Cookie"));if(!o.headers.has("X-Cookie"))return[3,8];s["X-Cookie"]=o.headers.get("X-Cookie")||"";if(!s["X-Cookie"])return[3,8];return[4,localforage.setItem("_ak_cookie",s["X-Cookie"])];case 7:f.sent();f.label=8;case 8:if(s["X-Cookie"]||s.cookie_id){return[2,s]}console.error("Invalid response for set cookie:",o.body);return[3,10];case 9:u=f.sent();console.error("Unable to set cookie",u);return[3,10];case 10:return[2,undefined]}}))}))}function Hf(e,t){var n=new RegExp(t+"=(\\w*);?","g");var r=Array.from(e.matchAll(n));return r.length?r[0][1]:""}function Kf(e){return function(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}if(e){console.info.apply(null,t)}}}function qf(e){return new(cu())(e,true).query.browser}function Gf(e){if(!e.browser&&"userAgent"in window.navigator){return bowser.getParser(window.navigator.userAgent).getBrowser().name}return undefined}function Jf(e,t){return Rf(this,void 0,void 0,(function(){return Bf(this,(function(n){switch(n.label){case 0:return[4,localforage.setItem(e+"current_token",t)];case 1:n.sent();return[2]}}))}))}function Xf(e){return Rf(this,void 0,void 0,(function(){var t;return Bf(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,localforage.getItem(e+"current_token")];case 1:return[2,n.sent()];case 2:t=n.sent();console.log("error on getToken",t);return[2,null];case 3:return[2]}}))}))}function Qf(e){if(e===void 0){e=CONFIG.randomPrefix}return Rf(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,c;return Bf(this,(function(u){switch(u.label){case 0:t=Zf(e);return[4,Xf(e)];case 1:n=u.sent();r=Zf(e+"_endpoint_");return[4,Xf(e+"_endpoint_")];case 2:i=u.sent();return[4,Xf(e+"_keys_")];case 3:o=u.sent();debug("Founded tokens",{tokenLS:t,token:n,endpointLS:r,endpoint:i,keys:o});if(t){Yf(e)}if(r){Yf(e+"_endpoint_")}if(!o)return[3,7];u.label=4;case 4:u.trys.push([4,6,,7]);return[4,localforage.removeItem(e+"_keys_current_token")];case 5:u.sent();debug({result:"success"});return[3,7];case 6:s=u.sent();debug({result:"error",error:s});return[3,7];case 7:if(!n)return[3,11];u.label=8;case 8:u.trys.push([8,10,,11]);return[4,localforage.removeItem(e+"current_token")];case 9:u.sent();return[2,{result:"success"}];case 10:a=u.sent();return[2,{result:"error",error:a}];case 11:if(!i)return[3,15];u.label=12;case 12:u.trys.push([12,14,,15]);return[4,localforage.removeItem(e+"_endpoint_")];case 13:u.sent();return[2,{result:"success"}];case 14:c=u.sent();return[2,{result:"error",error:c}];case 15:return[2,{result:"not-found"}]}}))}))}function Zf(e){return localStorage.getItem(e+"current_token")}function Yf(e){localStorage.removeItem(e+"current_token")}function el(e,t){var n,r,i,o,s;return Rf(this,void 0,void 0,(function(){var a,c,u,f,l;return Bf(this,(function(d){switch(d.label){case 0:return[4,Notification.requestPermission()];case 1:a=d.sent();if(!(a===NotificationPermissionStatus.Granted))return[3,4];return[4,zf().then((function(e){return e&&e.active?e:undefined}))];case 2:c=d.sent();u=(n=t.data)===null||n===void 0?void 0:n.ak_actions;f=void 0;if(u){try{debug("push firebase parse ak_actions start");f=JSON.parse(u);debug("push firebase parse ak_actions complete")}catch(e){debug("push firebase parse ak_actions error: ",e)}}l={body:(r=t.notification)===null||r===void 0?void 0:r.body,icon:(i=t.notification)===null||i===void 0?void 0:i.icon,image:(o=t.notification)===null||o===void 0?void 0:o.image,data:{click_action:(s=t.fcmOptions)===null||s===void 0?void 0:s.link},actions:f};if(!c)return[3,4];return[4,c.showNotification(e,l)];case 3:d.sent();d.label=4;case 4:return[2]}}))}))}function tl(e){var t=e.browser,n=e.expirationSWChrome,r=e.swPath;if(t==="Chrome"){var i=n!==0?n:900;return r+"?browser="+t+"&expiration="+Math.floor(Date.now()/(i*1e3))}return r+"?browser="+t}function nl(){return Rf(this,void 0,void 0,(function(){var e,t,n,r;return Bf(this,(function(i){switch(i.label){case 0:if(!("showNotification"in ServiceWorkerRegistration.prototype)){console.error("Notifications is not supported");return[2,false]}if(!(Notification.permission!==NotificationPermissionStatus.Denied))return[3,10];if(!("PushManager"in window))return[3,8];debug("getPushServiceWorker","start");return[4,zf()];case 1:e=i.sent();debug("getPushServiceWorker","complete");debug("serviceWorkerRegistration",e);i.label=2;case 2:i.trys.push([2,6,,7]);debug("serviceWorkerRegistration.pushManager.getSubscription","start");if(!e)return[3,4];return[4,e.pushManager.getSubscription()];case 3:n=i.sent();return[3,5];case 4:n=undefined;i.label=5;case 5:t=n;debug("serviceWorkerRegistration.pushManager.getSubscription","complete");debug("subscription",t);return[2,true];case 6:r=i.sent();console.error("Error on getting subscription data",r);return[2,false];case 7:return[3,9];case 8:console.error("Push-notification is not supported by the browser");return[2,false];case 9:return[3,11];case 10:console.log("User denied notifications");return[2,false];case 11:return[2]}}))}))}function rl(e,t){return Rf(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u;return Bf(this,(function(f){switch(f.label){case 0:if(!(Notification.permission===NotificationPermissionStatus.Granted))return[3,24];n=e.browser;switch(n){case"Chrome":return[3,1];case"Firefox":return[3,1];case"Yandex Browser":return[3,1];case"Samsung Internet for Android":return[3,1];case"Opera":return[3,1];case"Safari":return[3,17]}return[3,23];case 1:if(!Wf())return[3,15];debug("can use service worker");if(!$f(e))return[3,12];r=void 0;debug("> getPushServiceWorker","start");f.label=2;case 2:f.trys.push([2,4,,5]);return[4,zf()];case 3:r=f.sent();debug("< getPushServiceWorker","complete");debug(">> registration",r);return[3,5];case 4:i=f.sent();debug("err get registration",i);return[3,5];case 5:debug("should use firebase");debug("firebase.initializeApp","start");o={appId:e.firebase.appId,apiKey:e.firebase.apiKey,projectId:e.firebase.projectId,messagingSenderId:e.firebase.messagingSenderId,storageBucket:[e.firebase.projectId,e.firebase.bucketSubdomain].join("."),authDomain:[e.firebase.projectId,e.firebase.authSubdomain].join("."),databaseURL:[e.firebase.projectId,e.firebase.dbSubdomain].join(".")};initializeApp(o);debug("firebase.initializeApp","complete");s=getMessaging();if(!r)return[3,7];debug("updateFirebaseToken","start");return[4,ul(e,t)];case 6:f.sent();debug("updateFirebaseToken","complete");f.label=7;case 7:debug("firebase.messaging().getToken","start");a=void 0;f.label=8;case 8:f.trys.push([8,10,,11]);return[4,getToken(s,{serviceWorkerRegistration:r})];case 9:a=f.sent();return[3,11];case 10:c=f.sent();console.error("Error occurred: ",c);return[3,11];case 11:debug("firebase.messaging().getToken","complete");if(a&&!Lf[a]){debug("added firebase.messaging().onMessage handler");Lf[a]=onMessage(s,(function(e){var t,n;debug("Message received:",e);el((n=(t=e.notification)===null||t===void 0?void 0:t.title)!==null&&n!==void 0?n:"",e)}))}return[3,14];case 12:debug("should not use firebase");debug("updateDefaultSubscription","start");return[4,ll(e,t)];case 13:f.sent();debug("updateDefaultSubscription","complete");f.label=14;case 14:return[3,16];case 15:debug("can`t use service worker");console.error("There is no serviceWorker");f.label=16;case 16:return[3,24];case 17:if(!Ff())return[3,20];u=window.safari.pushNotification.permission(e.browsers.Safari.websitePushID).deviceToken;if(!u)return[3,19];return[4,Jf(e.randomPrefix,u)];case 18:f.sent();debug("added token to cache:",u);f.label=19;case 19:return[3,22];case 20:return[4,fl(e,t)];case 21:f.sent();f.label=22;case 22:return[3,24];case 23:return[2,undefined];case 24:return[2,undefined]}}))}))}function il(e){return Rf(this,void 0,void 0,(function(){var t,n,r,i,o,s;return Bf(this,(function(a){switch(a.label){case 0:t=e.browser,n=e.expirationSWChrome,r=e.swPath;debug(" getPushServiceWorker","start");a.label=1;case 1:a.trys.push([1,3,,4]);return[4,zf()];case 2:i=a.sent();debug(" getPushServiceWorker","complete");debug("registration",i);return[3,4];case 3:o=a.sent();debug("err getPushServiceWorker",o);return[3,4];case 4:debug("navigator.serviceWorker.register","start");return[4,navigator.serviceWorker.register(tl({browser:t,expirationSWChrome:n,swPath:r}))];case 5:s=a.sent();debug("navigator.serviceWorker.register","complete");debug("serviceWorkerRegistration.update","start");return[4,s.update()];case 6:a.sent();debug("serviceWorkerRegistration.update","complete");debug(s);return[2,s]}}))}))}function ol(e){return Rf(this,void 0,void 0,(function(){var t,n,r,i,o;return Bf(this,(function(s){switch(s.label){case 0:t=e.browser,n=e.expirationSWChrome,r=e.swPath;debug("replace service worker",{browser:t,expirationSWChrome:n,swPath:r});if(!(Notification.permission===NotificationPermissionStatus.Granted))return[3,7];debug("Notification permission is granted.");return[4,zf()];case 1:i=s.sent();console.log("Push SW status: ",Boolean(i));if(!i)return[3,2];debug("service worker is our. Aborting replace service worker.");return[3,6];case 2:debug("navigator.serviceWorker.controller, was cleaned");s.label=3;case 3:s.trys.push([3,5,,6]);debug("registerServiceWorker start");return[4,il({browser:t,expirationSWChrome:n,swPath:r})];case 4:s.sent();debug(" registerServiceWorker complete");return[3,6];case 5:o=s.sent();debug("err register service worker",o);return[3,6];case 6:return[3,8];case 7:debug("Notification permission is not a granted. Aborting replace service worker.");s.label=8;case 8:return[2]}}))}))}function sl(e){return Rf(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,c,u,f,l,d,h,p,g;return Bf(this,(function(b){switch(b.label){case 0:t=e.action,n=e.provider,r=e.subscription,i=e.match,o=e.update,s=e.customData,a=e.resourceToken,c=e.serverURL,u=e.endpointOld,f=e.keysOld,l=e.supOldSubscr,d=e.inexclusive;return[4,localforage.getItem("_ak_cookie")];case 1:h=b.sent()||"";g=CONFIG.serverActionHandlers;switch(t){case"save":p=c+g.save;break;case"delete":p=c+g.delete;break;case"update":p=c+g.update;break;case"suspend":p=c+g.suspend;break;default:throw new Error("Unknown "+t)}return[2,fetch(p,{method:"post",credentials:"include",headers:h?{"X-Cookie":h}:undefined,body:JSON.stringify(jf(jf(jf(jf(jf(jf({},s||{}),{provider:n,endpoint:r.endpoint,keys:r.keys,resource_token:a,match:JSON.stringify(i||{}),update:JSON.stringify(o||{})}),u?{endpoint_old:u}:{}),f?{keys_old:f}:{}),l&&u?{sup_old_subscr:true}:{}),d!==undefined?{inexclusive:d}:{}))}).then((function(e){debug("X-Cookie:",e===null||e===void 0?void 0:e.headers.has("X-Cookie"),e===null||e===void 0?void 0:e.headers.get("X-Cookie"));if(e===null||e===void 0?void 0:e.headers.has("X-Cookie")){localforage.setItem("_ak_cookie",(e===null||e===void 0?void 0:e.headers.get("X-Cookie"))||"")}return e})).catch((function(e){return console.error("Can't post",t,e)}))]}}))}))}function al(e){return Rf(this,void 0,void 0,(function(){var t,n;return Bf(this,(function(r){switch(r.label){case 0:t=Zf(e);n=Zf(e+"_endpoint_");if(!t)return[3,2];return[4,Jf(e,t||"")];case 1:r.sent();Yf(e);return[2,t];case 2:if(!n)return[3,4];return[4,Jf(e+"_endpoint_",n||"")];case 3:r.sent();Yf(e+"_endpoint_");return[2,t];case 4:return[2,null]}}))}))}function cl(e,t,n){return Rf(this,void 0,void 0,(function(){var r,i,o,s,a,c,u,f;return Bf(this,(function(l){switch(l.label){case 0:l.trys.push([0,2,,3]);r=EventType.updateSubscription;i=t.provider,o=t.tokenCached,s=t.token,a=t.keys;c={browser:e.browser||"",provider:i,tokenCached:o,token:s};u={endpoint:s||"",keys:a};debug("fetch subscription","start");return[4,sl({action:"update",provider:i,subscription:u,match:{},update:{},customData:{},resourceToken:e.resourceToken,serverURL:e.serverURL,endpointOld:o||undefined,supOldSubscr:o?true:undefined})];case 1:l.sent();debug("fetch subscription","complete");debug("emit "+r,c);n.emit(r,c);return[3,3];case 2:f=l.sent();console.error("Unable to update subscription data",f);return[3,3];case 3:return[2]}}))}))}function ul(e,t){return Rf(this,void 0,void 0,(function(){var n,r,i,o,s,a,c;return Bf(this,(function(u){switch(u.label){case 0:debug("firebase.messaging().getToken","start");debug("> getPushServiceWorker","start");u.label=1;case 1:u.trys.push([1,3,,4]);return[4,zf()];case 2:n=u.sent();debug("< getPushServiceWorker","complete");debug(">> serviceWorkerRegistration",n);return[3,4];case 3:i=u.sent();debug("err get registration",i);return[3,4];case 4:u.trys.push([4,6,,7]);return[4,getToken(getMessaging(),{serviceWorkerRegistration:n})];case 5:r=u.sent();return[3,7];case 6:o=u.sent();console.error("Error occurred: ",o);return[3,7];case 7:debug("firebase.messaging().getToken","complete",r);debug("get cached token","start");return[4,Xf(e.randomPrefix)];case 8:s=u.sent();debug("get cached token","complete",s);if(!(r&&s!==r))return[3,14];debug("New token detected: ",r);u.label=9;case 9:u.trys.push([9,13,,14]);if(!s)return[3,11];a={provider:Uf(e.browser||"")+"Firebase",tokenCached:s,token:r};return[4,cl(e,a,t)];case 10:u.sent();u.label=11;case 11:debug("saving firebase token to cache",r,"start");return[4,Jf(e.randomPrefix,r||"")];case 12:u.sent();debug("saving firebase token to cache",r,"complete");return[3,14];case 13:c=u.sent();console.error("Failed to save firebase token to the cache",c);return[3,14];case 14:return[2]}}))}))}function fl(e,t){return Rf(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u,f,l;return Bf(this,(function(d){switch(d.label){case 0:return[4,zf()];case 1:n=d.sent();d.label=2;case 2:d.trys.push([2,11,,12]);if(!n){debug("getPushServiceWorker has empty, exit updateSafariPWAToken");return[2]}debug("serviceWorkerRegistration.pushManager.getSubscription","start");return[4,n.pushManager.getSubscription()];case 3:r=d.sent();i=r===null||r===void 0?void 0:r.endpoint;debug("serviceWorkerRegistration.pushManager.getSubscription","complete");debug("subscription",r);a=(s=JSON).parse;return[4,Xf(e.randomPrefix+"_keys_")];case 4:o=a.apply(s,[d.sent()||"null"]);return[4,Xf(e.randomPrefix)];case 5:c=d.sent();debug("get cached token","complete",c,"and keys",o);if(!(i&&c!==i))return[3,10];debug("New token detected:",i);u=r===null||r===void 0?void 0:r.toJSON().keys;if(!c)return[3,7];f={provider:Uf(e.browser||""),tokenCached:c,token:i,keys:u};return[4,cl(e,f,t)];case 6:d.sent();d.label=7;case 7:debug("saving token to cache",i,"and keys",u,"start");return[4,Jf(e.randomPrefix,i||"")];case 8:d.sent();return[4,Jf(e.randomPrefix+"_keys_",JSON.stringify(u)||"")];case 9:d.sent();debug("saving token to cache",i,"and keys",u,"complete");d.label=10;case 10:return[3,12];case 11:l=d.sent();console.error("Failed to save token and keys to the cache",l);return[3,12];case 12:return[2]}}))}))}function ll(e,t){return Rf(this,void 0,void 0,(function(){var n,r,i,o,s;return Bf(this,(function(a){switch(a.label){case 0:debug("getPushServiceWorker","start");return[4,zf()];case 1:n=a.sent();if(!n){debug("getPushServiceWorker has empty, exit updateDefaultSubscription.");return[2]}debug("getPushServiceWorker","complete");debug("serviceWorkerRegistration.pushManager.subscribe","start");return[4,n.pushManager.getSubscription()];case 2:r=a.sent();debug("serviceWorkerRegistration.pushManager.subscribe","complete");debug("get cached endpoint","start");return[4,Xf(e.randomPrefix+"_endpoint_")];case 3:i=a.sent();debug("get cached endpoint","complete",i);if(!(r&&i!==r.endpoint))return[3,9];a.label=4;case 4:a.trys.push([4,8,,9]);if(!i)return[3,6];o={provider:Uf(e.browser||""),tokenCached:i,token:r.endpoint};return[4,cl(e,o,t)];case 5:a.sent();a.label=6;case 6:debug("saving subscription endpoint from push manager to cache",r.endpoint,"start");return[4,Jf(e.randomPrefix+"_endpoint_",r.endpoint)];case 7:a.sent();debug("saving subscription endpoint from push manager to cache",r.endpoint,"complete");return[3,9];case 8:s=a.sent();console.error("Failed to save subscription endpoint from push manager to the cache",s);return[3,9];case 9:return[2]}}))}))}var dl=undefined&&undefined.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r["throw"](e))}catch(e){o(e)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))};var hl=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return c([e,t])}}function c(s){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=s[0]&2?i["return"]:s[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;if(i=0,o)s=[s[0]&2,o.value];switch(s[0]){case 0:case 1:o=s;break;case 4:n.label++;return{value:s[1],done:false};case 5:n.label++;i=s[1];s=[0];continue;case 7:s=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){n.label=s[1];break}if(s[0]===6&&n.label<o[1]){n.label=o[1];o=s;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(s);break}if(o[2])n.ops.pop();n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e];i=0}finally{r=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};(function(e){var n=t()(su);function r(e){var t=this;var n=e.data?JSON.parse(e.data.json().data.hub_link).ack:"";var r=e.data?JSON.parse(e.data.json().data.hub_link).open:"";e.waitUntil(function(){return dl(t,void 0,void 0,(function(){var e,t;return hl(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,fetch(n,{method:"get",mode:"no-cors",credentials:"include"})];case 1:i.sent();return[3,3];case 2:e=i.sent();xf("Can't send deliv action ",e);return[3,3];case 3:i.trys.push([3,5,,6]);return[4,fetch(r,{method:"get",mode:"no-cors",credentials:"include"})];case 4:i.sent();return[3,6];case 5:t=i.sent();xf("Can't send open action ",t);return[3,6];case 6:return[2]}}))}))}())}function i(e){xf("background message handler firebase");xf("SW Received push: ");xf(e)}function o(t){var n=this;var r;xf("push safari ios handler");var i=(r=t.data)===null||r===void 0?void 0:r.json();if(i){var o=i.title,s=i.body,a=i.icon,c=i.tag,u=i.data;var f=JSON.parse(u);var l=f.hub_link.ack;var d=f.hub_link.open;xf("event data: ",i);t.waitUntil(function(){return dl(n,void 0,void 0,(function(){var t,n;return hl(this,(function(r){switch(r.label){case 0:r.trys.push([0,2,,3]);return[4,fetch(l,{method:"get",mode:"no-cors",credentials:"include"})];case 1:r.sent();return[3,3];case 2:t=r.sent();xf("Can't send deliv action ",t);return[3,3];case 3:r.trys.push([3,5,,6]);return[4,fetch(d,{method:"get",mode:"no-cors",credentials:"include"})];case 4:r.sent();return[3,6];case 5:n=r.sent();xf("Can't send open action ",n);return[3,6];case 6:return[4,e.registration.showNotification(o,{body:s,icon:a,tag:c,data:f})];case 7:r.sent();return[2]}}))}))}())}}function s(t){return dl(this,void 0,void 0,(function(){var n=this;return hl(this,(function(r){xf("SW Click: ",t);t.notification.close();t.waitUntil(function(){return dl(n,void 0,void 0,(function(){var n;return hl(this,(function(r){switch(r.label){case 0:n=t.notification.data.url;return[4,e.clients.matchAll({type:"window"})];case 1:r.sent();if(!n)return[3,3];return[4,e.clients.openWindow(n)];case 2:r.sent();r.label=3;case 3:return[2]}}))}))}());return[2]}))}))}function a(t){xf("push basic handler");xf("SW Received push: ");xf(t);t.waitUntil(e.registration.pushManager.getSubscription().then((function(t){xf("fetch request");return fetch(n.serverURL+n.serverPushContentPath,{method:"post",credentials:"include",body:JSON.stringify({provider:Uf(n.browser||""),endpoint:(t===null||t===void 0?void 0:t.endpoint)||"",resource_token:n.resourceToken})}).then((function(t){xf("fetch response: ",t);if(t.status!==200){throw new Error("Error on getting push content: "+t.status)}return t.json().then((function(t){xf("fetch parse json: ",t);if(t.error){throw new Error("The server returns an error: "+t.error)}var n=t.data.title;var r=t.data.body;var i=t.data.icon;var o=t.data.tag;var s=t.data.data;return e.registration.showNotification(n,{body:r,icon:i,tag:o,data:s})}))})).catch((function(e){console.error("Unable to receive data from server",e)}))})))}function c(t){xf("SW Click: ",t);if(t.notification.tag==="user_visible_auto_notification"||!t.notification.data){return}t.notification.close();t.waitUntil(e.clients.matchAll({type:"window"}).then((function(){var r,i;var o=t.notification.data;var s=(o===null||o===void 0?void 0:o.click_action)||((i=(r=o===null||o===void 0?void 0:o.FCM_MSG)===null||r===void 0?void 0:r.notification)===null||i===void 0?void 0:i.click_action);if(t.action!==""&&typeof t.action==="string"){s=t.action}if(s.indexOf("?provider=")===-1){if($f(n)){s=s+"?provider="+Uf(n.browser||"")+"Firebase"}else{s=s+"?provider="+Uf(n.browser||"")}}xf("click URL: ",s);if(e.clients.openWindow){return e.clients.openWindow(s)}return undefined})))}try{xf("sw: start install handlers");e.addEventListener("install",(function(t){e.skipWaiting()}));n.browser=qf(e.location.href);if(!n.browser){xf("clickNotificationHandler. Location: ",e.location.href,"getBrowserNameFromURL:",qf(e.location.href));throw new Error("No browser submitted")}if($f(n)){xf("sw: should use firebase");e.addEventListener("push",r);e.addEventListener("notificationclick",c);Hr({appId:n.firebase.appId,apiKey:n.firebase.apiKey,projectId:n.firebase.projectId,messagingSenderId:n.firebase.messagingSenderId,storageBucket:[n.firebase.projectId,n.firebase.bucketSubdomain].join("."),authDomain:[n.firebase.projectId,n.firebase.authSubdomain].join("."),databaseURL:[n.firebase.projectId,n.firebase.dbSubdomain].join(".")});var u=Zc();Yc(u,i)}else if(n.browser==="Safari"){xf("sw: setup safari ios handlers");e.addEventListener("push",o);e.addEventListener("notificationclick",s)}else{xf("sw: setup default handlers");e.addEventListener("push",a);e.addEventListener("notificationclick",c)}}catch(e){xf("SW setup error",e)}})(self)})()})();