/*! Commit hash: 3169123 */
(()=>{var e={7:e=>{"use strict";var t=typeof Reflect==="object"?Reflect:null;var n=t&&typeof t.apply==="function"?t.apply:function e(t,n,r){return Function.prototype.apply.call(t,n,r)};var r;if(t&&typeof t.ownKeys==="function"){r=t.ownKeys}else if(Object.getOwnPropertySymbols){r=function e(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}}else{r=function e(t){return Object.getOwnPropertyNames(t)}}function i(e){if(console&&console.warn)console.warn(e)}var o=Number.isNaN||function e(t){return t!==t};function s(){s.init.call(this)}e.exports=s;e.exports.once=m;s.EventEmitter=s;s.prototype._events=undefined;s.prototype._eventsCount=0;s.prototype._maxListeners=undefined;var a=10;function c(e){if(typeof e!=="function"){throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:true,get:function(){return a},set:function(e){if(typeof e!=="number"||e<0||o(e)){throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".")}a=e}});s.init=function(){if(this._events===undefined||this._events===Object.getPrototypeOf(this)._events){this._events=Object.create(null);this._eventsCount=0}this._maxListeners=this._maxListeners||undefined};s.prototype.setMaxListeners=function e(t){if(typeof t!=="number"||t<0||o(t)){throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".")}this._maxListeners=t;return this};function u(e){if(e._maxListeners===undefined)return s.defaultMaxListeners;return e._maxListeners}s.prototype.getMaxListeners=function e(){return u(this)};s.prototype.emit=function e(t){var r=[];for(var i=1;i<arguments.length;i++)r.push(arguments[i]);var o=t==="error";var s=this._events;if(s!==undefined)o=o&&s.error===undefined;else if(!o)return false;if(o){var a;if(r.length>0)a=r[0];if(a instanceof Error){throw a}var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));c.context=a;throw c}var u=s[t];if(u===undefined)return false;if(typeof u==="function"){n(u,this,r)}else{var f=u.length;var l=v(u,f);for(var i=0;i<f;++i)n(l[i],this,r)}return true};function f(e,t,n,r){var o;var s;var a;c(n);s=e._events;if(s===undefined){s=e._events=Object.create(null);e._eventsCount=0}else{if(s.newListener!==undefined){e.emit("newListener",t,n.listener?n.listener:n);s=e._events}a=s[t]}if(a===undefined){a=s[t]=n;++e._eventsCount}else{if(typeof a==="function"){a=s[t]=r?[n,a]:[a,n]}else if(r){a.unshift(n)}else{a.push(n)}o=u(e);if(o>0&&a.length>o&&!a.warned){a.warned=true;var f=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners "+"added. Use emitter.setMaxListeners() to "+"increase limit");f.name="MaxListenersExceededWarning";f.emitter=e;f.type=t;f.count=a.length;i(f)}}return e}s.prototype.addListener=function e(t,n){return f(this,t,n,false)};s.prototype.on=s.prototype.addListener;s.prototype.prependListener=function e(t,n){return f(this,t,n,true)};function l(){if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=true;if(arguments.length===0)return this.listener.call(this.target);return this.listener.apply(this.target,arguments)}}function d(e,t,n){var r={fired:false,wrapFn:undefined,target:e,type:t,listener:n};var i=l.bind(r);i.listener=n;r.wrapFn=i;return i}s.prototype.once=function e(t,n){c(n);this.on(t,d(this,t,n));return this};s.prototype.prependOnceListener=function e(t,n){c(n);this.prependListener(t,d(this,t,n));return this};s.prototype.removeListener=function e(t,n){var r,i,o,s,a;c(n);i=this._events;if(i===undefined)return this;r=i[t];if(r===undefined)return this;if(r===n||r.listener===n){if(--this._eventsCount===0)this._events=Object.create(null);else{delete i[t];if(i.removeListener)this.emit("removeListener",t,r.listener||n)}}else if(typeof r!=="function"){o=-1;for(s=r.length-1;s>=0;s--){if(r[s]===n||r[s].listener===n){a=r[s].listener;o=s;break}}if(o<0)return this;if(o===0)r.shift();else{b(r,o)}if(r.length===1)i[t]=r[0];if(i.removeListener!==undefined)this.emit("removeListener",t,a||n)}return this};s.prototype.off=s.prototype.removeListener;s.prototype.removeAllListeners=function e(t){var n,r,i;r=this._events;if(r===undefined)return this;if(r.removeListener===undefined){if(arguments.length===0){this._events=Object.create(null);this._eventsCount=0}else if(r[t]!==undefined){if(--this._eventsCount===0)this._events=Object.create(null);else delete r[t]}return this}if(arguments.length===0){var o=Object.keys(r);var s;for(i=0;i<o.length;++i){s=o[i];if(s==="removeListener")continue;this.removeAllListeners(s)}this.removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return this}n=r[t];if(typeof n==="function"){this.removeListener(t,n)}else if(n!==undefined){for(i=n.length-1;i>=0;i--){this.removeListener(t,n[i])}}return this};function h(e,t,n){var r=e._events;if(r===undefined)return[];var i=r[t];if(i===undefined)return[];if(typeof i==="function")return n?[i.listener||i]:[i];return n?g(i):v(i,i.length)}s.prototype.listeners=function e(t){return h(this,t,true)};s.prototype.rawListeners=function e(t){return h(this,t,false)};s.listenerCount=function(e,t){if(typeof e.listenerCount==="function"){return e.listenerCount(t)}else{return p.call(e,t)}};s.prototype.listenerCount=p;function p(e){var t=this._events;if(t!==undefined){var n=t[e];if(typeof n==="function"){return 1}else if(n!==undefined){return n.length}}return 0}s.prototype.eventNames=function e(){return this._eventsCount>0?r(this._events):[]};function v(e,t){var n=new Array(t);for(var r=0;r<t;++r)n[r]=e[r];return n}function b(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function g(e){var t=new Array(e.length);for(var n=0;n<t.length;++n){t[n]=e[n].listener||e[n]}return t}function m(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o);r(n)}function o(){if(typeof e.removeListener==="function"){e.removeListener("error",i)}n([].slice.call(arguments))}w(e,t,o,{once:true});if(t!=="error"){y(e,i,{once:true})}}))}function y(e,t,n){if(typeof e.on==="function"){w(e,"error",t,n)}}function w(e,t,n,r){if(typeof e.on==="function"){if(r.once){e.once(t,n)}else{e.on(t,n)}}else if(typeof e.addEventListener==="function"){e.addEventListener(t,(function i(o){if(r.once){e.removeEventListener(t,i)}n(o)}))}else{throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}}},63:e=>{"use strict";e.exports=function e(t,n){n=n.split(":")[0];t=+t;if(!t)return false;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return false}return t!==0}},160:(e,t,n)=>{"use strict";var r=n(63),i=n(992),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,f=/^[a-zA-Z]:/;function l(e){return(e?e:"").toString().replace(o,"")}var d=[["#","hash"],["?","query"],function e(t,n){return v(n.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",undefined,1,1],[/:(\d*)$/,"port",undefined,1],[NaN,"hostname",undefined,1,1]];var h={hash:1,query:1};function p(e){var t;if(typeof window!=="undefined")t=window;else if(typeof n.g!=="undefined")t=n.g;else if(typeof self!=="undefined")t=self;else t={};var r=t.location||{};e=e||r;var i={},o=typeof e,s;if("blob:"===e.protocol){i=new m(unescape(e.pathname),{})}else if("string"===o){i=new m(e,{});for(s in h)delete i[s]}else if("object"===o){for(s in e){if(s in h)continue;i[s]=e[s]}if(i.slashes===undefined){i.slashes=a.test(e.href)}}return i}function v(e){return e==="file:"||e==="ftp:"||e==="http:"||e==="https:"||e==="ws:"||e==="wss:"}function b(e,t){e=l(e);e=e.replace(s,"");t=t||{};var n=u.exec(e);var r=n[1]?n[1].toLowerCase():"";var i=!!n[2];var o=!!n[3];var a=0;var c;if(i){if(o){c=n[2]+n[3]+n[4];a=n[2].length+n[3].length}else{c=n[2]+n[4];a=n[2].length}}else{if(o){c=n[3]+n[4];a=n[3].length}else{c=n[4]}}if(r==="file:"){if(a>=2){c=c.slice(2)}}else if(v(r)){c=n[4]}else if(r){if(i){c=c.slice(2)}}else if(a>=2&&v(t.protocol)){c=n[4]}return{protocol:r,slashes:i||v(r),slashesCount:a,rest:c}}function g(e,t){if(e==="")return t;var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=false,s=0;while(r--){if(n[r]==="."){n.splice(r,1)}else if(n[r]===".."){n.splice(r,1);s++}else if(s){if(r===0)o=true;n.splice(r,1);s--}}if(o)n.unshift("");if(i==="."||i==="..")n.push("");return n.join("/")}function m(e,t,n){e=l(e);e=e.replace(s,"");if(!(this instanceof m)){return new m(e,t,n)}var o,a,c,u,h,y,w=d.slice(),_=typeof t,S=this,k=0;if("object"!==_&&"string"!==_){n=t;t=null}if(n&&"function"!==typeof n)n=i.parse;t=p(t);a=b(e||"",t);o=!a.protocol&&!a.slashes;S.slashes=a.slashes||o&&t.slashes;S.protocol=a.protocol||t.protocol||"";e=a.rest;if(a.protocol==="file:"&&(a.slashesCount!==2||f.test(e))||!a.slashes&&(a.protocol||a.slashesCount<2||!v(S.protocol))){w[3]=[/(.*)/,"pathname"]}for(;k<w.length;k++){u=w[k];if(typeof u==="function"){e=u(e,S);continue}c=u[0];y=u[1];if(c!==c){S[y]=e}else if("string"===typeof c){h=c==="@"?e.lastIndexOf(c):e.indexOf(c);if(~h){if("number"===typeof u[2]){S[y]=e.slice(0,h);e=e.slice(h+u[2])}else{S[y]=e.slice(h);e=e.slice(0,h)}}}else if(h=c.exec(e)){S[y]=h[1];e=e.slice(0,h.index)}S[y]=S[y]||(o&&u[3]?t[y]||"":"");if(u[4])S[y]=S[y].toLowerCase()}if(n)S.query=n(S.query);if(o&&t.slashes&&S.pathname.charAt(0)!=="/"&&(S.pathname!==""||t.pathname!=="")){S.pathname=g(S.pathname,t.pathname)}if(S.pathname.charAt(0)!=="/"&&v(S.protocol)){S.pathname="/"+S.pathname}if(!r(S.port,S.protocol)){S.host=S.hostname;S.port=""}S.username=S.password="";if(S.auth){h=S.auth.indexOf(":");if(~h){S.username=S.auth.slice(0,h);S.username=encodeURIComponent(decodeURIComponent(S.username));S.password=S.auth.slice(h+1);S.password=encodeURIComponent(decodeURIComponent(S.password))}else{S.username=encodeURIComponent(decodeURIComponent(S.auth))}S.auth=S.password?S.username+":"+S.password:S.username}S.origin=S.protocol!=="file:"&&v(S.protocol)&&S.host?S.protocol+"//"+S.host:"null";S.href=S.toString()}function y(e,t,n){var o=this;switch(e){case"query":if("string"===typeof t&&t.length){t=(n||i.parse)(t)}o[e]=t;break;case"port":o[e]=t;if(!r(t,o.protocol)){o.host=o.hostname;o[e]=""}else if(t){o.host=o.hostname+":"+t}break;case"hostname":o[e]=t;if(o.port)t+=":"+o.port;o.host=t;break;case"host":o[e]=t;if(c.test(t)){t=t.split(":");o.port=t.pop();o.hostname=t.join(":")}else{o.hostname=t;o.port=""}break;case"protocol":o.protocol=t.toLowerCase();o.slashes=!n;break;case"pathname":case"hash":if(t){var s=e==="pathname"?"/":"#";o[e]=t.charAt(0)!==s?s+t:t}else{o[e]=t}break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");if(~a){o.username=t.slice(0,a);o.username=encodeURIComponent(decodeURIComponent(o.username));o.password=t.slice(a+1);o.password=encodeURIComponent(decodeURIComponent(o.password))}else{o.username=encodeURIComponent(decodeURIComponent(t))}}for(var u=0;u<d.length;u++){var f=d[u];if(f[4])o[f[1]]=o[f[1]].toLowerCase()}o.auth=o.password?o.username+":"+o.password:o.username;o.origin=o.protocol!=="file:"&&v(o.protocol)&&o.host?o.protocol+"//"+o.host:"null";o.href=o.toString();return o}function w(e){if(!e||"function"!==typeof e)e=i.stringify;var t,n=this,r=n.host,o=n.protocol;if(o&&o.charAt(o.length-1)!==":")o+=":";var s=o+(n.protocol&&n.slashes||v(n.protocol)?"//":"");if(n.username){s+=n.username;if(n.password)s+=":"+n.password;s+="@"}else if(n.password){s+=":"+n.password;s+="@"}else if(n.protocol!=="file:"&&v(n.protocol)&&!r&&n.pathname!=="/"){s+="@"}if(r[r.length-1]===":"||c.test(n.hostname)&&!n.port){r+=":"}s+=r+n.pathname;t="object"===typeof n.query?e(n.query):n.query;if(t)s+="?"!==t.charAt(0)?"?"+t:t;if(n.hash)s+=n.hash;return s}m.prototype={set:y,toString:w};m.extractProtocol=b;m.location=p;m.trimLeft=l;m.qs=i;e.exports=m},790:(e,t,n)=>{(function(t){if(true){e.exports=t()}else{var n}})((function(){var e,t,r;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var c=undefined;if(!a&&c)return require(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[s]={exports:{}};t[s][0].call(f.exports,(function(e){var n=t[s][1][e];return i(n?n:e)}),f,f.exports,e,t,n,r)}return n[s].exports}var o=undefined;for(var s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,r){(function(e){"use strict";var n=e.MutationObserver||e.WebKitMutationObserver;var r;{if(n){var i=0;var o=new n(f);var s=e.document.createTextNode("");o.observe(s,{characterData:true});r=function(){s.data=i=++i%2}}else if(!e.setImmediate&&typeof e.MessageChannel!=="undefined"){var a=new e.MessageChannel;a.port1.onmessage=f;r=function(){a.port2.postMessage(0)}}else if("document"in e&&"onreadystatechange"in e.document.createElement("script")){r=function(){var t=e.document.createElement("script");t.onreadystatechange=function(){f();t.onreadystatechange=null;t.parentNode.removeChild(t);t=null};e.document.documentElement.appendChild(t)}}else{r=function(){setTimeout(f,0)}}}var c;var u=[];function f(){c=true;var e,t;var n=u.length;while(n){t=u;u=[];e=-1;while(++e<n){t[e]()}n=u.length}c=false}t.exports=l;function l(e){if(u.push(e)===1&&!c){r()}}}).call(this,typeof n.g!=="undefined"?n.g:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function i(){}var o={};var s=["REJECTED"];var a=["FULFILLED"];var c=["PENDING"];t.exports=u;function u(e){if(typeof e!=="function"){throw new TypeError("resolver must be a function")}this.state=c;this.queue=[];this.outcome=void 0;if(e!==i){h(this,e)}}u.prototype["catch"]=function(e){return this.then(null,e)};u.prototype.then=function(e,t){if(typeof e!=="function"&&this.state===a||typeof t!=="function"&&this.state===s){return this}var n=new this.constructor(i);if(this.state!==c){var r=this.state===a?e:t;l(n,r,this.outcome)}else{this.queue.push(new f(n,e,t))}return n};function f(e,t,n){this.promise=e;if(typeof t==="function"){this.onFulfilled=t;this.callFulfilled=this.otherCallFulfilled}if(typeof n==="function"){this.onRejected=n;this.callRejected=this.otherCallRejected}}f.prototype.callFulfilled=function(e){o.resolve(this.promise,e)};f.prototype.otherCallFulfilled=function(e){l(this.promise,this.onFulfilled,e)};f.prototype.callRejected=function(e){o.reject(this.promise,e)};f.prototype.otherCallRejected=function(e){l(this.promise,this.onRejected,e)};function l(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}if(r===e){o.reject(e,new TypeError("Cannot resolve promise with itself"))}else{o.resolve(e,r)}}))}o.resolve=function(e,t){var n=p(d,t);if(n.status==="error"){return o.reject(e,n.value)}var r=n.value;if(r){h(e,r)}else{e.state=a;e.outcome=t;var i=-1;var s=e.queue.length;while(++i<s){e.queue[i].callFulfilled(t)}}return e};o.reject=function(e,t){e.state=s;e.outcome=t;var n=-1;var r=e.queue.length;while(++n<r){e.queue[n].callRejected(t)}return e};function d(e){var t=e&&e.then;if(e&&(typeof e==="object"||typeof e==="function")&&typeof t==="function"){return function n(){t.apply(e,arguments)}}}function h(e,t){var n=false;function r(t){if(n){return}n=true;o.reject(e,t)}function i(t){if(n){return}n=true;o.resolve(e,t)}function s(){t(i,r)}var a=p(s);if(a.status==="error"){r(a.value)}}function p(e,t){var n={};try{n.value=e(t);n.status="success"}catch(e){n.status="error";n.value=e}return n}u.resolve=v;function v(e){if(e instanceof this){return e}return o.resolve(new this(i),e)}u.reject=b;function b(e){var t=new this(i);return o.reject(t,e)}u.all=g;function g(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]"){return this.reject(new TypeError("must be an array"))}var n=e.length;var r=false;if(!n){return this.resolve([])}var s=new Array(n);var a=0;var c=-1;var u=new this(i);while(++c<n){f(e[c],c)}return u;function f(e,i){t.resolve(e).then(c,(function(e){if(!r){r=true;o.reject(u,e)}}));function c(e){s[i]=e;if(++a===n&&!r){r=true;o.resolve(u,s)}}}}u.race=m;function m(e){var t=this;if(Object.prototype.toString.call(e)!=="[object Array]"){return this.reject(new TypeError("must be an array"))}var n=e.length;var r=false;if(!n){return this.resolve([])}var s=-1;var a=new this(i);while(++s<n){c(e[s])}return a;function c(e){t.resolve(e).then((function(e){if(!r){r=true;o.resolve(a,e)}}),(function(e){if(!r){r=true;o.reject(a,e)}}))}}},{1:1}],3:[function(e,t,r){(function(t){"use strict";if(typeof t.Promise!=="function"){t.Promise=e(2)}}).call(this,typeof n.g!=="undefined"?n.g:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(){try{if(typeof indexedDB!=="undefined"){return indexedDB}if(typeof webkitIndexedDB!=="undefined"){return webkitIndexedDB}if(typeof mozIndexedDB!=="undefined"){return mozIndexedDB}if(typeof OIndexedDB!=="undefined"){return OIndexedDB}if(typeof msIndexedDB!=="undefined"){return msIndexedDB}}catch(e){return}}var s=o();function a(){try{if(!s||!s.open){return false}var e=typeof openDatabase!=="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);var t=typeof fetch==="function"&&fetch.toString().indexOf("[native code")!==-1;return(!e||t)&&typeof indexedDB!=="undefined"&&typeof IDBKeyRange!=="undefined"}catch(e){return false}}function c(e,t){e=e||[];t=t||{};try{return new Blob(e,t)}catch(o){if(o.name!=="TypeError"){throw o}var n=typeof BlobBuilder!=="undefined"?BlobBuilder:typeof MSBlobBuilder!=="undefined"?MSBlobBuilder:typeof MozBlobBuilder!=="undefined"?MozBlobBuilder:WebKitBlobBuilder;var r=new n;for(var i=0;i<e.length;i+=1){r.append(e[i])}return r.getBlob(t.type)}}if(typeof Promise==="undefined"){e(3)}var u=Promise;function f(e,t){if(t){e.then((function(e){t(null,e)}),(function(e){t(e)}))}}function l(e,t,n){if(typeof t==="function"){e.then(t)}if(typeof n==="function"){e["catch"](n)}}function d(e){if(typeof e!=="string"){console.warn(e+" used as a key, but it is not a string.");e=String(e)}return e}function h(){if(arguments.length&&typeof arguments[arguments.length-1]==="function"){return arguments[arguments.length-1]}}var p="local-forage-detect-blob-support";var v=void 0;var b={};var g=Object.prototype.toString;var m="readonly";var y="readwrite";function w(e){var t=e.length;var n=new ArrayBuffer(t);var r=new Uint8Array(n);for(var i=0;i<t;i++){r[i]=e.charCodeAt(i)}return n}function _(e){return new u((function(t){var n=e.transaction(p,y);var r=c([""]);n.objectStore(p).put(r,"key");n.onabort=function(e){e.preventDefault();e.stopPropagation();t(false)};n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/);var n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}))["catch"]((function(){return false}))}function S(e){if(typeof v==="boolean"){return u.resolve(v)}return _(e).then((function(e){v=e;return v}))}function k(e){var t=b[e.name];var n={};n.promise=new u((function(e,t){n.resolve=e;n.reject=t}));t.deferredOperations.push(n);if(!t.dbReady){t.dbReady=n.promise}else{t.dbReady=t.dbReady.then((function(){return n.promise}))}}function I(e){var t=b[e.name];var n=t.deferredOperations.pop();if(n){n.resolve();return n.promise}}function E(e,t){var n=b[e.name];var r=n.deferredOperations.pop();if(r){r.reject(t);return r.promise}}function C(e,t){return new u((function(n,r){b[e.name]=b[e.name]||j();if(e.db){if(t){k(e);e.db.close()}else{return n(e.db)}}var i=[e.name];if(t){i.push(e.version)}var o=s.open.apply(s,i);if(t){o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName);if(t.oldVersion<=1){n.createObjectStore(p)}}catch(n){if(n.name==="ConstraintError"){console.warn('The database "'+e.name+'"'+" has been upgraded from version "+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}else{throw n}}}}o.onerror=function(e){e.preventDefault();r(o.error)};o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()};n(t);I(e)}}))}function O(e){return C(e,false)}function A(e){return C(e,true)}function M(e,t){if(!e.db){return true}var n=!e.db.objectStoreNames.contains(e.storeName);var r=e.version<e.db.version;var i=e.version>e.db.version;if(r){if(e.version!==t){console.warn('The database "'+e.name+'"'+" can't be downgraded from version "+e.db.version+" to version "+e.version+".")}e.version=e.db.version}if(i||n){if(n){var o=e.db.version+1;if(o>e.version){e.version=o}}return true}return false}function P(e){return new u((function(t,n){var r=new FileReader;r.onerror=n;r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:true,data:r,type:e.type})};r.readAsBinaryString(e)}))}function N(e){var t=w(atob(e.data));return c([t],{type:e.type})}function D(e){return e&&e.__local_forage_encoded_blob}function T(e){var t=this;var n=t._initReady().then((function(){var e=b[t._dbInfo.name];if(e&&e.dbReady){return e.dbReady}}));l(n,e,e);return n}function x(e){k(e);var t=b[e.name];var n=t.forages;for(var r=0;r<n.length;r++){var i=n[r];if(i._dbInfo.db){i._dbInfo.db.close();i._dbInfo.db=null}}e.db=null;return O(e).then((function(t){e.db=t;if(M(e)){return A(e)}return t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++){n[i]._dbInfo.db=r}}))["catch"]((function(t){E(e,t);throw t}))}function R(e,t,n,r){if(r===undefined){r=1}try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||i.name==="InvalidStateError"||i.name==="NotFoundError")){return u.resolve().then((function(){if(!e.db||i.name==="NotFoundError"&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version){if(e.db){e.version=e.db.version+1}return A(e)}})).then((function(){return x(e).then((function(){R(e,t,n,r-1)}))}))["catch"](n)}n(i)}}function j(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function L(e){var t=this;var n={db:null};if(e){for(var r in e){n[r]=e[r]}}var i=b[n.name];if(!i){i=j();b[n.name]=i}i.forages.push(t);if(!t._initReady){t._initReady=t.ready;t.ready=T}var o=[];function s(){return u.resolve()}for(var a=0;a<i.forages.length;a++){var c=i.forages[a];if(c!==t){o.push(c._initReady()["catch"](s))}}var f=i.forages.slice(0);return u.all(o).then((function(){n.db=i.db;return O(n)})).then((function(e){n.db=e;if(M(n,t._defaultConfig.version)){return A(n)}return e})).then((function(e){n.db=i.db=e;t._dbInfo=n;for(var r=0;r<f.length;r++){var o=f[r];if(o!==t){o._dbInfo.db=n.db;o._dbInfo.version=n.version}}}))}function F(e,t){var n=this;e=d(e);var r=new u((function(t,r){n.ready().then((function(){R(n._dbInfo,m,(function(i,o){if(i){return r(i)}try{var s=o.objectStore(n._dbInfo.storeName);var a=s.get(e);a.onsuccess=function(){var e=a.result;if(e===undefined){e=null}if(D(e)){e=N(e)}t(e)};a.onerror=function(){r(a.error)}}catch(e){r(e)}}))}))["catch"](r)}));f(r,t);return r}function B(e,t){var n=this;var r=new u((function(t,r){n.ready().then((function(){R(n._dbInfo,m,(function(i,o){if(i){return r(i)}try{var s=o.objectStore(n._dbInfo.storeName);var a=s.openCursor();var c=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;if(D(r)){r=N(r)}var i=e(r,n.key,c++);if(i!==void 0){t(i)}else{n["continue"]()}}else{t()}};a.onerror=function(){r(a.error)}}catch(e){r(e)}}))}))["catch"](r)}));f(r,t);return r}function W(e,t,n){var r=this;e=d(e);var i=new u((function(n,i){var o;r.ready().then((function(){o=r._dbInfo;if(g.call(t)==="[object Blob]"){return S(o.db).then((function(e){if(e){return t}return P(t)}))}return t})).then((function(t){R(r._dbInfo,y,(function(o,s){if(o){return i(o)}try{var a=s.objectStore(r._dbInfo.storeName);if(t===null){t=undefined}var c=a.put(t,e);s.oncomplete=function(){if(t===undefined){t=null}n(t)};s.onabort=s.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))}))["catch"](i)}));f(i,n);return i}function z(e,t){var n=this;e=d(e);var r=new u((function(t,r){n.ready().then((function(){R(n._dbInfo,y,(function(i,o){if(i){return r(i)}try{var s=o.objectStore(n._dbInfo.storeName);var a=s["delete"](e);o.oncomplete=function(){t()};o.onerror=function(){r(a.error)};o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))}))["catch"](r)}));f(r,t);return r}function U(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){R(t._dbInfo,y,(function(r,i){if(r){return n(r)}try{var o=i.objectStore(t._dbInfo.storeName);var s=o.clear();i.oncomplete=function(){e()};i.onabort=i.onerror=function(){var e=s.error?s.error:s.transaction.error;n(e)}}catch(e){n(e)}}))}))["catch"](n)}));f(n,e);return n}function $(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){R(t._dbInfo,m,(function(r,i){if(r){return n(r)}try{var o=i.objectStore(t._dbInfo.storeName);var s=o.count();s.onsuccess=function(){e(s.result)};s.onerror=function(){n(s.error)}}catch(e){n(e)}}))}))["catch"](n)}));f(n,e);return n}function V(e,t){var n=this;var r=new u((function(t,r){if(e<0){t(null);return}n.ready().then((function(){R(n._dbInfo,m,(function(i,o){if(i){return r(i)}try{var s=o.objectStore(n._dbInfo.storeName);var a=false;var c=s.openKeyCursor();c.onsuccess=function(){var n=c.result;if(!n){t(null);return}if(e===0){t(n.key)}else{if(!a){a=true;n.advance(e)}else{t(n.key)}}};c.onerror=function(){r(c.error)}}catch(e){r(e)}}))}))["catch"](r)}));f(r,t);return r}function H(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){R(t._dbInfo,m,(function(r,i){if(r){return n(r)}try{var o=i.objectStore(t._dbInfo.storeName);var s=o.openKeyCursor();var a=[];s.onsuccess=function(){var t=s.result;if(!t){e(a);return}a.push(t.key);t["continue"]()};s.onerror=function(){n(s.error)}}catch(e){n(e)}}))}))["catch"](n)}));f(n,e);return n}function q(e,t){t=h.apply(this,arguments);var n=this.config();e=typeof e!=="function"&&e||{};if(!e.name){e.name=e.name||n.name;e.storeName=e.storeName||n.storeName}var r=this;var i;if(!e.name){i=u.reject("Invalid arguments")}else{var o=e.name===n.name&&r._dbInfo.db;var a=o?u.resolve(r._dbInfo.db):O(e).then((function(t){var n=b[e.name];var r=n.forages;n.db=t;for(var i=0;i<r.length;i++){r[i]._dbInfo.db=t}return t}));if(!e.storeName){i=a.then((function(t){k(e);var n=b[e.name];var r=n.forages;t.close();for(var i=0;i<r.length;i++){var o=r[i];o._dbInfo.db=null}var a=new u((function(t,n){var r=s.deleteDatabase(e.name);r.onerror=function(){var e=r.result;if(e){e.close()}n(r.error)};r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')};r.onsuccess=function(){var e=r.result;if(e){e.close()}t(e)}}));return a.then((function(e){n.db=e;for(var t=0;t<r.length;t++){var i=r[t];I(i._dbInfo)}}))["catch"]((function(t){(E(e,t)||u.resolve())["catch"]((function(){}));throw t}))}))}else{i=a.then((function(t){if(!t.objectStoreNames.contains(e.storeName)){return}var n=t.version+1;k(e);var r=b[e.name];var i=r.forages;t.close();for(var o=0;o<i.length;o++){var a=i[o];a._dbInfo.db=null;a._dbInfo.version=n}var c=new u((function(t,r){var i=s.open(e.name,n);i.onerror=function(e){var t=i.result;t.close();r(e)};i.onupgradeneeded=function(){var t=i.result;t.deleteObjectStore(e.storeName)};i.onsuccess=function(){var e=i.result;e.close();t(e)}}));return c.then((function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e;I(n._dbInfo)}}))["catch"]((function(t){(E(e,t)||u.resolve())["catch"]((function(){}));throw t}))}))}}f(i,t);return i}var K={_driver:"asyncStorage",_initStorage:L,_support:a(),iterate:B,getItem:F,setItem:W,removeItem:z,clear:U,length:$,key:V,keys:H,dropInstance:q};function G(){return typeof openDatabase==="function"}var J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var X="~~local_forage_type~";var Q=/^~~local_forage_type~([^~]+)~/;var Z="__lfsc__:";var Y=Z.length;var ee="arbf";var te="blob";var ne="si08";var re="ui08";var ie="uic8";var oe="si16";var se="si32";var ae="ur16";var ce="ui32";var ue="fl32";var fe="fl64";var le=Y+ee.length;var de=Object.prototype.toString;function he(e){var t=e.length*.75;var n=e.length;var r;var i=0;var o,s,a,c;if(e[e.length-1]==="="){t--;if(e[e.length-2]==="="){t--}}var u=new ArrayBuffer(t);var f=new Uint8Array(u);for(r=0;r<n;r+=4){o=J.indexOf(e[r]);s=J.indexOf(e[r+1]);a=J.indexOf(e[r+2]);c=J.indexOf(e[r+3]);f[i++]=o<<2|s>>4;f[i++]=(s&15)<<4|a>>2;f[i++]=(a&3)<<6|c&63}return u}function pe(e){var t=new Uint8Array(e);var n="";var r;for(r=0;r<t.length;r+=3){n+=J[t[r]>>2];n+=J[(t[r]&3)<<4|t[r+1]>>4];n+=J[(t[r+1]&15)<<2|t[r+2]>>6];n+=J[t[r+2]&63]}if(t.length%3===2){n=n.substring(0,n.length-1)+"="}else if(t.length%3===1){n=n.substring(0,n.length-2)+"=="}return n}function ve(e,t){var n="";if(e){n=de.call(e)}if(e&&(n==="[object ArrayBuffer]"||e.buffer&&de.call(e.buffer)==="[object ArrayBuffer]")){var r;var i=Z;if(e instanceof ArrayBuffer){r=e;i+=ee}else{r=e.buffer;if(n==="[object Int8Array]"){i+=ne}else if(n==="[object Uint8Array]"){i+=re}else if(n==="[object Uint8ClampedArray]"){i+=ie}else if(n==="[object Int16Array]"){i+=oe}else if(n==="[object Uint16Array]"){i+=ae}else if(n==="[object Int32Array]"){i+=se}else if(n==="[object Uint32Array]"){i+=ce}else if(n==="[object Float32Array]"){i+=ue}else if(n==="[object Float64Array]"){i+=fe}else{t(new Error("Failed to get type for BinaryArray"))}}t(i+pe(r))}else if(n==="[object Blob]"){var o=new FileReader;o.onload=function(){var n=X+e.type+"~"+pe(this.result);t(Z+te+n)};o.readAsArrayBuffer(e)}else{try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e);t(null,n)}}}function be(e){if(e.substring(0,Y)!==Z){return JSON.parse(e)}var t=e.substring(le);var n=e.substring(Y,le);var r;if(n===te&&Q.test(t)){var i=t.match(Q);r=i[1];t=t.substring(i[0].length)}var o=he(t);switch(n){case ee:return o;case te:return c([o],{type:r});case ne:return new Int8Array(o);case re:return new Uint8Array(o);case ie:return new Uint8ClampedArray(o);case oe:return new Int16Array(o);case ae:return new Uint16Array(o);case se:return new Int32Array(o);case ce:return new Uint32Array(o);case ue:return new Float32Array(o);case fe:return new Float64Array(o);default:throw new Error("Unkown type: "+n)}}var ge={serialize:ve,deserialize:be,stringToBuffer:he,bufferToString:pe};function me(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" "+"(id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function ye(e){var t=this;var n={db:null};if(e){for(var r in e){n[r]=typeof e[r]!=="string"?e[r].toString():e[r]}}var i=new u((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){me(i,n,(function(){t._dbInfo=n;e()}),(function(e,t){r(t)}))}),r)}));n.serializer=ge;return i}function we(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,s){if(s.code===s.SYNTAX_ERR){e.executeSql("SELECT name FROM sqlite_master "+"WHERE type='table' AND name = ?",[t.storeName],(function(e,a){if(!a.rows.length){me(e,t,(function(){e.executeSql(n,r,i,o)}),o)}else{o(e,s)}}),o)}else{o(e,s)}}),o)}function _e(e,t){var n=this;e=d(e);var r=new u((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){we(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;if(r){r=i.serializer.deserialize(r)}t(r)}),(function(e,t){r(t)}))}))}))["catch"](r)}));f(r,t);return r}function Se(e,t){var n=this;var r=new u((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){we(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){var o=r.rows;var s=o.length;for(var a=0;a<s;a++){var c=o.item(a);var u=c.value;if(u){u=i.serializer.deserialize(u)}u=e(u,c.key,a+1);if(u!==void 0){t(u);return}}t()}),(function(e,t){r(t)}))}))}))["catch"](r)}));f(r,t);return r}function ke(e,t,n,r){var i=this;e=d(e);var o=new u((function(o,s){i.ready().then((function(){if(t===undefined){t=null}var a=t;var c=i._dbInfo;c.serializer.serialize(t,(function(t,u){if(u){s(u)}else{c.db.transaction((function(n){we(n,c,"INSERT OR REPLACE INTO "+c.storeName+" "+"(key, value) VALUES (?, ?)",[e,t],(function(){o(a)}),(function(e,t){s(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0){o(ke.apply(i,[e,a,n,r-1]));return}s(t)}}))}}))}))["catch"](s)}));f(o,n);return o}function Ie(e,t,n){return ke.apply(this,[e,t,n,1])}function Ee(e,t){var n=this;e=d(e);var r=new u((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){we(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))}))["catch"](r)}));f(r,t);return r}function Ce(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){we(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))}))["catch"](n)}));f(n,e);return n}function Oe(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){we(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))}))["catch"](n)}));f(n,e);return n}function Ae(e,t){var n=this;var r=new u((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){we(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))}))["catch"](r)}));f(r,t);return r}function Me(e){var t=this;var n=new u((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){we(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){var r=[];for(var i=0;i<n.rows.length;i++){r.push(n.rows.item(i).key)}e(r)}),(function(e,t){n(t)}))}))}))["catch"](n)}));f(n,e);return n}function Pe(e){return new u((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master "+"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){var i=[];for(var o=0;o<r.rows.length;o++){i.push(r.rows.item(o).name)}t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}function Ne(e,t){t=h.apply(this,arguments);var n=this.config();e=typeof e!=="function"&&e||{};if(!e.name){e.name=e.name||n.name;e.storeName=e.storeName||n.storeName}var r=this;var i;if(!e.name){i=u.reject("Invalid arguments")}else{i=new u((function(t){var i;if(e.name===n.name){i=r._dbInfo.db}else{i=openDatabase(e.name,"","",0)}if(!e.storeName){t(Pe(i))}else{t({db:i,storeNames:[e.storeName]})}})).then((function(e){return new u((function(t,n){e.db.transaction((function(r){function i(e){return new u((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}var o=[];for(var s=0,a=e.storeNames.length;s<a;s++){o.push(i(e.storeNames[s]))}u.all(o).then((function(){t()}))["catch"]((function(e){n(e)}))}),(function(e){n(e)}))}))}))}f(i,t);return i}var De={_driver:"webSQLStorage",_initStorage:ye,_support:G(),iterate:Se,getItem:_e,setItem:Ie,removeItem:Ee,clear:Ce,length:Oe,key:Ae,keys:Me,dropInstance:Ne};function Te(){try{return typeof localStorage!=="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return false}}function xe(e,t){var n=e.name+"/";if(e.storeName!==t.storeName){n+=e.storeName+"/"}return n}function Re(){var e="_localforage_support_test";try{localStorage.setItem(e,true);localStorage.removeItem(e);return false}catch(e){return true}}function je(){return!Re()||localStorage.length>0}function Le(e){var t=this;var n={};if(e){for(var r in e){n[r]=e[r]}}n.keyPrefix=xe(e,t._defaultConfig);if(!je()){return u.reject()}t._dbInfo=n;n.serializer=ge;return u.resolve()}function Fe(e){var t=this;var n=t.ready().then((function(){var e=t._dbInfo.keyPrefix;for(var n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);if(r.indexOf(e)===0){localStorage.removeItem(r)}}}));f(n,e);return n}function Be(e,t){var n=this;e=d(e);var r=n.ready().then((function(){var t=n._dbInfo;var r=localStorage.getItem(t.keyPrefix+e);if(r){r=t.serializer.deserialize(r)}return r}));f(r,t);return r}function We(e,t){var n=this;var r=n.ready().then((function(){var t=n._dbInfo;var r=t.keyPrefix;var i=r.length;var o=localStorage.length;var s=1;for(var a=0;a<o;a++){var c=localStorage.key(a);if(c.indexOf(r)!==0){continue}var u=localStorage.getItem(c);if(u){u=t.serializer.deserialize(u)}u=e(u,c.substring(i),s++);if(u!==void 0){return u}}}));f(r,t);return r}function ze(e,t){var n=this;var r=n.ready().then((function(){var t=n._dbInfo;var r;try{r=localStorage.key(e)}catch(e){r=null}if(r){r=r.substring(t.keyPrefix.length)}return r}));f(r,t);return r}function Ue(e){var t=this;var n=t.ready().then((function(){var e=t._dbInfo;var n=localStorage.length;var r=[];for(var i=0;i<n;i++){var o=localStorage.key(i);if(o.indexOf(e.keyPrefix)===0){r.push(o.substring(e.keyPrefix.length))}}return r}));f(n,e);return n}function $e(e){var t=this;var n=t.keys().then((function(e){return e.length}));f(n,e);return n}function Ve(e,t){var n=this;e=d(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));f(r,t);return r}function He(e,t,n){var r=this;e=d(e);var i=r.ready().then((function(){if(t===undefined){t=null}var n=t;return new u((function(i,o){var s=r._dbInfo;s.serializer.serialize(t,(function(t,r){if(r){o(r)}else{try{localStorage.setItem(s.keyPrefix+e,t);i(n)}catch(e){if(e.name==="QuotaExceededError"||e.name==="NS_ERROR_DOM_QUOTA_REACHED"){o(e)}o(e)}}}))}))}));f(i,n);return i}function qe(e,t){t=h.apply(this,arguments);e=typeof e!=="function"&&e||{};if(!e.name){var n=this.config();e.name=e.name||n.name;e.storeName=e.storeName||n.storeName}var r=this;var i;if(!e.name){i=u.reject("Invalid arguments")}else{i=new u((function(t){if(!e.storeName){t(e.name+"/")}else{t(xe(e,r._defaultConfig))}})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);if(n.indexOf(e)===0){localStorage.removeItem(n)}}}))}f(i,t);return i}var Ke={_driver:"localStorageWrapper",_initStorage:Le,_support:Te(),iterate:We,getItem:Be,setItem:He,removeItem:Ve,clear:Fe,length:$e,key:ze,keys:Ue,dropInstance:qe};var Ge=function e(t,n){return t===n||typeof t==="number"&&typeof n==="number"&&isNaN(t)&&isNaN(n)};var Je=function e(t,n){var r=t.length;var i=0;while(i<r){if(Ge(t[i],n)){return true}i++}return false};var Xe=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};var Qe={};var Ze={};var Ye={INDEXEDDB:K,WEBSQL:De,LOCALSTORAGE:Ke};var et=[Ye.INDEXEDDB._driver,Ye.WEBSQL._driver,Ye.LOCALSTORAGE._driver];var tt=["dropInstance"];var nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt);var rt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function it(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function ot(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t){for(var n in t){if(t.hasOwnProperty(n)){if(Xe(t[n])){arguments[0][n]=t[n].slice()}else{arguments[0][n]=t[n]}}}}}return arguments[0]}var st=function(){function e(t){i(this,e);for(var n in Ye){if(Ye.hasOwnProperty(n)){var r=Ye[n];var o=r._driver;this[n]=o;if(!Qe[o]){this.defineDriver(r)}}}this._defaultConfig=ot({},rt);this._config=ot({},this._defaultConfig,t);this._driverSet=null;this._initDriver=null;this._ready=false;this._dbInfo=null;this._wrapLibraryMethodsWithReady();this.setDriver(this._config.driver)["catch"]((function(){}))}e.prototype.config=function e(t){if((typeof t==="undefined"?"undefined":r(t))==="object"){if(this._ready){return new Error("Can't call config() after localforage "+"has been used.")}for(var n in t){if(n==="storeName"){t[n]=t[n].replace(/\W/g,"_")}if(n==="version"&&typeof t[n]!=="number"){return new Error("Database version must be a number.")}this._config[n]=t[n]}if("driver"in t&&t.driver){return this.setDriver(this._config.driver)}return true}else if(typeof t==="string"){return this._config[t]}else{return this._config}};e.prototype.defineDriver=function e(t,n,r){var i=new u((function(e,n){try{var r=t._driver;var i=new Error("Custom driver not compliant; see "+"https://mozilla.github.io/localForage/#definedriver");if(!t._driver){n(i);return}var o=nt.concat("_initStorage");for(var s=0,a=o.length;s<a;s++){var c=o[s];var l=!Je(tt,c);if((l||t[c])&&typeof t[c]!=="function"){n(i);return}}var d=function e(){var n=function e(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver");var n=u.reject(e);f(n,arguments[arguments.length-1]);return n}};for(var r=0,i=tt.length;r<i;r++){var o=tt[r];if(!t[o]){t[o]=n(o)}}};d();var h=function n(i){if(Qe[r]){console.info("Redefining LocalForage driver: "+r)}Qe[r]=t;Ze[r]=i;e()};if("_support"in t){if(t._support&&typeof t._support==="function"){t._support().then(h,n)}else{h(!!t._support)}}else{h(true)}}catch(e){n(e)}}));l(i,n,r);return i};e.prototype.driver=function e(){return this._driver||null};e.prototype.getDriver=function e(t,n,r){var i=Qe[t]?u.resolve(Qe[t]):u.reject(new Error("Driver not found."));l(i,n,r);return i};e.prototype.getSerializer=function e(t){var n=u.resolve(ge);l(n,t);return n};e.prototype.ready=function e(t){var n=this;var r=n._driverSet.then((function(){if(n._ready===null){n._ready=n._initDriver()}return n._ready}));l(r,t,t);return r};e.prototype.setDriver=function e(t,n,r){var i=this;if(!Xe(t)){t=[t]}var o=this._getSupportedDrivers(t);function s(){i._config.driver=i.driver()}function a(e){i._extend(e);s();i._ready=i._initStorage(i._config);return i._ready}function c(e){return function(){var t=0;function n(){while(t<e.length){var r=e[t];t++;i._dbInfo=null;i._ready=null;return i.getDriver(r).then(a)["catch"](n)}s();var o=new Error("No available storage method found.");i._driverSet=u.reject(o);return i._driverSet}return n()}}var f=this._driverSet!==null?this._driverSet["catch"]((function(){return u.resolve()})):u.resolve();this._driverSet=f.then((function(){var e=o[0];i._dbInfo=null;i._ready=null;return i.getDriver(e).then((function(e){i._driver=e._driver;s();i._wrapLibraryMethodsWithReady();i._initDriver=c(o)}))}))["catch"]((function(){s();var e=new Error("No available storage method found.");i._driverSet=u.reject(e);return i._driverSet}));l(this._driverSet,n,r);return this._driverSet};e.prototype.supports=function e(t){return!!Ze[t]};e.prototype._extend=function e(t){ot(this,t)};e.prototype._getSupportedDrivers=function e(t){var n=[];for(var r=0,i=t.length;r<i;r++){var o=t[r];if(this.supports(o)){n.push(o)}}return n};e.prototype._wrapLibraryMethodsWithReady=function e(){for(var t=0,n=nt.length;t<n;t++){it(this,nt[t])}};e.prototype.createInstance=function t(n){return new e(n)};return e}();var at=new st;t.exports=at},{3:3}]},{},[4])(4)}))},880:function(e){!function(t,n){true?e.exports=n():0}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(i,o),a=0,c=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===a)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"};t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"};t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"};t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"};t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&s(t.prototype,n),r&&s(t,r),e}();t.default=a,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),s=c(n(95)),a=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),c=a.default.find(s,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(n[c]);if(void 0!==u)return u}var f=a.default.find(s,(function(e){return t.isPlatform(e)}));if(f){var l=this.satisfies(n[f]);if(void 0!==l)return l}}if(o>0){var d=Object.keys(i),h=a.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r};var o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18);var s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18);var s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18);var s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})}))},992:(e,t)=>{"use strict";var n=Object.prototype.hasOwnProperty,r;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function o(e){try{return encodeURIComponent(e)}catch(e){return null}}function s(e){var t=/([^=?#&]+)=?([^&]*)/g,n={},r;while(r=t.exec(e)){var o=i(r[1]),s=i(r[2]);if(o===null||s===null||o in n)continue;n[o]=s}return n}function a(e,t){t=t||"";var i=[],s,a;if("string"!==typeof t)t="?";for(a in e){if(n.call(e,a)){s=e[a];if(!s&&(s===null||s===r||isNaN(s))){s=""}a=o(a);s=o(s);if(a===null||s===null)continue;i.push(a+"="+s)}}return i.length?t+i.join("&"):""}t.stringify=a;t.parse=s}};var t={};function n(r){var i=t[r];if(i!==undefined){return i.exports}var o=t[r]={exports:{}};e[r].call(o.exports,o,o.exports,n);return o.exports}(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;n.d(t,{a:t});return t}})();(()=>{n.d=(e,t)=>{for(var r in t){if(n.o(t,r)&&!n.o(e,r)){Object.defineProperty(e,r,{enumerable:true,get:t[r]})}}}})();(()=>{n.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window==="object")return window}}()})();(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();var r={};(()=>{"use strict";var e=n(7);const t={NODE_CLIENT:false,NODE_ADMIN:false,SDK_VERSION:"${JSCORE_VERSION}"};const r=function(e,t){if(!e){throw i(t)}};const i=function(e){return new Error("Firebase Database ("+t.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};const o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if((i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320){i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return t};const s=function(e){const t=[];let n=0,r=0;while(n<e.length){const i=e[n++];if(i<128){t[r++]=String.fromCharCode(i)}else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++];const s=e[n++];const a=e[n++];const c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10));t[r++]=String.fromCharCode(56320+(c&1023))}else{const o=e[n++];const s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")};const a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"abcdefghijklmnopqrstuvwxyz"+"0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(e,t){if(!Array.isArray(e)){throw Error("encodeByteArray takes an array as a parameter")}this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_;const r=[];for(let t=0;t<e.length;t+=3){const i=e[t];const o=t+1<e.length;const s=o?e[t+1]:0;const a=t+2<e.length;const c=a?e[t+2]:0;const u=i>>2;const f=(i&3)<<4|s>>4;let l=(s&15)<<2|c>>6;let d=c&63;if(!a){d=64;if(!o){l=64}}r.push(n[u],n[f],n[l],n[d])}return r.join("")},encodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return btoa(e)}return this.encodeByteArray(o(e),t)},decodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return atob(e)}return s(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_;const r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)];const o=t<e.length;const s=o?n[e.charAt(t)]:0;++t;const a=t<e.length;const u=a?n[e.charAt(t)]:64;++t;const f=t<e.length;const l=f?n[e.charAt(t)]:64;++t;if(i==null||s==null||u==null||l==null){throw new c}const d=i<<2|s>>4;r.push(d);if(u!==64){const e=s<<4&240|u>>2;r.push(e);if(l!==64){const e=u<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++){this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e);this.charToByteMap_[this.byteToCharMap_[e]]=e;this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e);this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e;if(e>=this.ENCODED_VALS_BASE.length){this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e;this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e}}}}};class c extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}const u=function(e){const t=o(e);return a.encodeByteArray(t,true)};const f=function(e){return u(e).replace(/\./g,"")};const l=function(e){try{return a.decodeString(e,true)}catch(e){console.error("base64Decode failed: ",e)}return null};function d(e){return h(undefined,e)}function h(e,t){if(!(t instanceof Object)){return t}switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:if(e===undefined){e={}}break;case Array:e=[];break;default:return t}for(const n in t){if(!t.hasOwnProperty(n)||!p(n)){continue}e[n]=h(e[n],t[n])}return e}function p(e){return e!=="__proto__"}function v(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof n.g!=="undefined"){return n.g}throw new Error("Unable to locate global object.")}const b=()=>v().__FIREBASE_DEFAULTS__;const g=()=>{if(typeof process==="undefined"||typeof process.env==="undefined"){return}const e=process.env.__FIREBASE_DEFAULTS__;if(e){return JSON.parse(e)}};const m=()=>{if(typeof document==="undefined"){return}let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&l(e[1]);return t&&JSON.parse(t)};const y=()=>{try{return getDefaultsFromPostinstall()||b()||g()||m()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}};const w=e=>{var t,n;return(n=(t=y())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]};const _=e=>{const t=w(e);if(!t){return undefined}const n=t.lastIndexOf(":");if(n<=0||n+1===t.length){throw new Error(`Invalid host ${t} with no separate hostname and port!`)}const r=parseInt(t.substring(n+1),10);if(t[0]==="["){return[t.substring(1,n-1),r]}else{return[t.substring(0,n),r]}};const S=()=>{var e;return(e=y())===null||e===void 0?void 0:e.config};const k=e=>{var t;return(t=y())===null||t===void 0?void 0:t[`_${e}`]};class I{constructor(){this.reject=()=>{};this.resolve=()=>{};this.promise=new Promise(((e,t)=>{this.resolve=e;this.reject=t}))}wrapCallback(e){return(t,n)=>{if(t){this.reject(t)}else{this.resolve(n)}if(typeof e==="function"){this.promise.catch((()=>{}));if(e.length===1){e(t)}else{e(t,n)}}}}}function E(e,t){if(e.uid){throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.')}const n={alg:"none",type:"JWT"};const r=t||"demo-project";const i=e.iat||0;const o=e.sub||e.user_id;if(!o){throw new Error("mockUserToken must contain 'sub' or 'user_id' field!")}const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);const a="";return[f(JSON.stringify(n)),f(JSON.stringify(s)),a].join(".")}function C(){if(typeof navigator!=="undefined"&&typeof navigator["userAgent"]==="string"){return navigator["userAgent"]}else{return""}}function O(){return typeof window!=="undefined"&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(C())}function A(){var e;const t=(e=y())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node"){return true}else if(t==="browser"){return false}try{return Object.prototype.toString.call(n.g.process)==="[object process]"}catch(e){return false}}function M(){return typeof window!=="undefined"||P()}function P(){return typeof WorkerGlobalScope!=="undefined"&&typeof self!=="undefined"&&self instanceof WorkerGlobalScope}function N(){return typeof navigator!=="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function D(){const e=typeof chrome==="object"?chrome.runtime:typeof browser==="object"?browser.runtime:undefined;return typeof e==="object"&&e.id!==undefined}function T(){return typeof navigator==="object"&&navigator["product"]==="ReactNative"}function x(){return C().indexOf("Electron/")>=0}function R(){const e=C();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function j(){return C().indexOf("MSAppHost/")>=0}function L(){return t.NODE_CLIENT===true||t.NODE_ADMIN===true}function F(){return!A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B(){try{return typeof indexedDB==="object"}catch(e){return false}}function W(){return new Promise(((e,t)=>{try{let n=true;const r="validate-browser-context-for-indexeddb-analytics-module";const i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close();if(!n){self.indexedDB.deleteDatabase(r)}e(true)};i.onupgradeneeded=()=>{n=false};i.onerror=()=>{var e;t(((e=i.error)===null||e===void 0?void 0:e.message)||"")}}catch(e){t(e)}}))}function z(){if(typeof navigator==="undefined"||!navigator.cookieEnabled){return false}return true}const U="FirebaseError";class $ extends Error{constructor(e,t,n){super(t);this.code=e;this.customData=n;this.name=U;Object.setPrototypeOf(this,$.prototype);if(Error.captureStackTrace){Error.captureStackTrace(this,V.prototype.create)}}}class V{constructor(e,t,n){this.service=e;this.serviceName=t;this.errors=n}create(e,...t){const n=t[0]||{};const r=`${this.service}/${e}`;const i=this.errors[e];const o=i?H(i,n):"Error";const s=`${this.serviceName}: ${o} (${r}).`;const a=new $(r,s,n);return a}}function H(e,t){return e.replace(q,((e,n)=>{const r=t[n];return r!=null?String(r):`<${n}?>`}))}const q=/\{\$([^}]+)}/g;function K(e){return JSON.parse(e)}function G(e){return JSON.stringify(e)}const J=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=K(l(o[0])||"");n=K(l(o[1])||"");i=o[2];r=n["d"]||{};delete n["d"]}catch(e){}return{header:t,claims:n,data:r,signature:i}};const X=function(e){const t=J(e).claims;const n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;if(typeof t==="object"){if(t.hasOwnProperty("nbf")){r=t["nbf"]}else if(t.hasOwnProperty("iat")){r=t["iat"]}if(t.hasOwnProperty("exp")){i=t["exp"]}else{i=r+86400}}return!!n&&!!r&&!!i&&n>=r&&n<=i};const Q=function(e){const t=J(e).claims;if(typeof t==="object"&&t.hasOwnProperty("iat")){return t["iat"]}return null};const Z=function(e){const t=J(e),n=t.claims;return!!n&&typeof n==="object"&&n.hasOwnProperty("iat")};const Y=function(e){const t=J(e).claims;return typeof t==="object"&&t["admin"]===true};function ee(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function te(e,t){if(Object.prototype.hasOwnProperty.call(e,t)){return e[t]}else{return undefined}}function ne(e){for(const t in e){if(Object.prototype.hasOwnProperty.call(e,t)){return false}}return true}function re(e,t,n){const r={};for(const i in e){if(Object.prototype.hasOwnProperty.call(e,i)){r[i]=t.call(n,e[i],i,e)}}return r}function ie(e,t){if(e===t){return true}const n=Object.keys(e);const r=Object.keys(t);for(const i of n){if(!r.includes(i)){return false}const n=e[i];const o=t[i];if(oe(n)&&oe(o)){if(!ie(n,o)){return false}}else if(n!==o){return false}}for(const e of r){if(!n.includes(e)){return false}}return true}function oe(e){return e!==null&&typeof e==="object"}function se(e,t=2e3){const n=new I;setTimeout((()=>n.reject("timeout!")),t);e.then(n.resolve,n.reject);return n.promise}function ae(e){const t=[];for(const[n,r]of Object.entries(e)){if(Array.isArray(r)){r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}))}else{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}}return t.length?"&"+t.join("&"):""}function ce(e){const t={};const n=e.replace(/^\?/,"").split("&");n.forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}));return t}function ue(e){const t=e.indexOf("?");if(!t){return""}const n=e.indexOf("#",t);return e.substring(t,n>0?n:undefined)}class fe{constructor(){this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.inbuf_=0;this.total_=0;this.blockSize=512/8;this.pad_[0]=128;for(let e=1;e<this.blockSize;++e){this.pad_[e]=0}this.reset()}reset(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.inbuf_=0;this.total_=0}compress_(e,t){if(!t){t=0}const n=this.W_;if(typeof e==="string"){for(let r=0;r<16;r++){n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3);t+=4}}else{for(let r=0;r<16;r++){n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];t+=4}}for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=(t<<1|t>>>31)&4294967295}let r=this.chain_[0];let i=this.chain_[1];let o=this.chain_[2];let s=this.chain_[3];let a=this.chain_[4];let c,u;for(let e=0;e<80;e++){if(e<40){if(e<20){c=s^i&(o^s);u=1518500249}else{c=i^o^s;u=1859775393}}else{if(e<60){c=i&o|s&(i|o);u=2400959708}else{c=i^o^s;u=3395469782}}const t=(r<<5|r>>>27)+c+a+u+n[e]&4294967295;a=s;s=o;o=(i<<30|i>>>2)&4294967295;i=r;r=t}this.chain_[0]=this.chain_[0]+r&4294967295;this.chain_[1]=this.chain_[1]+i&4294967295;this.chain_[2]=this.chain_[2]+o&4294967295;this.chain_[3]=this.chain_[3]+s&4294967295;this.chain_[4]=this.chain_[4]+a&4294967295}update(e,t){if(e==null){return}if(t===undefined){t=e.length}const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;while(r<t){if(o===0){while(r<=n){this.compress_(e,r);r+=this.blockSize}}if(typeof e==="string"){while(r<t){i[o]=e.charCodeAt(r);++o;++r;if(o===this.blockSize){this.compress_(i);o=0;break}}}else{while(r<t){i[o]=e[r];++o;++r;if(o===this.blockSize){this.compress_(i);o=0;break}}}}this.inbuf_=o;this.total_+=t}digest(){const e=[];let t=this.total_*8;if(this.inbuf_<56){this.update(this.pad_,56-this.inbuf_)}else{this.update(this.pad_,this.blockSize-(this.inbuf_-56))}for(let e=this.blockSize-1;e>=56;e--){this.buf_[e]=t&255;t/=256}this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++){for(let r=24;r>=0;r-=8){e[n]=this.chain_[t]>>r&255;++n}}return e}}function le(e,t){const n=new de(e,t);return n.subscribe.bind(n)}class de{constructor(e,t){this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=Promise.resolve();this.finalized=false;this.onNoObservers=t;this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)}));this.close(e)}complete(){this.forEachObserver((e=>{e.complete()}));this.close()}subscribe(e,t,n){let r;if(e===undefined&&t===undefined&&n===undefined){throw new Error("Missing Observer.")}if(pe(e,["next","error","complete"])){r=e}else{r={next:e,error:t,complete:n}}if(r.next===undefined){r.next=ve}if(r.error===undefined){r.error=ve}if(r.complete===undefined){r.complete=ve}const i=this.unsubscribeOne.bind(this,this.observers.length);if(this.finalized){this.task.then((()=>{try{if(this.finalError){r.error(this.finalError)}else{r.complete()}}catch(e){}return}))}this.observers.push(r);return i}unsubscribeOne(e){if(this.observers===undefined||this.observers[e]===undefined){return}delete this.observers[e];this.observerCount-=1;if(this.observerCount===0&&this.onNoObservers!==undefined){this.onNoObservers(this)}}forEachObserver(e){if(this.finalized){return}for(let t=0;t<this.observers.length;t++){this.sendOne(t,e)}}sendOne(e,t){this.task.then((()=>{if(this.observers!==undefined&&this.observers[e]!==undefined){try{t(this.observers[e])}catch(e){if(typeof console!=="undefined"&&console.error){console.error(e)}}}}))}close(e){if(this.finalized){return}this.finalized=true;if(e!==undefined){this.finalError=e}this.task.then((()=>{this.observers=undefined;this.onNoObservers=undefined}))}}function he(e,t){return(...n)=>{Promise.resolve(true).then((()=>{e(...n)})).catch((e=>{if(t){t(e)}}))}}function pe(e,t){if(typeof e!=="object"||e===null){return false}for(const n of t){if(n in e&&typeof e[n]==="function"){return true}}return false}function ve(){}const be=function(e,t,n,r){let i;if(r<t){i="at least "+t}else if(r>n){i=n===0?"none":"no more than "+n}if(i){const t=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(t)}};function ge(e,t){return`${e} failed: ${t} argument `}function me(e,t,n){if(n&&!t){return}if(typeof t!=="string"){throw new Error(ge(e,"namespace")+"must be a valid firebase namespace.")}}function ye(e,t,n,r){if(r&&!n){return}if(typeof n!=="function"){throw new Error(ge(e,t)+"must be a valid function.")}}function we(e,t,n,r){if(r&&!n){return}if(typeof n!=="object"||n===null){throw new Error(ge(e,t)+"must be a valid context object.")}}const _e=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);if(o>=55296&&o<=56319){const t=o-55296;i++;r(i<e.length,"Surrogate pair missing trail surrogate.");const n=e.charCodeAt(i)-56320;o=65536+(t<<10)+n}if(o<128){t[n++]=o}else if(o<2048){t[n++]=o>>6|192;t[n++]=o&63|128}else if(o<65536){t[n++]=o>>12|224;t[n++]=o>>6&63|128;t[n++]=o&63|128}else{t[n++]=o>>18|240;t[n++]=o>>12&63|128;t[n++]=o>>6&63|128;t[n++]=o&63|128}}return t};const Se=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(r<128){t++}else if(r<2048){t+=2}else if(r>=55296&&r<=56319){t+=4;n++}else{t+=3}}return t};const ke=1e3;const Ie=2;const Ee=null&&4*60*60*1e3;const Ce=.5;function Oe(e,t=ke,n=Ie){const r=t*Math.pow(n,e);const i=Math.round(Ce*r*(Math.random()-.5)*2);return Math.min(Ee,r+i)}function Ae(e){if(!Number.isFinite(e)){return`${e}`}return e+Me(e)}function Me(e){e=Math.abs(e);const t=e%100;if(t>=10&&t<=20){return"th"}const n=e%10;if(n===1){return"st"}if(n===2){return"nd"}if(n===3){return"rd"}return"th"}function Pe(e){if(e&&e._delegate){return e._delegate}else{return e}}class Ne{constructor(e,t,n){this.name=e;this.instanceFactory=t;this.type=n;this.multipleInstances=false;this.serviceProps={};this.instantiationMode="LAZY";this.onInstanceCreated=null}setInstantiationMode(e){this.instantiationMode=e;return this}setMultipleInstances(e){this.multipleInstances=e;return this}setServiceProps(e){this.serviceProps=e;return this}setInstanceCreatedCallback(e){this.onInstanceCreated=e;return this}}const De="[DEFAULT]";class Te{constructor(e,t){this.name=e;this.container=t;this.component=null;this.instances=new Map;this.instancesDeferred=new Map;this.instancesOptions=new Map;this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new I;this.instancesDeferred.set(t,e);if(this.isInitialized(t)||this.shouldAutoInitialize()){try{const n=this.getOrInitializeService({instanceIdentifier:t});if(n){e.resolve(n)}}catch(e){}}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e===null||e===void 0?void 0:e.identifier);const r=(t=e===null||e===void 0?void 0:e.optional)!==null&&t!==void 0?t:false;if(this.isInitialized(n)||this.shouldAutoInitialize()){try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r){return null}else{throw e}}}else{if(r){return null}else{throw Error(`Service ${this.name} is not available`)}}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name){throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`)}if(this.component){throw Error(`Component for ${this.name} has already been provided`)}this.component=e;if(!this.shouldAutoInitialize()){return}if(Re(e)){try{this.getOrInitializeService({instanceIdentifier:De})}catch(e){}}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}clearInstance(e=De){this.instancesDeferred.delete(e);this.instancesOptions.delete(e);this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return this.component!=null}isInitialized(e=De){return this.instances.has(e)}getOptions(e=De){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e;const n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n)){throw Error(`${this.name}(${n}) has already been initialized`)}if(!this.isComponentSet()){throw Error(`Component ${this.name} has not been registered yet`)}const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);if(n===i){t.resolve(r)}}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t);const i=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;i.add(e);this.onInitCallbacks.set(r,i);const o=this.instances.get(r);if(o){e(o,r)}return()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(!n){return}for(const r of n){try{r(e,t)}catch(e){}}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component){n=this.component.instanceFactory(this.container,{instanceIdentifier:xe(e),options:t});this.instances.set(e,n);this.instancesOptions.set(e,t);this.invokeOnInitCallbacks(n,e);if(this.component.onInstanceCreated){try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}}}return n||null}normalizeInstanceIdentifier(e=De){if(this.component){return this.component.multipleInstances?e:De}else{return e}}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xe(e){return e===De?undefined:e}function Re(e){return e.instantiationMode==="EAGER"}class je{constructor(e){this.name=e;this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){throw new Error(`Component ${e.name} has already been registered with ${this.name}`)}t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){this.providers.delete(e.name)}this.addComponent(e)}getProvider(e){if(this.providers.has(e)){return this.providers.get(e)}const t=new Te(e,this);this.providers.set(e,t);return t}getProviders(){return Array.from(this.providers.values())}}const Le=[];var Fe;(function(e){e[e["DEBUG"]=0]="DEBUG";e[e["VERBOSE"]=1]="VERBOSE";e[e["INFO"]=2]="INFO";e[e["WARN"]=3]="WARN";e[e["ERROR"]=4]="ERROR";e[e["SILENT"]=5]="SILENT"})(Fe||(Fe={}));const Be={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT};const We=Fe.INFO;const ze={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"};const Ue=(e,t,...n)=>{if(t<e.logLevel){return}const r=(new Date).toISOString();const i=ze[t];if(i){console[i](`[${r}]  ${e.name}:`,...n)}else{throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)}};class $e{constructor(e){this.name=e;this._logLevel=We;this._logHandler=Ue;this._userLogHandler=null;Le.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe)){throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``)}this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==="string"?Be[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=="function"){throw new TypeError("Value assigned to `logHandler` must be a function")}this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e);this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e);this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e);this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e);this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e);this._logHandler(this,Fe.ERROR,...e)}}function Ve(e){Le.forEach((t=>{t.setLogLevel(e)}))}function He(e,t){for(const n of Le){let r=null;if(t&&t.level){r=Be[t.level]}if(e===null){n.userLogHandler=null}else{n.userLogHandler=(t,n,...i)=>{const o=i.map((e=>{if(e==null){return null}else if(typeof e==="string"){return e}else if(typeof e==="number"||typeof e==="boolean"){return e.toString()}else if(e instanceof Error){return e.message}else{try{return JSON.stringify(e)}catch(e){return null}}})).filter((e=>e)).join(" ");if(n>=(r!==null&&r!==void 0?r:t.logLevel)){e({level:Fe[n].toLowerCase(),message:o,args:i,type:t.name})}}}}}const qe=()=>undefined;const Ke={NODE_CLIENT:false,NODE_ADMIN:false,SDK_VERSION:"${JSCORE_VERSION}"};const Ge=function(e,t){if(!e){throw Je(t)}};const Je=function(e){return new Error("Firebase Database ("+Ke.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};const Xe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if((i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320){i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return t};const Qe=function(e){const t=[];let n=0,r=0;while(n<e.length){const i=e[n++];if(i<128){t[r++]=String.fromCharCode(i)}else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++];const s=e[n++];const a=e[n++];const c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10));t[r++]=String.fromCharCode(56320+(c&1023))}else{const o=e[n++];const s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")};const Ze={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"abcdefghijklmnopqrstuvwxyz"+"0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(e,t){if(!Array.isArray(e)){throw Error("encodeByteArray takes an array as a parameter")}this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_;const r=[];for(let t=0;t<e.length;t+=3){const i=e[t];const o=t+1<e.length;const s=o?e[t+1]:0;const a=t+2<e.length;const c=a?e[t+2]:0;const u=i>>2;const f=(i&3)<<4|s>>4;let l=(s&15)<<2|c>>6;let d=c&63;if(!a){d=64;if(!o){l=64}}r.push(n[u],n[f],n[l],n[d])}return r.join("")},encodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return btoa(e)}return this.encodeByteArray(Xe(e),t)},decodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return atob(e)}return Qe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_;const r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)];const o=t<e.length;const s=o?n[e.charAt(t)]:0;++t;const a=t<e.length;const c=a?n[e.charAt(t)]:64;++t;const u=t<e.length;const f=u?n[e.charAt(t)]:64;++t;if(i==null||s==null||c==null||f==null){throw new Ye}const l=i<<2|s>>4;r.push(l);if(c!==64){const e=s<<4&240|c>>2;r.push(e);if(f!==64){const e=c<<6&192|f;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++){this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e);this.charToByteMap_[this.byteToCharMap_[e]]=e;this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e);this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e;if(e>=this.ENCODED_VALS_BASE.length){this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e;this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e}}}}};class Ye extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}const et=function(e){const t=Xe(e);return Ze.encodeByteArray(t,true)};const tt=function(e){return et(e).replace(/\./g,"")};const nt=function(e){try{return Ze.decodeString(e,true)}catch(e){console.error("base64Decode failed: ",e)}return null};function rt(e){return it(undefined,e)}function it(e,t){if(!(t instanceof Object)){return t}switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:if(e===undefined){e={}}break;case Array:e=[];break;default:return t}for(const n in t){if(!t.hasOwnProperty(n)||!ot(n)){continue}e[n]=it(e[n],t[n])}return e}function ot(e){return e!=="__proto__"}function st(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof n.g!=="undefined"){return n.g}throw new Error("Unable to locate global object.")}const at=()=>st().__FIREBASE_DEFAULTS__;const ct=()=>{if(typeof process==="undefined"||typeof process.env==="undefined"){return}const e=process.env.__FIREBASE_DEFAULTS__;if(e){return JSON.parse(e)}};const ut=()=>{if(typeof document==="undefined"){return}let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&nt(e[1]);return t&&JSON.parse(t)};const ft=()=>{try{return qe()||at()||ct()||ut()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}};const lt=e=>{var t,n;return(n=(t=ft())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]};const dt=e=>{const t=lt(e);if(!t){return undefined}const n=t.lastIndexOf(":");if(n<=0||n+1===t.length){throw new Error(`Invalid host ${t} with no separate hostname and port!`)}const r=parseInt(t.substring(n+1),10);if(t[0]==="["){return[t.substring(1,n-1),r]}else{return[t.substring(0,n),r]}};const ht=()=>{var e;return(e=ft())===null||e===void 0?void 0:e.config};const pt=e=>{var t;return(t=ft())===null||t===void 0?void 0:t[`_${e}`]};class vt{constructor(){this.reject=()=>{};this.resolve=()=>{};this.promise=new Promise(((e,t)=>{this.resolve=e;this.reject=t}))}wrapCallback(e){return(t,n)=>{if(t){this.reject(t)}else{this.resolve(n)}if(typeof e==="function"){this.promise.catch((()=>{}));if(e.length===1){e(t)}else{e(t,n)}}}}}function bt(e,t){if(e.uid){throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.')}const n={alg:"none",type:"JWT"};const r=t||"demo-project";const i=e.iat||0;const o=e.sub||e.user_id;if(!o){throw new Error("mockUserToken must contain 'sub' or 'user_id' field!")}const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);const a="";return[tt(JSON.stringify(n)),tt(JSON.stringify(s)),a].join(".")}function gt(){if(typeof navigator!=="undefined"&&typeof navigator["userAgent"]==="string"){return navigator["userAgent"]}else{return""}}function mt(){return typeof window!=="undefined"&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function yt(){var e;const t=(e=ft())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node"){return true}else if(t==="browser"){return false}try{return Object.prototype.toString.call(n.g.process)==="[object process]"}catch(e){return false}}function wt(){return typeof window!=="undefined"||_t()}function _t(){return typeof WorkerGlobalScope!=="undefined"&&typeof self!=="undefined"&&self instanceof WorkerGlobalScope}function St(){return typeof navigator!=="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function kt(){const e=typeof chrome==="object"?chrome.runtime:typeof browser==="object"?browser.runtime:undefined;return typeof e==="object"&&e.id!==undefined}function It(){return typeof navigator==="object"&&navigator["product"]==="ReactNative"}function Et(){return gt().indexOf("Electron/")>=0}function Ct(){const e=gt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ot(){return gt().indexOf("MSAppHost/")>=0}function At(){return Ke.NODE_CLIENT===true||Ke.NODE_ADMIN===true}function Mt(){return!yt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pt(){try{return typeof indexedDB==="object"}catch(e){return false}}function Nt(){return new Promise(((e,t)=>{try{let n=true;const r="validate-browser-context-for-indexeddb-analytics-module";const i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close();if(!n){self.indexedDB.deleteDatabase(r)}e(true)};i.onupgradeneeded=()=>{n=false};i.onerror=()=>{var e;t(((e=i.error)===null||e===void 0?void 0:e.message)||"")}}catch(e){t(e)}}))}function Dt(){if(typeof navigator==="undefined"||!navigator.cookieEnabled){return false}return true}const Tt="FirebaseError";class xt extends Error{constructor(e,t,n){super(t);this.code=e;this.customData=n;this.name=Tt;Object.setPrototypeOf(this,xt.prototype);if(Error.captureStackTrace){Error.captureStackTrace(this,Rt.prototype.create)}}}class Rt{constructor(e,t,n){this.service=e;this.serviceName=t;this.errors=n}create(e,...t){const n=t[0]||{};const r=`${this.service}/${e}`;const i=this.errors[e];const o=i?jt(i,n):"Error";const s=`${this.serviceName}: ${o} (${r}).`;const a=new xt(r,s,n);return a}}function jt(e,t){return e.replace(Lt,((e,n)=>{const r=t[n];return r!=null?String(r):`<${n}?>`}))}const Lt=/\{\$([^}]+)}/g;function Ft(e){return JSON.parse(e)}function Bt(e){return JSON.stringify(e)}const Wt=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=Ft(nt(o[0])||"");n=Ft(nt(o[1])||"");i=o[2];r=n["d"]||{};delete n["d"]}catch(e){}return{header:t,claims:n,data:r,signature:i}};const zt=function(e){const t=Wt(e).claims;const n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;if(typeof t==="object"){if(t.hasOwnProperty("nbf")){r=t["nbf"]}else if(t.hasOwnProperty("iat")){r=t["iat"]}if(t.hasOwnProperty("exp")){i=t["exp"]}else{i=r+86400}}return!!n&&!!r&&!!i&&n>=r&&n<=i};const Ut=function(e){const t=Wt(e).claims;if(typeof t==="object"&&t.hasOwnProperty("iat")){return t["iat"]}return null};const $t=function(e){const t=Wt(e),n=t.claims;return!!n&&typeof n==="object"&&n.hasOwnProperty("iat")};const Vt=function(e){const t=Wt(e).claims;return typeof t==="object"&&t["admin"]===true};function Ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qt(e,t){if(Object.prototype.hasOwnProperty.call(e,t)){return e[t]}else{return undefined}}function Kt(e){for(const t in e){if(Object.prototype.hasOwnProperty.call(e,t)){return false}}return true}function Gt(e,t,n){const r={};for(const i in e){if(Object.prototype.hasOwnProperty.call(e,i)){r[i]=t.call(n,e[i],i,e)}}return r}function Jt(e,t){if(e===t){return true}const n=Object.keys(e);const r=Object.keys(t);for(const i of n){if(!r.includes(i)){return false}const n=e[i];const o=t[i];if(Xt(n)&&Xt(o)){if(!Jt(n,o)){return false}}else if(n!==o){return false}}for(const e of r){if(!n.includes(e)){return false}}return true}function Xt(e){return e!==null&&typeof e==="object"}function Qt(e,t=2e3){const n=new vt;setTimeout((()=>n.reject("timeout!")),t);e.then(n.resolve,n.reject);return n.promise}function Zt(e){const t=[];for(const[n,r]of Object.entries(e)){if(Array.isArray(r)){r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}))}else{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}}return t.length?"&"+t.join("&"):""}function Yt(e){const t={};const n=e.replace(/^\?/,"").split("&");n.forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}));return t}function en(e){const t=e.indexOf("?");if(!t){return""}const n=e.indexOf("#",t);return e.substring(t,n>0?n:undefined)}class tn{constructor(){this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.inbuf_=0;this.total_=0;this.blockSize=512/8;this.pad_[0]=128;for(let e=1;e<this.blockSize;++e){this.pad_[e]=0}this.reset()}reset(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.inbuf_=0;this.total_=0}compress_(e,t){if(!t){t=0}const n=this.W_;if(typeof e==="string"){for(let r=0;r<16;r++){n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3);t+=4}}else{for(let r=0;r<16;r++){n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];t+=4}}for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=(t<<1|t>>>31)&4294967295}let r=this.chain_[0];let i=this.chain_[1];let o=this.chain_[2];let s=this.chain_[3];let a=this.chain_[4];let c,u;for(let e=0;e<80;e++){if(e<40){if(e<20){c=s^i&(o^s);u=1518500249}else{c=i^o^s;u=1859775393}}else{if(e<60){c=i&o|s&(i|o);u=2400959708}else{c=i^o^s;u=3395469782}}const t=(r<<5|r>>>27)+c+a+u+n[e]&4294967295;a=s;s=o;o=(i<<30|i>>>2)&4294967295;i=r;r=t}this.chain_[0]=this.chain_[0]+r&4294967295;this.chain_[1]=this.chain_[1]+i&4294967295;this.chain_[2]=this.chain_[2]+o&4294967295;this.chain_[3]=this.chain_[3]+s&4294967295;this.chain_[4]=this.chain_[4]+a&4294967295}update(e,t){if(e==null){return}if(t===undefined){t=e.length}const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;while(r<t){if(o===0){while(r<=n){this.compress_(e,r);r+=this.blockSize}}if(typeof e==="string"){while(r<t){i[o]=e.charCodeAt(r);++o;++r;if(o===this.blockSize){this.compress_(i);o=0;break}}}else{while(r<t){i[o]=e[r];++o;++r;if(o===this.blockSize){this.compress_(i);o=0;break}}}}this.inbuf_=o;this.total_+=t}digest(){const e=[];let t=this.total_*8;if(this.inbuf_<56){this.update(this.pad_,56-this.inbuf_)}else{this.update(this.pad_,this.blockSize-(this.inbuf_-56))}for(let e=this.blockSize-1;e>=56;e--){this.buf_[e]=t&255;t/=256}this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++){for(let r=24;r>=0;r-=8){e[n]=this.chain_[t]>>r&255;++n}}return e}}function nn(e,t){const n=new rn(e,t);return n.subscribe.bind(n)}class rn{constructor(e,t){this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=Promise.resolve();this.finalized=false;this.onNoObservers=t;this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)}));this.close(e)}complete(){this.forEachObserver((e=>{e.complete()}));this.close()}subscribe(e,t,n){let r;if(e===undefined&&t===undefined&&n===undefined){throw new Error("Missing Observer.")}if(sn(e,["next","error","complete"])){r=e}else{r={next:e,error:t,complete:n}}if(r.next===undefined){r.next=an}if(r.error===undefined){r.error=an}if(r.complete===undefined){r.complete=an}const i=this.unsubscribeOne.bind(this,this.observers.length);if(this.finalized){this.task.then((()=>{try{if(this.finalError){r.error(this.finalError)}else{r.complete()}}catch(e){}return}))}this.observers.push(r);return i}unsubscribeOne(e){if(this.observers===undefined||this.observers[e]===undefined){return}delete this.observers[e];this.observerCount-=1;if(this.observerCount===0&&this.onNoObservers!==undefined){this.onNoObservers(this)}}forEachObserver(e){if(this.finalized){return}for(let t=0;t<this.observers.length;t++){this.sendOne(t,e)}}sendOne(e,t){this.task.then((()=>{if(this.observers!==undefined&&this.observers[e]!==undefined){try{t(this.observers[e])}catch(e){if(typeof console!=="undefined"&&console.error){console.error(e)}}}}))}close(e){if(this.finalized){return}this.finalized=true;if(e!==undefined){this.finalError=e}this.task.then((()=>{this.observers=undefined;this.onNoObservers=undefined}))}}function on(e,t){return(...n)=>{Promise.resolve(true).then((()=>{e(...n)})).catch((e=>{if(t){t(e)}}))}}function sn(e,t){if(typeof e!=="object"||e===null){return false}for(const n of t){if(n in e&&typeof e[n]==="function"){return true}}return false}function an(){}const cn=function(e,t,n,r){let i;if(r<t){i="at least "+t}else if(r>n){i=n===0?"none":"no more than "+n}if(i){const t=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(t)}};function un(e,t){return`${e} failed: ${t} argument `}function fn(e,t,n){if(n&&!t){return}if(typeof t!=="string"){throw new Error(un(e,"namespace")+"must be a valid firebase namespace.")}}function ln(e,t,n,r){if(r&&!n){return}if(typeof n!=="function"){throw new Error(un(e,t)+"must be a valid function.")}}function dn(e,t,n,r){if(r&&!n){return}if(typeof n!=="object"||n===null){throw new Error(un(e,t)+"must be a valid context object.")}}const hn=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++;Ge(r<e.length,"Surrogate pair missing trail surrogate.");const n=e.charCodeAt(r)-56320;i=65536+(t<<10)+n}if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if(i<65536){t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return t};const pn=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(r<128){t++}else if(r<2048){t+=2}else if(r>=55296&&r<=56319){t+=4;n++}else{t+=3}}return t};const vn=1e3;const bn=2;const gn=null&&4*60*60*1e3;const mn=.5;function yn(e,t=vn,n=bn){const r=t*Math.pow(n,e);const i=Math.round(mn*r*(Math.random()-.5)*2);return Math.min(gn,r+i)}function wn(e){if(!Number.isFinite(e)){return`${e}`}return e+_n(e)}function _n(e){e=Math.abs(e);const t=e%100;if(t>=10&&t<=20){return"th"}const n=e%10;if(n===1){return"st"}if(n===2){return"nd"}if(n===3){return"rd"}return"th"}function Sn(e){if(e&&e._delegate){return e._delegate}else{return e}}const kn=(e,t)=>t.some((t=>e instanceof t));let In;let En;function Cn(){return In||(In=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function On(){return En||(En=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const An=new WeakMap;const Mn=new WeakMap;const Pn=new WeakMap;const Nn=new WeakMap;const Dn=new WeakMap;function Tn(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i);e.removeEventListener("error",o)};const i=()=>{t(Bn(e.result));r()};const o=()=>{n(e.error);r()};e.addEventListener("success",i);e.addEventListener("error",o)}));t.then((t=>{if(t instanceof IDBCursor){An.set(t,e)}})).catch((()=>{}));Dn.set(t,e);return t}function xn(e){if(Mn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i);e.removeEventListener("error",o);e.removeEventListener("abort",o)};const i=()=>{t();r()};const o=()=>{n(e.error||new DOMException("AbortError","AbortError"));r()};e.addEventListener("complete",i);e.addEventListener("error",o);e.addEventListener("abort",o)}));Mn.set(e,t)}let Rn={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Mn.get(e);if(t==="objectStoreNames"){return e.objectStoreNames||Pn.get(e)}if(t==="store"){return n.objectStoreNames[1]?undefined:n.objectStore(n.objectStoreNames[0])}}return Bn(e[t])},set(e,t,n){e[t]=n;return true},has(e,t){if(e instanceof IDBTransaction&&(t==="done"||t==="store")){return true}return t in e}};function jn(e){Rn=e(Rn)}function Ln(e){if(e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)){return function(t,...n){const r=e.call(Wn(this),t,...n);Pn.set(r,t.sort?t.sort():[t]);return Bn(r)}}if(On().includes(e)){return function(...t){e.apply(Wn(this),t);return Bn(An.get(this))}}return function(...t){return Bn(e.apply(Wn(this),t))}}function Fn(e){if(typeof e==="function")return Ln(e);if(e instanceof IDBTransaction)xn(e);if(kn(e,Cn()))return new Proxy(e,Rn);return e}function Bn(e){if(e instanceof IDBRequest)return Tn(e);if(Nn.has(e))return Nn.get(e);const t=Fn(e);if(t!==e){Nn.set(e,t);Dn.set(t,e)}return t}const Wn=e=>Dn.get(e);function zn(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t);const a=Bn(s);if(r){s.addEventListener("upgradeneeded",(e=>{r(Bn(s.result),e.oldVersion,e.newVersion,Bn(s.transaction),e)}))}if(n){s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e)))}a.then((e=>{if(o)e.addEventListener("close",(()=>o()));if(i){e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))}})).catch((()=>{}));return a}function Un(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);if(t){n.addEventListener("blocked",(e=>t(e.oldVersion,e)))}return Bn(n).then((()=>undefined))}const $n=["get","getKey","getAll","getAllKeys","count"];const Vn=["put","add","delete","clear"];const Hn=new Map;function qn(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==="string")){return}if(Hn.get(t))return Hn.get(t);const n=t.replace(/FromIndex$/,"");const r=t!==n;const i=Vn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$n.includes(n))){return}const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;if(r)s=s.index(t.shift());return(await Promise.all([s[n](...t),i&&o.done]))[0]};Hn.set(t,o);return o}jn((e=>({...e,get:(t,n,r)=>qn(t,n)||e.get(t,n,r),has:(t,n)=>!!qn(t,n)||e.has(t,n)})));class Kn{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map((e=>{if(Gn(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}else{return null}})).filter((e=>e)).join(" ")}}function Gn(e){const t=e.getComponent();return(t===null||t===void 0?void 0:t.type)==="VERSION"}const Jn="@firebase/app";const Xn="0.11.5";const Qn=new $e("@firebase/app");const Zn="@firebase/app-compat";const Yn="@firebase/analytics-compat";const er="@firebase/analytics";const tr="@firebase/app-check-compat";const nr="@firebase/app-check";const rr="@firebase/auth";const ir="@firebase/auth-compat";const or="@firebase/database";const sr="@firebase/data-connect";const ar="@firebase/database-compat";const cr="@firebase/functions";const ur="@firebase/functions-compat";const fr="@firebase/installations";const lr="@firebase/installations-compat";const dr="@firebase/messaging";const hr="@firebase/messaging-compat";const pr="@firebase/performance";const vr="@firebase/performance-compat";const br="@firebase/remote-config";const gr="@firebase/remote-config-compat";const mr="@firebase/storage";const yr="@firebase/storage-compat";const wr="@firebase/firestore";const _r="@firebase/vertexai";const Sr="@firebase/firestore-compat";const kr="firebase";const Ir="11.6.1";const Er="[DEFAULT]";const Cr={[Jn]:"fire-core",[Zn]:"fire-core-compat",[er]:"fire-analytics",[Yn]:"fire-analytics-compat",[nr]:"fire-app-check",[tr]:"fire-app-check-compat",[rr]:"fire-auth",[ir]:"fire-auth-compat",[or]:"fire-rtdb",[sr]:"fire-data-connect",[ar]:"fire-rtdb-compat",[cr]:"fire-fn",[ur]:"fire-fn-compat",[fr]:"fire-iid",[lr]:"fire-iid-compat",[dr]:"fire-fcm",[hr]:"fire-fcm-compat",[pr]:"fire-perf",[vr]:"fire-perf-compat",[br]:"fire-rc",[gr]:"fire-rc-compat",[mr]:"fire-gcs",[yr]:"fire-gcs-compat",[wr]:"fire-fst",[Sr]:"fire-fst-compat",[_r]:"fire-vertex","fire-js":"fire-js",[kr]:"fire-js-all"};const Or=new Map;const Ar=new Map;const Mr=new Map;function Pr(e,t){try{e.container.addComponent(t)}catch(n){Qn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Nr(e,t){e.container.addOrOverwriteComponent(t)}function Dr(e){const t=e.name;if(Mr.has(t)){Qn.debug(`There were multiple attempts to register component ${t}.`);return false}Mr.set(t,e);for(const t of Or.values()){Pr(t,e)}for(const t of Ar.values()){Pr(t,e)}return true}function Tr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:true});if(n){void n.triggerHeartbeat()}return e.container.getProvider(t)}function xr(e,t,n=Er){Tr(e,t).clearInstance(n)}function Rr(e){return e.options!==undefined}function jr(e){if(e===null||e===undefined){return false}return e.settings!==undefined}function Lr(){Mr.clear()}const Fr={["no-app"]:"No Firebase App '{$appName}' has been created - "+"call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}'",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["server-app-deleted"]:"Firebase Server App has been deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a "+"Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",["finalization-registry-not-supported"]:"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",["invalid-server-app-environment"]:"FirebaseServerApp is not for use in browser environments."};const Br=new Rt("app","Firebase",Fr);class Wr{constructor(e,t,n){this._isDeleted=false;this._options=Object.assign({},e);this._config=Object.assign({},t);this._name=t.name;this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled;this._container=n;this.container.addComponent(new Ne("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){this.checkDestroyed();return this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed();this._automaticDataCollectionEnabled=e}get name(){this.checkDestroyed();return this._name}get options(){this.checkDestroyed();return this._options}get config(){this.checkDestroyed();return this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted){throw Br.create("app-deleted",{appName:this._name})}}}function zr(e,t){const n=nt(e.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`);return}const r=JSON.parse(n).exp;if(r===undefined){console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3;const o=(new Date).getTime();const s=i-o;if(s<=0){console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}}class Ur extends Wr{constructor(e,t,n,r){const i=t.automaticDataCollectionEnabled!==undefined?t.automaticDataCollectionEnabled:false;const o={name:n,automaticDataCollectionEnabled:i};if(e.apiKey!==undefined){super(e,o,r)}else{const t=e;super(t.options,o,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t);if(this._serverConfig.authIdToken){zr(this._serverConfig.authIdToken,"authIdToken")}if(this._serverConfig.appCheckToken){zr(this._serverConfig.appCheckToken,"appCheckToken")}this._finalizationRegistry=null;if(typeof FinalizationRegistry!=="undefined"){this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))}this._refCount=0;this.incRefCount(this._serverConfig.releaseOnDeref);this._serverConfig.releaseOnDeref=undefined;t.releaseOnDeref=undefined;Jr(Jn,Xn,"serverapp")}toJSON(){return undefined}get refCount(){return this._refCount}incRefCount(e){if(this.isDeleted){return}this._refCount++;if(e!==undefined&&this._finalizationRegistry!==null){this._finalizationRegistry.register(e,this)}}decRefCount(){if(this.isDeleted){return 0}return--this._refCount}automaticCleanup(){void Gr(this)}get settings(){this.checkDestroyed();return this._serverConfig}checkDestroyed(){if(this.isDeleted){throw Br.create("server-app-deleted")}}}const $r=null&&Ir;function Vr(e,t={}){let n=e;if(typeof t!=="object"){const e=t;t={name:e}}const r=Object.assign({name:Er,automaticDataCollectionEnabled:false},t);const i=r.name;if(typeof i!=="string"||!i){throw Br.create("bad-app-name",{appName:String(i)})}n||(n=ht());if(!n){throw Br.create("no-options")}const o=Or.get(i);if(o){if(Jt(n,o.options)&&Jt(r,o.config)){return o}else{throw Br.create("duplicate-app",{appName:i})}}const s=new je(i);for(const e of Mr.values()){s.addComponent(e)}const a=new Wr(n,r,s);Or.set(i,a);return a}function Hr(e,t){if(isBrowser()&&!isWebWorker()){throw Br.create("invalid-server-app-environment")}if(t.automaticDataCollectionEnabled===undefined){t.automaticDataCollectionEnabled=false}let n;if(Rr(e)){n=e.options}else{n=e}const r=Object.assign(Object.assign({},t),n);if(r.releaseOnDeref!==undefined){delete r.releaseOnDeref}const i=e=>[...e].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0);if(t.releaseOnDeref!==undefined){if(typeof FinalizationRegistry==="undefined"){throw Br.create("finalization-registry-not-supported",{})}}const o=""+i(JSON.stringify(r));const s=Ar.get(o);if(s){s.incRefCount(t.releaseOnDeref);return s}const a=new ComponentContainer(o);for(const e of Mr.values()){a.addComponent(e)}const c=new Ur(n,t,o,a);Ar.set(o,c);return c}function qr(e=Er){const t=Or.get(e);if(!t&&e===Er&&ht()){return Vr()}if(!t){throw Br.create("no-app",{appName:e})}return t}function Kr(){return Array.from(Or.values())}async function Gr(e){let t=false;const n=e.name;if(Or.has(n)){t=true;Or.delete(n)}else if(Ar.has(n)){const r=e;if(r.decRefCount()<=0){Ar.delete(n);t=true}}if(t){await Promise.all(e.container.getProviders().map((e=>e.delete())));e.isDeleted=true}}function Jr(e,t,n){var r;let i=(r=Cr[e])!==null&&r!==void 0?r:e;if(n){i+=`-${n}`}const o=i.match(/\s|\//);const s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];if(o){e.push(`library name "${i}" contains illegal characters (whitespace or "/")`)}if(o&&s){e.push("and")}if(s){e.push(`version name "${t}" contains illegal characters (whitespace or "/")`)}Qn.warn(e.join(" "));return}Dr(new Ne(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function Xr(e,t){if(e!==null&&typeof e!=="function"){throw Br.create("invalid-log-argument")}setUserLogHandler(e,t)}function Qr(e){setLogLevel$1(e)}const Zr="firebase-heartbeat-database";const Yr=1;const ei="firebase-heartbeat-store";let ti=null;function ni(){if(!ti){ti=zn(Zr,Yr,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ei)}catch(e){console.warn(e)}}}}).catch((e=>{throw Br.create("idb-open",{originalErrorMessage:e.message})}))}return ti}async function ri(e){try{const t=await ni();const n=t.transaction(ei);const r=await n.objectStore(ei).get(oi(e));await n.done;return r}catch(e){if(e instanceof xt){Qn.warn(e.message)}else{const t=Br.create("idb-get",{originalErrorMessage:e===null||e===void 0?void 0:e.message});Qn.warn(t.message)}}}async function ii(e,t){try{const n=await ni();const r=n.transaction(ei,"readwrite");const i=r.objectStore(ei);await i.put(t,oi(e));await r.done}catch(e){if(e instanceof xt){Qn.warn(e.message)}else{const t=Br.create("idb-set",{originalErrorMessage:e===null||e===void 0?void 0:e.message});Qn.warn(t.message)}}}function oi(e){return`${e.name}!${e.options.appId}`}const si=1024;const ai=30;class ci{constructor(e){this.container=e;this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new li(t);this._heartbeatsCachePromise=this._storage.read().then((e=>{this._heartbeatsCache=e;return e}))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate();const r=n.getPlatformInfoString();const i=ui();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null){this._heartbeatsCache=await this._heartbeatsCachePromise;if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null){return}}if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some((e=>e.date===i))){return}else{this._heartbeatsCache.heartbeats.push({date:i,agent:r});if(this._heartbeatsCache.heartbeats.length>ai){const e=hi(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qn.warn(e)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null){await this._heartbeatsCachePromise}if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0){return""}const t=ui();const{heartbeatsToSend:n,unsentEntries:r}=fi(this._heartbeatsCache.heartbeats);const i=tt(JSON.stringify({version:2,heartbeats:n}));this._heartbeatsCache.lastSentHeartbeatDate=t;if(r.length>0){this._heartbeatsCache.heartbeats=r;await this._storage.overwrite(this._heartbeatsCache)}else{this._heartbeatsCache.heartbeats=[];void this._storage.overwrite(this._heartbeatsCache)}return i}catch(e){Qn.warn(e);return""}}}function ui(){const e=new Date;return e.toISOString().substring(0,10)}function fi(e,t=si){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(!e){n.push({agent:i.agent,dates:[i.date]});if(di(n)>t){n.pop();break}}else{e.dates.push(i.date);if(di(n)>t){e.dates.pop();break}}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class li{constructor(e){this.app=e;this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){if(!Pt()){return false}else{return Nt().then((()=>true)).catch((()=>false))}}async read(){const e=await this._canUseIndexedDBPromise;if(!e){return{heartbeats:[]}}else{const e=await ri(this.app);if(e===null||e===void 0?void 0:e.heartbeats){return e}else{return{heartbeats:[]}}}}async overwrite(e){var t;const n=await this._canUseIndexedDBPromise;if(!n){return}else{const n=await this.read();return ii(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;const n=await this._canUseIndexedDBPromise;if(!n){return}else{const n=await this.read();return ii(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function di(e){return tt(JSON.stringify({version:2,heartbeats:e})).length}function hi(e){if(e.length===0){return-1}let t=0;let n=e[0].date;for(let r=1;r<e.length;r++){if(e[r].date<n){n=e[r].date;t=r}}return t}function pi(e){Dr(new Ne("platform-logger",(e=>new Kn(e)),"PRIVATE"));Dr(new Ne("heartbeat",(e=>new ci(e)),"PRIVATE"));Jr(Jn,Xn,e);Jr(Jn,Xn,"esm2017");Jr("fire-js","")}pi("");const vi={NODE_CLIENT:false,NODE_ADMIN:false,SDK_VERSION:"${JSCORE_VERSION}"};const bi=function(e,t){if(!e){throw gi(t)}};const gi=function(e){return new Error("Firebase Database ("+vi.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};const mi=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if((i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320){i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return t};const yi=function(e){const t=[];let n=0,r=0;while(n<e.length){const i=e[n++];if(i<128){t[r++]=String.fromCharCode(i)}else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++];const s=e[n++];const a=e[n++];const c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10));t[r++]=String.fromCharCode(56320+(c&1023))}else{const o=e[n++];const s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")};const wi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"abcdefghijklmnopqrstuvwxyz"+"0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob==="function",encodeByteArray(e,t){if(!Array.isArray(e)){throw Error("encodeByteArray takes an array as a parameter")}this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_;const r=[];for(let t=0;t<e.length;t+=3){const i=e[t];const o=t+1<e.length;const s=o?e[t+1]:0;const a=t+2<e.length;const c=a?e[t+2]:0;const u=i>>2;const f=(i&3)<<4|s>>4;let l=(s&15)<<2|c>>6;let d=c&63;if(!a){d=64;if(!o){l=64}}r.push(n[u],n[f],n[l],n[d])}return r.join("")},encodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return btoa(e)}return this.encodeByteArray(mi(e),t)},decodeString(e,t){if(this.HAS_NATIVE_SUPPORT&&!t){return atob(e)}return yi(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_;const r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)];const o=t<e.length;const s=o?n[e.charAt(t)]:0;++t;const a=t<e.length;const c=a?n[e.charAt(t)]:64;++t;const u=t<e.length;const f=u?n[e.charAt(t)]:64;++t;if(i==null||s==null||c==null||f==null){throw new _i}const l=i<<2|s>>4;r.push(l);if(c!==64){const e=s<<4&240|c>>2;r.push(e);if(f!==64){const e=c<<6&192|f;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++){this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e);this.charToByteMap_[this.byteToCharMap_[e]]=e;this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e);this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e;if(e>=this.ENCODED_VALS_BASE.length){this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e;this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e}}}}};class _i extends Error{constructor(){super(...arguments);this.name="DecodeBase64StringError"}}const Si=function(e){const t=mi(e);return wi.encodeByteArray(t,true)};const ki=function(e){return Si(e).replace(/\./g,"")};const Ii=function(e){try{return wi.decodeString(e,true)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ei(e){return Ci(undefined,e)}function Ci(e,t){if(!(t instanceof Object)){return t}switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:if(e===undefined){e={}}break;case Array:e=[];break;default:return t}for(const n in t){if(!t.hasOwnProperty(n)||!Oi(n)){continue}e[n]=Ci(e[n],t[n])}return e}function Oi(e){return e!=="__proto__"}function Ai(){if(typeof self!=="undefined"){return self}if(typeof window!=="undefined"){return window}if(typeof n.g!=="undefined"){return n.g}throw new Error("Unable to locate global object.")}const Mi=()=>Ai().__FIREBASE_DEFAULTS__;const Pi=()=>{if(typeof process==="undefined"||typeof process.env==="undefined"){return}const e=process.env.__FIREBASE_DEFAULTS__;if(e){return JSON.parse(e)}};const Ni=()=>{if(typeof document==="undefined"){return}let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&Ii(e[1]);return t&&JSON.parse(t)};const Di=()=>{try{return getDefaultsFromPostinstall()||Mi()||Pi()||Ni()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}};const Ti=e=>Di()?.emulatorHosts?.[e];const xi=e=>{const t=Ti(e);if(!t){return undefined}const n=t.lastIndexOf(":");if(n<=0||n+1===t.length){throw new Error(`Invalid host ${t} with no separate hostname and port!`)}const r=parseInt(t.substring(n+1),10);if(t[0]==="["){return[t.substring(1,n-1),r]}else{return[t.substring(0,n),r]}};const Ri=()=>Di()?.config;const ji=e=>Di()?.[`_${e}`];class Li{constructor(){this.reject=()=>{};this.resolve=()=>{};this.promise=new Promise(((e,t)=>{this.resolve=e;this.reject=t}))}wrapCallback(e){return(t,n)=>{if(t){this.reject(t)}else{this.resolve(n)}if(typeof e==="function"){this.promise.catch((()=>{}));if(e.length===1){e(t)}else{e(t,n)}}}}}function Fi(e){try{const t=e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e;return t.endsWith(".cloudworkstations.dev")}catch{return false}}async function Bi(e){const t=await fetch(e,{credentials:"include"});return t.ok}function Wi(e,t){if(e.uid){throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.')}const n={alg:"none",type:"JWT"};const r=t||"demo-project";const i=e.iat||0;const o=e.sub||e.user_id;if(!o){throw new Error("mockUserToken must contain 'sub' or 'user_id' field!")}const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...e};const a="";return[ki(JSON.stringify(n)),ki(JSON.stringify(s)),a].join(".")}const zi={};function Ui(){const e={prod:[],emulator:[]};for(const t of Object.keys(zi)){if(zi[t]){e.emulator.push(t)}else{e.prod.push(t)}}return e}function $i(e){let t=document.getElementById(e);let n=false;if(!t){t=document.createElement("div");t.setAttribute("id",e);n=true}return{created:n,element:t}}let Vi=false;function Hi(e,t){if(typeof window==="undefined"||typeof document==="undefined"||!Fi(window.location.host)||zi[e]===t||zi[e]||Vi){return}zi[e]=t;function n(e){return`__firebase__banner__${e}`}const r="__firebase__banner";const i=Ui();const o=i.prod.length>0;function s(){const e=document.getElementById(r);if(e){e.remove()}}function a(e){e.style.display="flex";e.style.background="#7faaf0";e.style.position="fixed";e.style.bottom="5px";e.style.left="5px";e.style.padding=".5em";e.style.borderRadius="5px";e.style.alignItems="center"}function c(e,t){e.setAttribute("width","24");e.setAttribute("id",t);e.setAttribute("height","24");e.setAttribute("viewBox","0 0 24 24");e.setAttribute("fill","none");e.style.marginLeft="-6px"}function u(){const e=document.createElement("span");e.style.cursor="pointer";e.style.marginLeft="16px";e.style.fontSize="24px";e.innerHTML=" &times;";e.onclick=()=>{Vi=true;s()};return e}function f(e,t){e.setAttribute("id",t);e.innerText="Learn more";e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend";e.setAttribute("target","__blank");e.style.paddingLeft="5px";e.style.textDecoration="underline"}function l(){const e=$i(r);const t=n("text");const i=document.getElementById(t)||document.createElement("span");const s=n("learnmore");const l=document.getElementById(s)||document.createElement("a");const d=n("preprendIcon");const h=document.getElementById(d)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;a(t);f(l,s);const n=u();c(h,d);t.append(h,i,l,n);document.body.appendChild(t)}if(o){i.innerText=`Preview backend disconnected.`;h.innerHTML=`<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>`}else{h.innerHTML=`<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>`;i.innerText="Preview backend running in this workspace."}i.setAttribute("id",t)}if(document.readyState==="loading"){window.addEventListener("DOMContentLoaded",l)}else{l()}}function qi(){if(typeof navigator!=="undefined"&&typeof navigator["userAgent"]==="string"){return navigator["userAgent"]}else{return""}}function Ki(){return typeof window!=="undefined"&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qi())}function Gi(){const e=Di()?.forceEnvironment;if(e==="node"){return true}else if(e==="browser"){return false}try{return Object.prototype.toString.call(n.g.process)==="[object process]"}catch(e){return false}}function Ji(){return typeof window!=="undefined"||Xi()}function Xi(){return typeof WorkerGlobalScope!=="undefined"&&typeof self!=="undefined"&&self instanceof WorkerGlobalScope}function Qi(){return typeof navigator!=="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function Zi(){const e=typeof chrome==="object"?chrome.runtime:typeof browser==="object"?browser.runtime:undefined;return typeof e==="object"&&e.id!==undefined}function Yi(){return typeof navigator==="object"&&navigator["product"]==="ReactNative"}function eo(){return qi().indexOf("Electron/")>=0}function to(){const e=qi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function no(){return qi().indexOf("MSAppHost/")>=0}function ro(){return vi.NODE_CLIENT===true||vi.NODE_ADMIN===true}function io(){return!Gi()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oo(){return!Gi()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function so(){try{return typeof indexedDB==="object"}catch(e){return false}}function ao(){return new Promise(((e,t)=>{try{let n=true;const r="validate-browser-context-for-indexeddb-analytics-module";const i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close();if(!n){self.indexedDB.deleteDatabase(r)}e(true)};i.onupgradeneeded=()=>{n=false};i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}}))}function co(){if(typeof navigator==="undefined"||!navigator.cookieEnabled){return false}return true}const uo="FirebaseError";class fo extends Error{constructor(e,t,n){super(t);this.code=e;this.customData=n;this.name=uo;Object.setPrototypeOf(this,fo.prototype);if(Error.captureStackTrace){Error.captureStackTrace(this,lo.prototype.create)}}}class lo{constructor(e,t,n){this.service=e;this.serviceName=t;this.errors=n}create(e,...t){const n=t[0]||{};const r=`${this.service}/${e}`;const i=this.errors[e];const o=i?ho(i,n):"Error";const s=`${this.serviceName}: ${o} (${r}).`;const a=new fo(r,s,n);return a}}function ho(e,t){return e.replace(po,((e,n)=>{const r=t[n];return r!=null?String(r):`<${n}?>`}))}const po=/\{\$([^}]+)}/g;function vo(e){return JSON.parse(e)}function bo(e){return JSON.stringify(e)}const go=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=vo(Ii(o[0])||"");n=vo(Ii(o[1])||"");i=o[2];r=n["d"]||{};delete n["d"]}catch(e){}return{header:t,claims:n,data:r,signature:i}};const mo=function(e){const t=go(e).claims;const n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;if(typeof t==="object"){if(t.hasOwnProperty("nbf")){r=t["nbf"]}else if(t.hasOwnProperty("iat")){r=t["iat"]}if(t.hasOwnProperty("exp")){i=t["exp"]}else{i=r+86400}}return!!n&&!!r&&!!i&&n>=r&&n<=i};const yo=function(e){const t=go(e).claims;if(typeof t==="object"&&t.hasOwnProperty("iat")){return t["iat"]}return null};const wo=function(e){const t=go(e),n=t.claims;return!!n&&typeof n==="object"&&n.hasOwnProperty("iat")};const _o=function(e){const t=go(e).claims;return typeof t==="object"&&t["admin"]===true};function So(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ko(e,t){if(Object.prototype.hasOwnProperty.call(e,t)){return e[t]}else{return undefined}}function Io(e){for(const t in e){if(Object.prototype.hasOwnProperty.call(e,t)){return false}}return true}function Eo(e,t,n){const r={};for(const i in e){if(Object.prototype.hasOwnProperty.call(e,i)){r[i]=t.call(n,e[i],i,e)}}return r}function Co(e,t){if(e===t){return true}const n=Object.keys(e);const r=Object.keys(t);for(const i of n){if(!r.includes(i)){return false}const n=e[i];const o=t[i];if(Oo(n)&&Oo(o)){if(!Co(n,o)){return false}}else if(n!==o){return false}}for(const e of r){if(!n.includes(e)){return false}}return true}function Oo(e){return e!==null&&typeof e==="object"}function Ao(e,t=2e3){const n=new Li;setTimeout((()=>n.reject("timeout!")),t);e.then(n.resolve,n.reject);return n.promise}function Mo(e){const t=[];for(const[n,r]of Object.entries(e)){if(Array.isArray(r)){r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}))}else{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}}return t.length?"&"+t.join("&"):""}function Po(e){const t={};const n=e.replace(/^\?/,"").split("&");n.forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}));return t}function No(e){const t=e.indexOf("?");if(!t){return""}const n=e.indexOf("#",t);return e.substring(t,n>0?n:undefined)}class Do{constructor(){this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.inbuf_=0;this.total_=0;this.blockSize=512/8;this.pad_[0]=128;for(let e=1;e<this.blockSize;++e){this.pad_[e]=0}this.reset()}reset(){this.chain_[0]=1732584193;this.chain_[1]=4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.inbuf_=0;this.total_=0}compress_(e,t){if(!t){t=0}const n=this.W_;if(typeof e==="string"){for(let r=0;r<16;r++){n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3);t+=4}}else{for(let r=0;r<16;r++){n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];t+=4}}for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=(t<<1|t>>>31)&4294967295}let r=this.chain_[0];let i=this.chain_[1];let o=this.chain_[2];let s=this.chain_[3];let a=this.chain_[4];let c,u;for(let e=0;e<80;e++){if(e<40){if(e<20){c=s^i&(o^s);u=1518500249}else{c=i^o^s;u=1859775393}}else{if(e<60){c=i&o|s&(i|o);u=2400959708}else{c=i^o^s;u=3395469782}}const t=(r<<5|r>>>27)+c+a+u+n[e]&4294967295;a=s;s=o;o=(i<<30|i>>>2)&4294967295;i=r;r=t}this.chain_[0]=this.chain_[0]+r&4294967295;this.chain_[1]=this.chain_[1]+i&4294967295;this.chain_[2]=this.chain_[2]+o&4294967295;this.chain_[3]=this.chain_[3]+s&4294967295;this.chain_[4]=this.chain_[4]+a&4294967295}update(e,t){if(e==null){return}if(t===undefined){t=e.length}const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;while(r<t){if(o===0){while(r<=n){this.compress_(e,r);r+=this.blockSize}}if(typeof e==="string"){while(r<t){i[o]=e.charCodeAt(r);++o;++r;if(o===this.blockSize){this.compress_(i);o=0;break}}}else{while(r<t){i[o]=e[r];++o;++r;if(o===this.blockSize){this.compress_(i);o=0;break}}}}this.inbuf_=o;this.total_+=t}digest(){const e=[];let t=this.total_*8;if(this.inbuf_<56){this.update(this.pad_,56-this.inbuf_)}else{this.update(this.pad_,this.blockSize-(this.inbuf_-56))}for(let e=this.blockSize-1;e>=56;e--){this.buf_[e]=t&255;t/=256}this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++){for(let r=24;r>=0;r-=8){e[n]=this.chain_[t]>>r&255;++n}}return e}}function To(e,t){const n=new xo(e,t);return n.subscribe.bind(n)}class xo{constructor(e,t){this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=Promise.resolve();this.finalized=false;this.onNoObservers=t;this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)}));this.close(e)}complete(){this.forEachObserver((e=>{e.complete()}));this.close()}subscribe(e,t,n){let r;if(e===undefined&&t===undefined&&n===undefined){throw new Error("Missing Observer.")}if(jo(e,["next","error","complete"])){r=e}else{r={next:e,error:t,complete:n}}if(r.next===undefined){r.next=Lo}if(r.error===undefined){r.error=Lo}if(r.complete===undefined){r.complete=Lo}const i=this.unsubscribeOne.bind(this,this.observers.length);if(this.finalized){this.task.then((()=>{try{if(this.finalError){r.error(this.finalError)}else{r.complete()}}catch(e){}return}))}this.observers.push(r);return i}unsubscribeOne(e){if(this.observers===undefined||this.observers[e]===undefined){return}delete this.observers[e];this.observerCount-=1;if(this.observerCount===0&&this.onNoObservers!==undefined){this.onNoObservers(this)}}forEachObserver(e){if(this.finalized){return}for(let t=0;t<this.observers.length;t++){this.sendOne(t,e)}}sendOne(e,t){this.task.then((()=>{if(this.observers!==undefined&&this.observers[e]!==undefined){try{t(this.observers[e])}catch(e){if(typeof console!=="undefined"&&console.error){console.error(e)}}}}))}close(e){if(this.finalized){return}this.finalized=true;if(e!==undefined){this.finalError=e}this.task.then((()=>{this.observers=undefined;this.onNoObservers=undefined}))}}function Ro(e,t){return(...n)=>{Promise.resolve(true).then((()=>{e(...n)})).catch((e=>{if(t){t(e)}}))}}function jo(e,t){if(typeof e!=="object"||e===null){return false}for(const n of t){if(n in e&&typeof e[n]==="function"){return true}}return false}function Lo(){}const Fo=function(e,t,n,r){let i;if(r<t){i="at least "+t}else if(r>n){i=n===0?"none":"no more than "+n}if(i){const t=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(t)}};function Bo(e,t){return`${e} failed: ${t} argument `}function Wo(e,t,n){if(n&&!t){return}if(typeof t!=="string"){throw new Error(Bo(e,"namespace")+"must be a valid firebase namespace.")}}function zo(e,t,n,r){if(r&&!n){return}if(typeof n!=="function"){throw new Error(Bo(e,t)+"must be a valid function.")}}function Uo(e,t,n,r){if(r&&!n){return}if(typeof n!=="object"||n===null){throw new Error(Bo(e,t)+"must be a valid context object.")}}const $o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++;bi(r<e.length,"Surrogate pair missing trail surrogate.");const n=e.charCodeAt(r)-56320;i=65536+(t<<10)+n}if(i<128){t[n++]=i}else if(i<2048){t[n++]=i>>6|192;t[n++]=i&63|128}else if(i<65536){t[n++]=i>>12|224;t[n++]=i>>6&63|128;t[n++]=i&63|128}else{t[n++]=i>>18|240;t[n++]=i>>12&63|128;t[n++]=i>>6&63|128;t[n++]=i&63|128}}return t};const Vo=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(r<128){t++}else if(r<2048){t+=2}else if(r>=55296&&r<=56319){t+=4;n++}else{t+=3}}return t};const Ho=1e3;const qo=2;const Ko=null&&4*60*60*1e3;const Go=.5;function Jo(e,t=Ho,n=qo){const r=t*Math.pow(n,e);const i=Math.round(Go*r*(Math.random()-.5)*2);return Math.min(Ko,r+i)}function Xo(e){if(!Number.isFinite(e)){return`${e}`}return e+Qo(e)}function Qo(e){e=Math.abs(e);const t=e%100;if(t>=10&&t<=20){return"th"}const n=e%10;if(n===1){return"st"}if(n===2){return"nd"}if(n===3){return"rd"}return"th"}function Zo(e){if(e&&e._delegate){return e._delegate}else{return e}}class Yo{constructor(e,t,n){this.name=e;this.instanceFactory=t;this.type=n;this.multipleInstances=false;this.serviceProps={};this.instantiationMode="LAZY";this.onInstanceCreated=null}setInstantiationMode(e){this.instantiationMode=e;return this}setMultipleInstances(e){this.multipleInstances=e;return this}setServiceProps(e){this.serviceProps=e;return this}setInstanceCreatedCallback(e){this.onInstanceCreated=e;return this}}const es="[DEFAULT]";class ts{constructor(e,t){this.name=e;this.container=t;this.component=null;this.instances=new Map;this.instancesDeferred=new Map;this.instancesOptions=new Map;this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Deferred;this.instancesDeferred.set(t,e);if(this.isInitialized(t)||this.shouldAutoInitialize()){try{const n=this.getOrInitializeService({instanceIdentifier:t});if(n){e.resolve(n)}}catch(e){}}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier);const n=e?.optional??false;if(this.isInitialized(t)||this.shouldAutoInitialize()){try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n){return null}else{throw e}}}else{if(n){return null}else{throw Error(`Service ${this.name} is not available`)}}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name){throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`)}if(this.component){throw Error(`Component for ${this.name} has already been provided`)}this.component=e;if(!this.shouldAutoInitialize()){return}if(rs(e)){try{this.getOrInitializeService({instanceIdentifier:es})}catch(e){}}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}clearInstance(e=es){this.instancesDeferred.delete(e);this.instancesOptions.delete(e);this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e;const n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n)){throw Error(`${this.name}(${n}) has already been initialized`)}if(!this.isComponentSet()){throw Error(`Component ${this.name} has not been registered yet`)}const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);if(n===i){t.resolve(r)}}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t);const r=this.onInitCallbacks.get(n)??new Set;r.add(e);this.onInitCallbacks.set(n,r);const i=this.instances.get(n);if(i){e(i,n)}return()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(!n){return}for(const r of n){try{r(e,t)}catch{}}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component){n=this.component.instanceFactory(this.container,{instanceIdentifier:ns(e),options:t});this.instances.set(e,n);this.instancesOptions.set(e,t);this.invokeOnInitCallbacks(n,e);if(this.component.onInstanceCreated){try{this.component.onInstanceCreated(this.container,e,n)}catch{}}}return n||null}normalizeInstanceIdentifier(e=es){if(this.component){return this.component.multipleInstances?e:es}else{return e}}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ns(e){return e===es?undefined:e}function rs(e){return e.instantiationMode==="EAGER"}class is{constructor(e){this.name=e;this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){throw new Error(`Component ${e.name} has already been registered with ${this.name}`)}t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){this.providers.delete(e.name)}this.addComponent(e)}getProvider(e){if(this.providers.has(e)){return this.providers.get(e)}const t=new ts(e,this);this.providers.set(e,t);return t}getProviders(){return Array.from(this.providers.values())}}const os="@firebase/installations";const ss="0.6.19";const as=1e4;const cs=`w:${ss}`;const us="FIS_v2";const fs="https://firebaseinstallations.googleapis.com/v1";const ls=60*60*1e3;const ds="installations";const hs="Installations";const ps={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."};const vs=new lo(ds,hs,ps);function bs(e){return e instanceof fo&&e.code.includes("request-failed")}function gs({projectId:e}){return`${fs}/projects/${e}/installations`}function ms(e){return{token:e.token,requestStatus:2,expiresIn:ks(e.expiresIn),creationTime:Date.now()}}async function ys(e,t){const n=await t.json();const r=n.error;return vs.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function ws({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function _s(e,{refreshToken:t}){const n=ws(e);n.append("Authorization",Is(t));return n}async function Ss(e){const t=await e();if(t.status>=500&&t.status<600){return e()}return t}function ks(e){return Number(e.replace("s","000"))}function Is(e){return`${us} ${e}`}async function Es({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=gs(e);const i=ws(e);const o=t.getImmediate({optional:true});if(o){const e=await o.getHeartbeatsHeader();if(e){i.append("x-firebase-client",e)}}const s={fid:n,authVersion:us,appId:e.appId,sdkVersion:cs};const a={method:"POST",headers:i,body:JSON.stringify(s)};const c=await Ss((()=>fetch(r,a)));if(c.ok){const e=await c.json();const t={fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:ms(e.authToken)};return t}else{throw await ys("Create Installation",c)}}function Cs(e){return new Promise((t=>{setTimeout(t,e)}))}function Os(e){const t=btoa(String.fromCharCode(...e));return t.replace(/\+/g,"-").replace(/\//g,"_")}const As=/^[cdef][\w-]{21}$/;const Ms="";function Ps(){try{const e=new Uint8Array(17);const t=self.crypto||self.msCrypto;t.getRandomValues(e);e[0]=112+e[0]%16;const n=Ns(e);return As.test(n)?n:Ms}catch{return Ms}}function Ns(e){const t=Os(e);return t.substr(0,22)}function Ds(e){return`${e.appName}!${e.appId}`}const Ts=new Map;function xs(e,t){const n=Ds(e);Ls(n,t);Fs(n,t)}function Rs(e,t){Ws();const n=Ds(e);let r=Ts.get(n);if(!r){r=new Set;Ts.set(n,r)}r.add(t)}function js(e,t){const n=Ds(e);const r=Ts.get(n);if(!r){return}r.delete(t);if(r.size===0){Ts.delete(n)}zs()}function Ls(e,t){const n=Ts.get(e);if(!n){return}for(const e of n){e(t)}}function Fs(e,t){const n=Ws();if(n){n.postMessage({key:e,fid:t})}zs()}let Bs=null;function Ws(){if(!Bs&&"BroadcastChannel"in self){Bs=new BroadcastChannel("[Firebase] FID Change");Bs.onmessage=e=>{Ls(e.data.key,e.data.fid)}}return Bs}function zs(){if(Ts.size===0&&Bs){Bs.close();Bs=null}}const Us="firebase-installations-database";const $s=1;const Vs="firebase-installations-store";let Hs=null;function qs(){if(!Hs){Hs=zn(Us,$s,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Vs)}}})}return Hs}async function Ks(e,t){const n=Ds(e);const r=await qs();const i=r.transaction(Vs,"readwrite");const o=i.objectStore(Vs);const s=await o.get(n);await o.put(t,n);await i.done;if(!s||s.fid!==t.fid){xs(e,t.fid)}return t}async function Gs(e){const t=Ds(e);const n=await qs();const r=n.transaction(Vs,"readwrite");await r.objectStore(Vs).delete(t);await r.done}async function Js(e,t){const n=Ds(e);const r=await qs();const i=r.transaction(Vs,"readwrite");const o=i.objectStore(Vs);const s=await o.get(n);const a=t(s);if(a===undefined){await o.delete(n)}else{await o.put(a,n)}await i.done;if(a&&(!s||s.fid!==a.fid)){xs(e,a.fid)}return a}async function Xs(e){let t;const n=await Js(e.appConfig,(n=>{const r=Qs(n);const i=Zs(e,r);t=i.registrationPromise;return i.installationEntry}));if(n.fid===Ms){return{installationEntry:await t}}return{installationEntry:n,registrationPromise:t}}function Qs(e){const t=e||{fid:Ps(),registrationStatus:0};return na(t)}function Zs(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const e=Promise.reject(vs.create("app-offline"));return{installationEntry:t,registrationPromise:e}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};const r=Ys(e,n);return{installationEntry:n,registrationPromise:r}}else if(t.registrationStatus===1){return{installationEntry:t,registrationPromise:ea(e)}}else{return{installationEntry:t}}}async function Ys(e,t){try{const n=await Es(e,t);return Ks(e.appConfig,n)}catch(n){if(bs(n)&&n.customData.serverCode===409){await Gs(e.appConfig)}else{await Ks(e.appConfig,{fid:t.fid,registrationStatus:0})}throw n}}async function ea(e){let t=await ta(e.appConfig);while(t.registrationStatus===1){await Cs(100);t=await ta(e.appConfig)}if(t.registrationStatus===0){const{installationEntry:t,registrationPromise:n}=await Xs(e);if(n){return n}else{return t}}return t}function ta(e){return Js(e,(e=>{if(!e){throw vs.create("installation-not-found")}return na(e)}))}function na(e){if(ra(e)){return{fid:e.fid,registrationStatus:0}}return e}function ra(e){return e.registrationStatus===1&&e.registrationTime+as<Date.now()}async function ia({appConfig:e,heartbeatServiceProvider:t},n){const r=oa(e,n);const i=_s(e,n);const o=t.getImmediate({optional:true});if(o){const e=await o.getHeartbeatsHeader();if(e){i.append("x-firebase-client",e)}}const s={installation:{sdkVersion:cs,appId:e.appId}};const a={method:"POST",headers:i,body:JSON.stringify(s)};const c=await Ss((()=>fetch(r,a)));if(c.ok){const e=await c.json();const t=ms(e);return t}else{throw await ys("Generate Auth Token",c)}}function oa(e,{fid:t}){return`${gs(e)}/${t}/authTokens:generate`}async function sa(e,t=false){let n;const r=await Js(e.appConfig,(r=>{if(!fa(r)){throw vs.create("not-registered")}const i=r.authToken;if(!t&&la(i)){return r}else if(i.requestStatus===1){n=aa(e,t);return r}else{if(!navigator.onLine){throw vs.create("app-offline")}const t=ha(r);n=ua(e,t);return t}}));const i=n?await n:r.authToken;return i}async function aa(e,t){let n=await ca(e.appConfig);while(n.authToken.requestStatus===1){await Cs(100);n=await ca(e.appConfig)}const r=n.authToken;if(r.requestStatus===0){return sa(e,t)}else{return r}}function ca(e){return Js(e,(e=>{if(!fa(e)){throw vs.create("not-registered")}const t=e.authToken;if(pa(t)){return{...e,authToken:{requestStatus:0}}}return e}))}async function ua(e,t){try{const n=await ia(e,t);const r={...t,authToken:n};await Ks(e.appConfig,r);return n}catch(n){if(bs(n)&&(n.customData.serverCode===401||n.customData.serverCode===404)){await Gs(e.appConfig)}else{const n={...t,authToken:{requestStatus:0}};await Ks(e.appConfig,n)}throw n}}function fa(e){return e!==undefined&&e.registrationStatus===2}function la(e){return e.requestStatus===2&&!da(e)}function da(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+ls}function ha(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function pa(e){return e.requestStatus===1&&e.requestTime+as<Date.now()}async function va(e){const t=e;const{installationEntry:n,registrationPromise:r}=await Xs(t);if(r){r.catch(console.error)}else{sa(t).catch(console.error)}return n.fid}async function ba(e,t=false){const n=e;await ga(n);const r=await sa(n,t);return r.token}async function ga(e){const{registrationPromise:t}=await Xs(e);if(t){await t}}async function ma(e,t){const n=ya(e,t);const r=_s(e,t);const i={method:"DELETE",headers:r};const o=await Ss((()=>fetch(n,i)));if(!o.ok){throw await ys("Delete Installation",o)}}function ya(e,{fid:t}){return`${gs(e)}/${t}`}async function wa(e){const{appConfig:t}=e;const n=await Js(t,(e=>{if(e&&e.registrationStatus===0){return undefined}return e}));if(n){if(n.registrationStatus===1){throw vs.create("delete-pending-registration")}else if(n.registrationStatus===2){if(!navigator.onLine){throw vs.create("app-offline")}else{await ma(t,n);await Gs(t)}}}}function _a(e,t){const{appConfig:n}=e;Rs(n,t);return()=>{js(n,t)}}function Sa(e=getApp()){const t=_getProvider(e,"installations").getImmediate();return t}function ka(e){if(!e||!e.options){throw Ia("App Configuration")}if(!e.name){throw Ia("App Name")}const t=["projectId","apiKey","appId"];for(const n of t){if(!e.options[n]){throw Ia(n)}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Ia(e){return vs.create("missing-app-config-values",{valueName:e})}const Ea="installations";const Ca="installations-internal";const Oa=e=>{const t=e.getProvider("app").getImmediate();const n=ka(t);const r=Tr(t,"heartbeat");const i={app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()};return i};const Aa=e=>{const t=e.getProvider("app").getImmediate();const n=Tr(t,Ea).getImmediate();const r={getId:()=>va(n),getToken:e=>ba(n,e)};return r};function Ma(){Dr(new Yo(Ea,Oa,"PUBLIC"));Dr(new Yo(Ca,Aa,"PRIVATE"))}Ma();Jr(os,ss);Jr(os,ss,"esm2020");class Pa{constructor(e,t,n){this.name=e;this.instanceFactory=t;this.type=n;this.multipleInstances=false;this.serviceProps={};this.instantiationMode="LAZY";this.onInstanceCreated=null}setInstantiationMode(e){this.instantiationMode=e;return this}setMultipleInstances(e){this.multipleInstances=e;return this}setServiceProps(e){this.serviceProps=e;return this}setInstanceCreatedCallback(e){this.onInstanceCreated=e;return this}}const Na="[DEFAULT]";class Da{constructor(e,t){this.name=e;this.container=t;this.component=null;this.instances=new Map;this.instancesDeferred=new Map;this.instancesOptions=new Map;this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Deferred;this.instancesDeferred.set(t,e);if(this.isInitialized(t)||this.shouldAutoInitialize()){try{const n=this.getOrInitializeService({instanceIdentifier:t});if(n){e.resolve(n)}}catch(e){}}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier);const n=e?.optional??false;if(this.isInitialized(t)||this.shouldAutoInitialize()){try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n){return null}else{throw e}}}else{if(n){return null}else{throw Error(`Service ${this.name} is not available`)}}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name){throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`)}if(this.component){throw Error(`Component for ${this.name} has already been provided`)}this.component=e;if(!this.shouldAutoInitialize()){return}if(xa(e)){try{this.getOrInitializeService({instanceIdentifier:Na})}catch(e){}}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}clearInstance(e=Na){this.instancesDeferred.delete(e);this.instancesOptions.delete(e);this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return this.component!=null}isInitialized(e=Na){return this.instances.has(e)}getOptions(e=Na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e;const n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n)){throw Error(`${this.name}(${n}) has already been initialized`)}if(!this.isComponentSet()){throw Error(`Component ${this.name} has not been registered yet`)}const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);if(n===i){t.resolve(r)}}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t);const r=this.onInitCallbacks.get(n)??new Set;r.add(e);this.onInitCallbacks.set(n,r);const i=this.instances.get(n);if(i){e(i,n)}return()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(!n){return}for(const r of n){try{r(e,t)}catch{}}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component){n=this.component.instanceFactory(this.container,{instanceIdentifier:Ta(e),options:t});this.instances.set(e,n);this.instancesOptions.set(e,t);this.invokeOnInitCallbacks(n,e);if(this.component.onInstanceCreated){try{this.component.onInstanceCreated(this.container,e,n)}catch{}}}return n||null}normalizeInstanceIdentifier(e=Na){if(this.component){return this.component.multipleInstances?e:Na}else{return e}}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ta(e){return e===Na?undefined:e}function xa(e){return e.instantiationMode==="EAGER"}class Ra{constructor(e){this.name=e;this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){throw new Error(`Component ${e.name} has already been registered with ${this.name}`)}t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet()){this.providers.delete(e.name)}this.addComponent(e)}getProvider(e){if(this.providers.has(e)){return this.providers.get(e)}const t=new Da(e,this);this.providers.set(e,t);return t}getProviders(){return Array.from(this.providers.values())}}const ja="/firebase-messaging-sw.js";const La="/firebase-cloud-messaging-push-scope";const Fa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";const Ba="https://fcmregistrations.googleapis.com/v1";const Wa="google.c.a.c_id";const za="google.c.a.c_l";const Ua="google.c.a.ts";const $a="google.c.a.e";const Va=1e4;var Ha;(function(e){e[e["DATA_MESSAGE"]=1]="DATA_MESSAGE";e[e["DISPLAY_NOTIFICATION"]=3]="DISPLAY_NOTIFICATION"})(Ha||(Ha={}));var qa;(function(e){e["PUSH_RECEIVED"]="push-received";e["NOTIFICATION_CLICKED"]="notification-clicked"})(qa||(qa={}));function Ka(e){const t=new Uint8Array(e);const n=btoa(String.fromCharCode(...t));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ga(e){const t="=".repeat((4-e.length%4)%4);const n=(e+t).replace(/\-/g,"+").replace(/_/g,"/");const r=atob(n);const i=new Uint8Array(r.length);for(let e=0;e<r.length;++e){i[e]=r.charCodeAt(e)}return i}const Ja="fcm_token_details_db";const Xa=5;const Qa="fcm_token_object_Store";async function Za(e){if("databases"in indexedDB){const e=await indexedDB.databases();const t=e.map((e=>e.name));if(!t.includes(Ja)){return null}}let t=null;const n=await zn(Ja,Xa,{upgrade:async(n,r,i,o)=>{if(r<2){return}if(!n.objectStoreNames.contains(Qa)){return}const s=o.objectStore(Qa);const a=await s.index("fcmSenderId").get(e);await s.clear();if(!a){return}if(r===2){const e=a;if(!e.auth||!e.p256dh||!e.endpoint){return}t={token:e.fcmToken,createTime:e.createTime??Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:typeof e.vapidKey==="string"?e.vapidKey:Ka(e.vapidKey)}}}else if(r===3){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ka(e.auth),p256dh:Ka(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ka(e.vapidKey)}}}else if(r===4){const e=a;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ka(e.auth),p256dh:Ka(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ka(e.vapidKey)}}}}});n.close();await Un(Ja);await Un("fcm_vapid_details_db");await Un("undefined");return Ya(t)?t:null}function Ya(e){if(!e||!e.subscriptionOptions){return false}const{subscriptionOptions:t}=e;return typeof e.createTime==="number"&&e.createTime>0&&typeof e.token==="string"&&e.token.length>0&&typeof t.auth==="string"&&t.auth.length>0&&typeof t.p256dh==="string"&&t.p256dh.length>0&&typeof t.endpoint==="string"&&t.endpoint.length>0&&typeof t.swScope==="string"&&t.swScope.length>0&&typeof t.vapidKey==="string"&&t.vapidKey.length>0}const ec="firebase-messaging-database";const tc=1;const nc="firebase-messaging-store";let rc=null;function ic(){if(!rc){rc=zn(ec,tc,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(nc)}}})}return rc}async function oc(e){const t=cc(e);const n=await ic();const r=await n.transaction(nc).objectStore(nc).get(t);if(r){return r}else{const t=await Za(e.appConfig.senderId);if(t){await sc(e,t);return t}}}async function sc(e,t){const n=cc(e);const r=await ic();const i=r.transaction(nc,"readwrite");await i.objectStore(nc).put(t,n);await i.done;return t}async function ac(e){const t=cc(e);const n=await ic();const r=n.transaction(nc,"readwrite");await r.objectStore(nc).delete(t);await r.done}function cc({appConfig:e}){return e.appId}const uc={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["only-available-in-window"]:"This method is available in a Window context.",["only-available-in-sw"]:"This method is available in a service worker context.",["permission-default"]:"The notification permission was not granted and dismissed instead.",["permission-blocked"]:"The notification permission was not granted and blocked instead.",["unsupported-browser"]:"This browser doesn't support the API's required to use the Firebase SDK.",["indexed-db-unsupported"]:"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)",["failed-service-worker-registration"]:"We are unable to register the default service worker. {$browserErrorMessage}",["token-subscribe-failed"]:"A problem occurred while subscribing the user to FCM: {$errorInfo}",["token-subscribe-no-token"]:"FCM returned no token when subscribing the user to push.",["token-unsubscribe-failed"]:"A problem occurred while unsubscribing the "+"user from FCM: {$errorInfo}",["token-update-failed"]:"A problem occurred while updating the user from FCM: {$errorInfo}",["token-update-no-token"]:"FCM returned no token when updating the user to push.",["use-sw-after-get-token"]:"The useServiceWorker() method may only be called once and must be "+"called before calling getToken() to ensure your service worker is used.",["invalid-sw-registration"]:"The input to useServiceWorker() must be a ServiceWorkerRegistration.",["invalid-bg-handler"]:"The input to setBackgroundMessageHandler() must be a function.",["invalid-vapid-key"]:"The public VAPID key must be a string.",["use-vapid-key-after-get-token"]:"The usePublicVapidKey() method may only be called once and must be "+"called before calling getToken() to ensure your VAPID key is used."};const fc=new lo("messaging","Messaging",uc);async function lc(e,t){const n=await vc(e);const r=bc(t);const i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=await fetch(pc(e.appConfig),i);o=await t.json()}catch(e){throw fc.create("token-subscribe-failed",{errorInfo:e?.toString()})}if(o.error){const e=o.error.message;throw fc.create("token-subscribe-failed",{errorInfo:e})}if(!o.token){throw fc.create("token-subscribe-no-token")}return o.token}async function dc(e,t){const n=await vc(e);const r=bc(t.subscriptionOptions);const i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=await fetch(`${pc(e.appConfig)}/${t.token}`,i);o=await n.json()}catch(e){throw fc.create("token-update-failed",{errorInfo:e?.toString()})}if(o.error){const e=o.error.message;throw fc.create("token-update-failed",{errorInfo:e})}if(!o.token){throw fc.create("token-update-no-token")}return o.token}async function hc(e,t){const n=await vc(e);const r={method:"DELETE",headers:n};try{const n=await fetch(`${pc(e.appConfig)}/${t}`,r);const i=await n.json();if(i.error){const e=i.error.message;throw fc.create("token-unsubscribe-failed",{errorInfo:e})}}catch(e){throw fc.create("token-unsubscribe-failed",{errorInfo:e?.toString()})}}function pc({projectId:e}){return`${Ba}/projects/${e}/registrations`}async function vc({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function bc({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};if(r!==Fa){i.web.applicationPubKey=r}return i}const gc=7*24*60*60*1e3;async function mc(e){const t=await Sc(e.swRegistration,e.vapidKey);const n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Ka(t.getKey("auth")),p256dh:Ka(t.getKey("p256dh"))};const r=await oc(e.firebaseDependencies);if(!r){return _c(e.firebaseDependencies,n)}else if(!kc(r.subscriptionOptions,n)){try{await hc(e.firebaseDependencies,r.token)}catch(e){console.warn(e)}return _c(e.firebaseDependencies,n)}else if(Date.now()>=r.createTime+gc){return wc(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n})}else{return r.token}}async function yc(e){const t=await oc(e.firebaseDependencies);if(t){await hc(e.firebaseDependencies,t.token);await ac(e.firebaseDependencies)}const n=await e.swRegistration.pushManager.getSubscription();if(n){return n.unsubscribe()}return true}async function wc(e,t){try{const n=await dc(e.firebaseDependencies,t);const r={...t,token:n,createTime:Date.now()};await sc(e.firebaseDependencies,r);return n}catch(e){throw e}}async function _c(e,t){const n=await lc(e,t);const r={token:n,createTime:Date.now(),subscriptionOptions:t};await sc(e,r);return r.token}async function Sc(e,t){const n=await e.pushManager.getSubscription();if(n){return n}return e.pushManager.subscribe({userVisibleOnly:true,applicationServerKey:Ga(t)})}function kc(e,t){const n=t.vapidKey===e.vapidKey;const r=t.endpoint===e.endpoint;const i=t.auth===e.auth;const o=t.p256dh===e.p256dh;return n&&r&&i&&o}function Ic(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};Ec(t,e);Cc(t,e);Oc(t,e);return t}function Ec(e,t){if(!t.notification){return}e.notification={};const n=t.notification.title;if(!!n){e.notification.title=n}const r=t.notification.body;if(!!r){e.notification.body=r}const i=t.notification.image;if(!!i){e.notification.image=i}const o=t.notification.icon;if(!!o){e.notification.icon=o}}function Cc(e,t){if(!t.data){return}e.data=t.data}function Oc(e,t){if(!t.fcmOptions&&!t.notification?.click_action){return}e.fcmOptions={};const n=t.fcmOptions?.link??t.notification?.click_action;if(!!n){e.fcmOptions.link=n}const r=t.fcmOptions?.analytics_label;if(!!r){e.fcmOptions.analyticsLabel=r}}function Ac(e){return typeof e==="object"&&!!e&&Wa in e}Mc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function Mc(e,t){const n=[];for(let r=0;r<e.length;r++){n.push(e.charAt(r));if(r<t.length){n.push(t.charAt(r))}}return n.join("")}function Pc(e){if(!e||!e.options){throw Nc("App Configuration Object")}if(!e.name){throw Nc("App Name")}const t=["projectId","apiKey","appId","messagingSenderId"];const{options:n}=e;for(const e of t){if(!n[e]){throw Nc(e)}}return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Nc(e){return fc.create("missing-app-config-values",{valueName:e})}class Dc{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=false;this.onBackgroundMessageHandler=null;this.onMessageHandler=null;this.logEvents=[];this.isLogServiceStarted=false;const r=Pc(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}async function Tc(e){try{e.swRegistration=await navigator.serviceWorker.register(ja,{scope:La});e.swRegistration.update().catch((()=>{}));await xc(e.swRegistration)}catch(e){throw fc.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function xc(e){return new Promise(((t,n)=>{const r=setTimeout((()=>n(new Error(`Service worker not registered after ${Va} ms`))),Va);const i=e.installing||e.waiting;if(e.active){clearTimeout(r);t()}else if(i){i.onstatechange=e=>{if(e.target?.state==="activated"){i.onstatechange=null;clearTimeout(r);t()}}}else{clearTimeout(r);n(new Error("No incoming service worker found."))}}))}async function Rc(e,t){if(!t&&!e.swRegistration){await Tc(e)}if(!t&&!!e.swRegistration){return}if(!(t instanceof ServiceWorkerRegistration)){throw fc.create("invalid-sw-registration")}e.swRegistration=t}async function jc(e,t){if(!!t){e.vapidKey=t}else if(!e.vapidKey){e.vapidKey=Fa}}async function Lc(e,t){if(!navigator){throw fc.create("only-available-in-window")}if(Notification.permission==="default"){await Notification.requestPermission()}if(Notification.permission!=="granted"){throw fc.create("permission-blocked")}await jc(e,t?.vapidKey);await Rc(e,t?.serviceWorkerRegistration);return mc(e)}async function Fc(e,t,n){const r=Bc(t);const i=await e.firebaseDependencies.analyticsProvider.get();i.logEvent(r,{message_id:n[Wa],message_name:n[za],message_time:n[Ua],message_device_time:Math.floor(Date.now()/1e3)})}function Bc(e){switch(e){case qa.NOTIFICATION_CLICKED:return"notification_open";case qa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function Wc(e,t){const n=t.data;if(!n.isFirebaseMessaging){return}if(e.onMessageHandler&&n.messageType===qa.PUSH_RECEIVED){if(typeof e.onMessageHandler==="function"){e.onMessageHandler(Ic(n))}else{e.onMessageHandler.next(Ic(n))}}const r=n.data;if(Ac(r)&&r[$a]==="1"){await Fc(e,n.messageType,r)}}const zc="@firebase/messaging";const Uc="0.12.23";const $c=e=>{const t=new Dc(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));navigator.serviceWorker.addEventListener("message",(e=>Wc(t,e)));return t};const Vc=e=>{const t=e.getProvider("messaging").getImmediate();const n={getToken:e=>Lc(t,e)};return n};function Hc(){Dr(new Pa("messaging",$c,"PUBLIC"));Dr(new Pa("messaging-internal",Vc,"PRIVATE"));Jr(zc,Uc);Jr(zc,Uc,"esm2020")}async function qc(){try{await ao()}catch(e){return false}return typeof window!=="undefined"&&so()&&co()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}async function Kc(e){if(!navigator){throw fc.create("only-available-in-window")}if(!e.swRegistration){await Tc(e)}return yc(e)}function Gc(e,t){if(!navigator){throw fc.create("only-available-in-window")}e.onMessageHandler=t;return()=>{e.onMessageHandler=null}}function Jc(e=qr()){qc().then((e=>{if(!e){throw fc.create("unsupported-browser")}}),(e=>{throw fc.create("indexed-db-unsupported")}));return Tr(Zo(e),"messaging").getImmediate()}async function Xc(e,t){e=Zo(e);return Lc(e,t)}function Qc(e){e=getModularInstance(e);return Kc(e)}function Zc(e,t){e=Zo(e);return Gc(e,t)}Hc();var Yc=undefined&&undefined.__assign||function(){Yc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return Yc.apply(this,arguments)};var eu="https://";var tu={debug:"true"==="true",isTest:"false"==="true",resourceToken:"2fHLS9YR9daS-a90b371eecc2952f",apiServerHost:"pxl-3q2p6pw26d2y1v18.dev.altcraft.com",swPath:"/service-worker.js",vapidKey:"",firebase:{apiKey:"AIzaSyBDC9ZBPjmxrWhu0JKyFDZ1IqWMgwBnbH8",projectId:"project-240ed",messagingSenderId:"163655963079",appId:"1:163655963079:web:4dbbc681180bb2503349e2"},browsers:{Chrome:{isFirebase:"true"==="true"},Firefox:{isFirebase:"true"==="true"},Opera:{isFirebase:"true"==="true"},"Yandex Browser":{isFirebase:"true"==="true"},"Samsung Internet for Android":{isFirebase:"true"==="true"},Safari:{websitePushID:"",websitePushAPI:"https://pxl-3q2p6pw26d2y1v18.dev.altcraft.com/ap"}},expirationSWChrome:"900"};var nu={randomPrefix:"Shahkoop2aeleiv8Ierief_",serverPrefix:eu,serverActionHandlers:{save:"/pixel?_push_pix=/push/subscription/save",delete:"/pixel?_push_pix=/push/subscription/delete",update:"/pixel?_push_pix=/push/subscription/update",suspend:"/pixel?_push_pix=/push/subscription/suspend"},serverCookiePath:"/pixel?_push_pix=/set_cookie_only",serverPushContentPath:"/pixel?_push_pix=/push/content/get",serverURL:(eu+tu.apiServerHost).replace(/\/+$/,""),swPath:"/service-worker.js",isTest:false,cookieID:"",browser:undefined,firebase:{authSubdomain:"firebaseapp.com",bucketSubdomain:"appspot.com",dbSubdomain:"firebaseio.com"},allFirebase:undefined};var ru=Yc(Yc(Yc({},nu),tu),{firebase:Yc(Yc({},nu.firebase),tu.firebase),expirationSWChrome:parseInt(tu.expirationSWChrome,10)||0});const iu=ru;var ou=n(160);var su=n(880);var au=n.n(su);var cu=n(790);var uu;(function(e){e["Granted"]="granted";e["Denied"]="denied";e["Default"]="default"})(uu||(uu={}));var fu;(function(e){e["subscribe"]="subscribe";e["updateSubscription"]="update_subscription";e["suspendSubscription"]="suspend_subscription"})(fu||(fu={}));var lu=Object.prototype.hasOwnProperty;function du(e,t){return typeof e==="object"&&lu.call(e,t)}function hu(e){return function(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}if(e){console.info.apply(null,t)}}}var pu=Cu(iu.debug);var vu=undefined&&undefined.__assign||function(){vu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return vu.apply(this,arguments)};var bu=undefined&&undefined.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r["throw"](e))}catch(e){o(e)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))};var gu=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return c([e,t])}}function c(s){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=s[0]&2?i["return"]:s[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;if(i=0,o)s=[s[0]&2,o.value];switch(s[0]){case 0:case 1:o=s;break;case 4:n.label++;return{value:s[1],done:false};case 5:n.label++;i=s[1];s=[0];continue;case 7:s=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){n.label=s[1];break}if(s[0]===6&&n.label<o[1]){n.label=o[1];o=s;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(s);break}if(o[2])n.ops.pop();n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e];i=0}finally{r=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var mu=function(){return"safari"in window&&"pushNotification"in window.safari};var yu={};function wu(){return"serviceWorker"in window.navigator}function _u(){return bu(this,void 0,void 0,(function(){return gu(this,(function(e){if(wu()){return[2,navigator.serviceWorker.getRegistrations().then((function(e){return e.find((function(e){var t=e.active,n=e.waiting,r=e.installing;var i=t||n||r;return i&&i.scriptURL.includes("/service-worker.js?browser")}))}))]}console.log("can`t use service worker");return[2,undefined]}))}))}function Su(e){return e.split(" ").join("")}function ku(e){if(e.allFirebase)return true;var t=e.browser;if(t){var n=e.browsers[t];if(du(n,"isFirebase")){return n.isFirebase}return false}throw new Error("Invalid config")}function Iu(e){return bu(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,c,u;return gu(this,(function(f){switch(f.label){case 0:t=e.serverURL,n=e.serverCookiePath,r=e.resourceToken;f.label=1;case 1:f.trys.push([1,9,,10]);return[4,cu.getItem("_ak_cookie")];case 2:i=f.sent()||"";return[4,fetch(t+n,{method:"post",credentials:"include",headers:i?{"X-Cookie":i}:undefined,body:JSON.stringify({resource_token:r})}).then((function(e){return{body:e.json(),headers:e.headers}}))];case 3:o=f.sent();s={cookie_id:"","X-Cookie":""};a="cookie_id";return[4,o.body];case 4:if(!(a in f.sent()))return[3,6];c=s;return[4,o.body];case 5:c.cookie_id=f.sent().cookie_id;f.label=6;case 6:pu("X-Cookie:",o===null||o===void 0?void 0:o.headers.has("X-Cookie"),o===null||o===void 0?void 0:o.headers.get("X-Cookie"));if(!o.headers.has("X-Cookie"))return[3,8];s["X-Cookie"]=o.headers.get("X-Cookie")||"";if(!s["X-Cookie"])return[3,8];return[4,cu.setItem("_ak_cookie",s["X-Cookie"])];case 7:f.sent();f.label=8;case 8:if(s["X-Cookie"]||s.cookie_id){return[2,s]}console.error("Invalid response for set cookie:",o.body);return[3,10];case 9:u=f.sent();console.error("Unable to set cookie",u);return[3,10];case 10:return[2,undefined]}}))}))}function Eu(e,t){var n=new RegExp(t+"=(\\w*);?","g");var r=Array.from(e.matchAll(n));return r.length?r[0][1]:""}function Cu(e){return function(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}if(e){console.info.apply(null,t)}}}function Ou(e){return new Url(e,true).query.browser}function Au(e){if(!e.browser&&"userAgent"in window.navigator){return au().getParser(window.navigator.userAgent).getBrowser().name}return undefined}function Mu(e,t){return bu(this,void 0,void 0,(function(){return gu(this,(function(n){switch(n.label){case 0:return[4,cu.setItem(e+"current_token",t)];case 1:n.sent();return[2]}}))}))}function Pu(e){return bu(this,void 0,void 0,(function(){var t;return gu(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);return[4,cu.getItem(e+"current_token")];case 1:return[2,n.sent()];case 2:t=n.sent();console.log("error on getToken",t);return[2,null];case 3:return[2]}}))}))}function Nu(e){if(e===void 0){e=iu.randomPrefix}return bu(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,c;return gu(this,(function(u){switch(u.label){case 0:t=Du(e);return[4,Pu(e)];case 1:n=u.sent();r=Du(e+"_endpoint_");return[4,Pu(e+"_endpoint_")];case 2:i=u.sent();return[4,Pu(e+"_keys_")];case 3:o=u.sent();pu("Founded tokens",{tokenLS:t,token:n,endpointLS:r,endpoint:i,keys:o});if(t){Tu(e)}if(r){Tu(e+"_endpoint_")}if(!o)return[3,7];u.label=4;case 4:u.trys.push([4,6,,7]);return[4,cu.removeItem(e+"_keys_current_token")];case 5:u.sent();pu({result:"success"});return[3,7];case 6:s=u.sent();pu({result:"error",error:s});return[3,7];case 7:if(!n)return[3,11];u.label=8;case 8:u.trys.push([8,10,,11]);return[4,cu.removeItem(e+"current_token")];case 9:u.sent();return[2,{result:"success"}];case 10:a=u.sent();return[2,{result:"error",error:a}];case 11:if(!i)return[3,15];u.label=12;case 12:u.trys.push([12,14,,15]);return[4,cu.removeItem(e+"_endpoint_")];case 13:u.sent();return[2,{result:"success"}];case 14:c=u.sent();return[2,{result:"error",error:c}];case 15:return[2,{result:"not-found"}]}}))}))}function Du(e){return localStorage.getItem(e+"current_token")}function Tu(e){localStorage.removeItem(e+"current_token")}function xu(e,t){var n,r,i,o,s;return bu(this,void 0,void 0,(function(){var a,c,u,f,l;return gu(this,(function(d){switch(d.label){case 0:return[4,Notification.requestPermission()];case 1:a=d.sent();if(!(a===uu.Granted))return[3,4];return[4,_u().then((function(e){return e&&e.active?e:undefined}))];case 2:c=d.sent();u=(n=t.data)===null||n===void 0?void 0:n.ak_actions;f=void 0;if(u){try{pu("push firebase parse ak_actions start");f=JSON.parse(u);pu("push firebase parse ak_actions complete")}catch(e){pu("push firebase parse ak_actions error: ",e)}}l={body:(r=t.notification)===null||r===void 0?void 0:r.body,icon:(i=t.notification)===null||i===void 0?void 0:i.icon,image:(o=t.notification)===null||o===void 0?void 0:o.image,data:{click_action:(s=t.fcmOptions)===null||s===void 0?void 0:s.link},actions:f};if(!c)return[3,4];return[4,c.showNotification(e,l)];case 3:d.sent();d.label=4;case 4:return[2]}}))}))}function Ru(e){var t=e.browser,n=e.expirationSWChrome,r=e.swPath;if(t==="Chrome"){var i=n!==0?n:900;return r+"?browser="+t+"&expiration="+Math.floor(Date.now()/(i*1e3))}return r+"?browser="+t}function ju(){return bu(this,void 0,void 0,(function(){var e,t,n,r;return gu(this,(function(i){switch(i.label){case 0:if(!("showNotification"in ServiceWorkerRegistration.prototype)){console.error("Notifications is not supported");return[2,false]}if(!(Notification.permission!==uu.Denied))return[3,10];if(!("PushManager"in window))return[3,8];pu("getPushServiceWorker","start");return[4,_u()];case 1:e=i.sent();pu("getPushServiceWorker","complete");pu("serviceWorkerRegistration",e);i.label=2;case 2:i.trys.push([2,6,,7]);pu("serviceWorkerRegistration.pushManager.getSubscription","start");if(!e)return[3,4];return[4,e.pushManager.getSubscription()];case 3:n=i.sent();return[3,5];case 4:n=undefined;i.label=5;case 5:t=n;pu("serviceWorkerRegistration.pushManager.getSubscription","complete");pu("subscription",t);return[2,true];case 6:r=i.sent();console.error("Error on getting subscription data",r);return[2,false];case 7:return[3,9];case 8:console.error("Push-notification is not supported by the browser");return[2,false];case 9:return[3,11];case 10:console.log("User denied notifications");return[2,false];case 11:return[2]}}))}))}function Lu(e,t){return bu(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u;return gu(this,(function(f){switch(f.label){case 0:if(!(Notification.permission===uu.Granted))return[3,24];n=e.browser;switch(n){case"Chrome":return[3,1];case"Firefox":return[3,1];case"Yandex Browser":return[3,1];case"Samsung Internet for Android":return[3,1];case"Opera":return[3,1];case"Safari":return[3,17]}return[3,23];case 1:if(!wu())return[3,15];pu("can use service worker");if(!ku(e))return[3,12];r=void 0;pu("> getPushServiceWorker","start");f.label=2;case 2:f.trys.push([2,4,,5]);return[4,_u()];case 3:r=f.sent();pu("< getPushServiceWorker","complete");pu(">> registration",r);return[3,5];case 4:i=f.sent();pu("err get registration",i);return[3,5];case 5:pu("should use firebase");pu("firebase.initializeApp","start");o={appId:e.firebase.appId,apiKey:e.firebase.apiKey,projectId:e.firebase.projectId,messagingSenderId:e.firebase.messagingSenderId,storageBucket:[e.firebase.projectId,e.firebase.bucketSubdomain].join("."),authDomain:[e.firebase.projectId,e.firebase.authSubdomain].join("."),databaseURL:[e.firebase.projectId,e.firebase.dbSubdomain].join(".")};Vr(o);pu("firebase.initializeApp","complete");s=Jc();if(!r)return[3,7];pu("updateFirebaseToken","start");return[4,$u(e,t)];case 6:f.sent();pu("updateFirebaseToken","complete");f.label=7;case 7:pu("firebase.messaging().getToken","start");a=void 0;f.label=8;case 8:f.trys.push([8,10,,11]);return[4,Xc(s,{serviceWorkerRegistration:r})];case 9:a=f.sent();return[3,11];case 10:c=f.sent();console.error("Error occurred: ",c);return[3,11];case 11:pu("firebase.messaging().getToken","complete");if(a&&!yu[a]){pu("added firebase.messaging().onMessage handler");yu[a]=Zc(s,(function(e){var t,n;pu("Message received:",e);xu((n=(t=e.notification)===null||t===void 0?void 0:t.title)!==null&&n!==void 0?n:"",e)}))}return[3,14];case 12:pu("should not use firebase");pu("updateDefaultSubscription","start");return[4,Hu(e,t)];case 13:f.sent();pu("updateDefaultSubscription","complete");f.label=14;case 14:return[3,16];case 15:pu("can`t use service worker");console.error("There is no serviceWorker");f.label=16;case 16:return[3,24];case 17:if(!mu())return[3,20];u=window.safari.pushNotification.permission(e.browsers.Safari.websitePushID).deviceToken;if(!u)return[3,19];return[4,Mu(e.randomPrefix,u)];case 18:f.sent();pu("added token to cache:",u);f.label=19;case 19:return[3,22];case 20:return[4,Vu(e,t)];case 21:f.sent();f.label=22;case 22:return[3,24];case 23:return[2,undefined];case 24:return[2,undefined]}}))}))}function Fu(e){return bu(this,void 0,void 0,(function(){var t,n,r,i,o,s;return gu(this,(function(a){switch(a.label){case 0:t=e.browser,n=e.expirationSWChrome,r=e.swPath;pu(" getPushServiceWorker","start");a.label=1;case 1:a.trys.push([1,3,,4]);return[4,_u()];case 2:i=a.sent();pu(" getPushServiceWorker","complete");pu("registration",i);return[3,4];case 3:o=a.sent();pu("err getPushServiceWorker",o);return[3,4];case 4:pu("navigator.serviceWorker.register","start");return[4,navigator.serviceWorker.register(Ru({browser:t,expirationSWChrome:n,swPath:r}))];case 5:s=a.sent();pu("navigator.serviceWorker.register","complete");pu("serviceWorkerRegistration.update","start");return[4,s.update()];case 6:a.sent();pu("serviceWorkerRegistration.update","complete");pu(s);return[2,s]}}))}))}function Bu(e){return bu(this,void 0,void 0,(function(){var t,n,r,i,o;return gu(this,(function(s){switch(s.label){case 0:t=e.browser,n=e.expirationSWChrome,r=e.swPath;pu("replace service worker",{browser:t,expirationSWChrome:n,swPath:r});if(!(Notification.permission===uu.Granted))return[3,7];pu("Notification permission is granted.");return[4,_u()];case 1:i=s.sent();console.log("Push SW status: ",Boolean(i));if(!i)return[3,2];pu("service worker is our. Aborting replace service worker.");return[3,6];case 2:pu("navigator.serviceWorker.controller, was cleaned");s.label=3;case 3:s.trys.push([3,5,,6]);pu("registerServiceWorker start");return[4,Fu({browser:t,expirationSWChrome:n,swPath:r})];case 4:s.sent();pu(" registerServiceWorker complete");return[3,6];case 5:o=s.sent();pu("err register service worker",o);return[3,6];case 6:return[3,8];case 7:pu("Notification permission is not a granted. Aborting replace service worker.");s.label=8;case 8:return[2]}}))}))}function Wu(e){return bu(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,c,u,f,l,d,h,p,v;return gu(this,(function(b){switch(b.label){case 0:t=e.action,n=e.provider,r=e.subscription,i=e.match,o=e.update,s=e.customData,a=e.resourceToken,c=e.serverURL,u=e.endpointOld,f=e.keysOld,l=e.supOldSubscr,d=e.inexclusive;return[4,cu.getItem("_ak_cookie")];case 1:h=b.sent()||"";v=iu.serverActionHandlers;switch(t){case"save":p=c+v.save;break;case"delete":p=c+v.delete;break;case"update":p=c+v.update;break;case"suspend":p=c+v.suspend;break;default:throw new Error("Unknown "+t)}return[2,fetch(p,{method:"post",credentials:"include",headers:h?{"X-Cookie":h}:undefined,body:JSON.stringify(vu(vu(vu(vu(vu(vu({},s||{}),{provider:n,endpoint:r.endpoint,keys:r.keys,resource_token:a,match:JSON.stringify(i||{}),update:JSON.stringify(o||{})}),u?{endpoint_old:u}:{}),f?{keys_old:f}:{}),l&&u?{sup_old_subscr:true}:{}),d!==undefined?{inexclusive:d}:{}))}).then((function(e){pu("X-Cookie:",e===null||e===void 0?void 0:e.headers.has("X-Cookie"),e===null||e===void 0?void 0:e.headers.get("X-Cookie"));if(e===null||e===void 0?void 0:e.headers.has("X-Cookie")){cu.setItem("_ak_cookie",(e===null||e===void 0?void 0:e.headers.get("X-Cookie"))||"")}return e})).catch((function(e){return console.error("Can't post",t,e)}))]}}))}))}function zu(e){return bu(this,void 0,void 0,(function(){var t,n;return gu(this,(function(r){switch(r.label){case 0:t=Du(e);n=Du(e+"_endpoint_");if(!t)return[3,2];return[4,Mu(e,t||"")];case 1:r.sent();Tu(e);return[2,t];case 2:if(!n)return[3,4];return[4,Mu(e+"_endpoint_",n||"")];case 3:r.sent();Tu(e+"_endpoint_");return[2,t];case 4:return[2,null]}}))}))}function Uu(e,t,n){return bu(this,void 0,void 0,(function(){var r,i,o,s,a,c,u,f;return gu(this,(function(l){switch(l.label){case 0:l.trys.push([0,2,,3]);r=fu.updateSubscription;i=t.provider,o=t.tokenCached,s=t.token,a=t.keys;c={browser:e.browser||"",provider:i,tokenCached:o,token:s};u={endpoint:s||"",keys:a};pu("fetch subscription","start");return[4,Wu({action:"update",provider:i,subscription:u,match:{},update:{},customData:{},resourceToken:e.resourceToken,serverURL:e.serverURL,endpointOld:o||undefined,supOldSubscr:o?true:undefined})];case 1:l.sent();pu("fetch subscription","complete");pu("emit "+r,c);n.emit(r,c);return[3,3];case 2:f=l.sent();console.error("Unable to update subscription data",f);return[3,3];case 3:return[2]}}))}))}function $u(e,t){return bu(this,void 0,void 0,(function(){var n,r,i,o,s,a,c;return gu(this,(function(u){switch(u.label){case 0:pu("firebase.messaging().getToken","start");pu("> getPushServiceWorker","start");u.label=1;case 1:u.trys.push([1,3,,4]);return[4,_u()];case 2:n=u.sent();pu("< getPushServiceWorker","complete");pu(">> serviceWorkerRegistration",n);return[3,4];case 3:i=u.sent();pu("err get registration",i);return[3,4];case 4:u.trys.push([4,6,,7]);return[4,Xc(Jc(),{serviceWorkerRegistration:n})];case 5:r=u.sent();return[3,7];case 6:o=u.sent();console.error("Error occurred: ",o);return[3,7];case 7:pu("firebase.messaging().getToken","complete",r);pu("get cached token","start");return[4,Pu(e.randomPrefix)];case 8:s=u.sent();pu("get cached token","complete",s);if(!(r&&s!==r))return[3,14];pu("New token detected: ",r);u.label=9;case 9:u.trys.push([9,13,,14]);if(!s)return[3,11];a={provider:Su(e.browser||"")+"Firebase",tokenCached:s,token:r};return[4,Uu(e,a,t)];case 10:u.sent();u.label=11;case 11:pu("saving firebase token to cache",r,"start");return[4,Mu(e.randomPrefix,r||"")];case 12:u.sent();pu("saving firebase token to cache",r,"complete");return[3,14];case 13:c=u.sent();console.error("Failed to save firebase token to the cache",c);return[3,14];case 14:return[2]}}))}))}function Vu(e,t){return bu(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u,f,l;return gu(this,(function(d){switch(d.label){case 0:return[4,_u()];case 1:n=d.sent();d.label=2;case 2:d.trys.push([2,11,,12]);if(!n){pu("getPushServiceWorker has empty, exit updateSafariPWAToken");return[2]}pu("serviceWorkerRegistration.pushManager.getSubscription","start");return[4,n.pushManager.getSubscription()];case 3:r=d.sent();i=r===null||r===void 0?void 0:r.endpoint;pu("serviceWorkerRegistration.pushManager.getSubscription","complete");pu("subscription",r);a=(s=JSON).parse;return[4,Pu(e.randomPrefix+"_keys_")];case 4:o=a.apply(s,[d.sent()||"null"]);return[4,Pu(e.randomPrefix)];case 5:c=d.sent();pu("get cached token","complete",c,"and keys",o);if(!(i&&c!==i))return[3,10];pu("New token detected:",i);u=r===null||r===void 0?void 0:r.toJSON().keys;if(!c)return[3,7];f={provider:Su(e.browser||""),tokenCached:c,token:i,keys:u};return[4,Uu(e,f,t)];case 6:d.sent();d.label=7;case 7:pu("saving token to cache",i,"and keys",u,"start");return[4,Mu(e.randomPrefix,i||"")];case 8:d.sent();return[4,Mu(e.randomPrefix+"_keys_",JSON.stringify(u)||"")];case 9:d.sent();pu("saving token to cache",i,"and keys",u,"complete");d.label=10;case 10:return[3,12];case 11:l=d.sent();console.error("Failed to save token and keys to the cache",l);return[3,12];case 12:return[2]}}))}))}function Hu(e,t){return bu(this,void 0,void 0,(function(){var n,r,i,o,s;return gu(this,(function(a){switch(a.label){case 0:pu("getPushServiceWorker","start");return[4,_u()];case 1:n=a.sent();if(!n){pu("getPushServiceWorker has empty, exit updateDefaultSubscription.");return[2]}pu("getPushServiceWorker","complete");pu("serviceWorkerRegistration.pushManager.subscribe","start");return[4,n.pushManager.getSubscription()];case 2:r=a.sent();pu("serviceWorkerRegistration.pushManager.subscribe","complete");pu("get cached endpoint","start");return[4,Pu(e.randomPrefix+"_endpoint_")];case 3:i=a.sent();pu("get cached endpoint","complete",i);if(!(r&&i!==r.endpoint))return[3,9];a.label=4;case 4:a.trys.push([4,8,,9]);if(!i)return[3,6];o={provider:Su(e.browser||""),tokenCached:i,token:r.endpoint};return[4,Uu(e,o,t)];case 5:a.sent();a.label=6;case 6:pu("saving subscription endpoint from push manager to cache",r.endpoint,"start");return[4,Mu(e.randomPrefix+"_endpoint_",r.endpoint)];case 7:a.sent();pu("saving subscription endpoint from push manager to cache",r.endpoint,"complete");return[3,9];case 8:s=a.sent();console.error("Failed to save subscription endpoint from push manager to the cache",s);return[3,9];case 9:return[2]}}))}))}var qu;(function(e){e["Ok"]="ok";e["Fail"]="fail"})(qu||(qu={}));var Ku=undefined&&undefined.__assign||function(){Ku=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))e[i]=t[i]}return e};return Ku.apply(this,arguments)};var Gu=undefined&&undefined.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r["throw"](e))}catch(e){o(e)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))};var Ju=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return c([e,t])}}function c(s){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=s[0]&2?i["return"]:s[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;if(i=0,o)s=[s[0]&2,o.value];switch(s[0]){case 0:case 1:o=s;break;case 4:n.label++;return{value:s[1],done:false};case 5:n.label++;i=s[1];s=[0];continue;case 7:s=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){n.label=s[1];break}if(s[0]===6&&n.label<o[1]){n.label=o[1];o=s;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(s);break}if(o[2])n.ops.pop();n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e];i=0}finally{r=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var Xu="";function Qu(e){Xu=e}function Zu(e){var t="=".repeat((4-e.length%4)%4);var n=(e+t).replace(/-/g,"+").replace(/_/g,"/");var r=window.atob(n);var i=new Uint8Array(r.length);for(var o=0;o<r.length;++o){i[o]=r.charCodeAt(o)}return i}var Yu=function(){function e(e){if(e===void 0){e={}}this.isPendingInitSubscription=false;this.config=Ku(Ku(Ku({},iu),{cookieID:iu.cookieID||Xu}),e);if(!this.config.browser){throw new Error("Can't detect browser")}}e.prototype.subscribeSafariNativePush=function(t){return Gu(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u,f,l,d,h,p;return Ju(this,(function(v){switch(v.label){case 0:n=t.match,r=t.update,i=t.customData;o=fu.subscribe;pu("getPushServiceWorker","start");return[4,_u()];case 1:s=v.sent();pu("getPushServiceWorker","complete");pu(s);v.label=2;case 2:v.trys.push([2,10,,11]);a=Zu(this.config.vapidKey);if(!s){pu("getPushServiceWorker has empty, exit subscribeSafariNativePush");return[2]}pu("serviceWorkerRegistration.pushManager.subscribe","start");return[4,s.pushManager.subscribe({userVisibleOnly:true,applicationServerKey:a})];case 3:c=v.sent();u=c===null||c===void 0?void 0:c.endpoint;pu("serviceWorkerRegistration.pushManager.subscribe","complete");pu("subscription",c);return[4,Pu(this.config.randomPrefix)];case 4:f=v.sent();pu("get cached token","complete",f);pu("Permission granted, token: ",c.endpoint);if(!(u&&f!==u))return[3,8];pu("tokenCached !== new token. Start save subscription");l=c.toJSON().keys;d=Su(this.config.browser||"");h={browser:this.config.browser||"",provider:d,token:u,keys:l};pu("fetchSubscription","start");return[4,Wu({action:"save",provider:d,subscription:{endpoint:u,keys:l},match:n,update:r,customData:i,resourceToken:this.config.resourceToken,serverURL:this.config.serverURL})];case 5:v.sent();pu("fetchSubscription","complete");if(e.events){pu("emit "+o,h);e.events.emit(o,h)}pu("saving token to cache",u,"and keys",l,"start");return[4,Mu(this.config.randomPrefix,u||"")];case 6:v.sent();return[4,Mu(this.config.randomPrefix+"_keys_",JSON.stringify(l)||"")];case 7:v.sent();pu("saving token to cache",u,"and keys",l,"complete");return[3,9];case 8:pu("tokenCached !== new token. skip save subscription");v.label=9;case 9:return[3,11];case 10:p=v.sent();if(Notification.permission===uu.Denied){console.log("User turned off notifications")}else{console.error("Unable to subscribe",p)}return[3,11];case 11:return[2]}}))}))};e.prototype.subscribePushManager=function(t){return Gu(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u,f,l;return Ju(this,(function(d){switch(d.label){case 0:n=t.match,r=t.update,i=t.customData;o=fu.subscribe;pu("getPushServiceWorker","start");return[4,_u()];case 1:s=d.sent();pu("getPushServiceWorker","complete");pu(s);d.label=2;case 2:d.trys.push([2,9,,10]);pu("serviceWorkerRegistration.pushManager.subscribe","start");if(!s){pu("getPushServiceWorker has empty, exit serviceWorkerRegistration.pushManager.subscribe");return[2]}return[4,s.pushManager.subscribe({userVisibleOnly:true})];case 3:a=d.sent();pu("serviceWorkerRegistration.pushManager.subscribe","complete");pu("subscription",a);return[4,Pu(this.config.randomPrefix)];case 4:c=d.sent();pu("get cached token","complete",c);pu("Permission granted, token: ",a.endpoint);if(!(c!==a.endpoint))return[3,7];pu("tokenCached !== new token. Start save subscription");u=Su(this.config.browser||"");f={browser:this.config.browser||"",provider:u,token:a.endpoint};pu("fetchSubscription","start");return[4,Wu({action:"save",provider:u,subscription:a,match:n,update:r,customData:i,resourceToken:this.config.resourceToken,serverURL:this.config.serverURL})];case 5:d.sent();pu("fetchSubscription","complete");if(e.events){pu("emit "+o,f);e.events.emit(o,f)}pu("saving subscription endpoint from push manager to cache",a.endpoint,"start");return[4,Mu(this.config.randomPrefix,a.endpoint)];case 6:d.sent();pu("saving subscription endpoint from push manager to cache",a.endpoint,"complete");return[3,8];case 7:pu("tokenCached === new token. skip save subscription");d.label=8;case 8:return[3,10];case 9:l=d.sent();if(Notification.permission===uu.Denied){console.log("User turned off notifications")}else{console.error("Unable to subscribe",l)}return[3,10];case 10:return[2]}}))}))};e.prototype.initialiseFirebaseNotification=function(t){return Gu(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u,f,l,d,h,p,v,b,g;return Ju(this,(function(m){switch(m.label){case 0:n=t.match,r=t.update,i=t.customData;o=fu.subscribe;s=false;if(Notification.permission===uu.Default)s=true;pu("Notification.requestPermission","start");return[4,Notification.requestPermission()];case 1:a=m.sent();pu("Notification.requestPermission","complete");pu("notificationPermission",a);if(!(a===uu.Granted))return[3,14];pu("getPushServiceWorker","start");return[4,_u()];case 2:c=m.sent();pu("getPushServiceWorker","complete");pu(c);u=void 0;m.label=3;case 3:m.trys.push([3,5,,6]);pu("register service worker","start");return[4,Fu({browser:iu.browser,expirationSWChrome:iu.expirationSWChrome,swPath:iu.swPath})];case 4:u=m.sent();pu("register service worker","complete");return[3,6];case 5:f=m.sent();pu("err register service worker",f);return[3,6];case 6:m.trys.push([6,13,,14]);pu("firebase.messaging().getToken","start");return[4,Xc(Jc(),{serviceWorkerRegistration:s?u:undefined})];case 7:l=m.sent();pu("firebase.messaging().getToken","complete");pu("get cached token","start");return[4,Pu(this.config.randomPrefix)];case 8:d=m.sent();pu("get cached token","complete",d);pu("Permission granted, token: ",l);if(!l){console.warn("firebase.messaging().getToken",l)}if(!(d!==l&&l))return[3,10];pu("New token detected:",l);h={endpoint:l};p=Su(this.config.browser||"")+"Firebase";v={browser:this.config.browser||"",provider:p,token:h.endpoint};return[4,Wu({action:"save",provider:p,subscription:h,match:n,update:r,customData:i,resourceToken:this.config.resourceToken,serverURL:this.config.serverURL})];case 9:m.sent();if(e.events){pu("emit "+o,v);e.events.emit(o,v)}if(!yu[l]){pu("added firebase.messaging().onMessage handler");b=Jc();yu[l]=Zc(b,(function(e){var t,n;pu("Message received in initialize method:",e);xu((n=(t=e.notification)===null||t===void 0?void 0:t.title)!==null&&n!==void 0?n:"",e)}))}return[3,11];case 10:pu("tokenCached == new token. skip subscription");m.label=11;case 11:pu("saving firebase token to cache",l,"start");return[4,Mu(this.config.randomPrefix,l||"")];case 12:m.sent();pu("saving firebase token to cache",l,"complete");return[3,14];case 13:g=m.sent();console.error("Error occurred: ",g);return[3,14];case 14:return[2]}}))}))};e.prototype.initialiseDefaultNotification=function(e){return Gu(this,void 0,void 0,(function(){var t,n,r,i,o;return Ju(this,(function(s){switch(s.label){case 0:t=e.customData,n=e.match,r=e.update;i=this.config.browser==="Opera"||this.config.browser==="Yandex Browser"||this.config.browser==="Samsung Internet for Android";if(i){console.error("Only firebase supported");return[2,undefined]}pu("Initialise subscription for: "+this.config.browser+" without Firebase");return[4,Fu({browser:iu.browser,expirationSWChrome:iu.expirationSWChrome,swPath:iu.swPath})];case 1:s.sent();return[4,ju()];case 2:o=s.sent();pu("checkSupportPushNotifications","complete");pu(o);if(!o)return[3,4];pu("subscribePushManager","start");return[4,this.subscribePushManager({match:n,update:r,customData:t})];case 3:s.sent();pu("subscribePushManager","complete");s.label=4;case 4:return[2,undefined]}}))}))};e.prototype.initialiseSafariNotification=function(e){return Gu(this,void 0,void 0,(function(){var t,n,r,i;return Ju(this,(function(o){switch(o.label){case 0:t=e.match,n=e.customData,r=e.update;pu("Initialise subscription for: "+this.config.browser+" with Safari");if(mu()){i=window.safari.pushNotification.permission(this.config.browsers.Safari.websitePushID)}else{i={permission:Notification.permission}}pu("initialiseSafariNotification","Permission data:",i);return[4,this.activateSafariPush({permissionData:i,match:t,update:r,cookieId:this.config.cookieID,customData:n})];case 1:o.sent();return[2]}}))}))};e.prototype.activateSafariPush=function(t){return Gu(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u,f,l,d;var h=this;return Ju(this,(function(p){switch(p.label){case 0:n=t.permissionData,r=t.match,i=t.update,o=t.cookieId,s=t.customData;a=fu.subscribe;if(!mu())return[3,7];pu("Request permission on Safari");return[4,new Promise((function(e){window.safari.pushNotification.requestPermission(h.config.browsers.Safari.websitePushAPI,h.config.browsers.Safari.websitePushID,Ku(Ku({},s||{}),{resource_token:h.config.resourceToken,cookie_id:o,match:JSON.stringify(r||{}),update:JSON.stringify(i||{}),is_test:JSON.stringify(h.config.isTest)}),(function(t){pu("New permissionData: ",t);e(t)}))}))];case 1:c=p.sent();if(!(c.permission===uu.Granted))return[3,5];u=window.safari.pushNotification.permission(this.config.browsers.Safari.websitePushID).deviceToken;return[4,Pu(this.config.randomPrefix)];case 2:f=p.sent();pu("deviceToken from pushNotification.permission",u);pu("safari tokenCached:",f);pu("Approved subscription");l={browser:this.config.browser||"",provider:"Safari",token:n.deviceToken||u||null};if(!u)return[3,4];return[4,Mu(this.config.randomPrefix,u)];case 3:p.sent();pu("added token to cache:",u);p.label=4;case 4:if(e.events){pu("emit "+a,l);e.events.emit(a,l)}return[3,6];case 5:pu("Permission === denied");p.label=6;case 6:return[3,14];case 7:pu("Request permission on IOS");return[4,Notification.requestPermission()];case 8:d=p.sent();pu("finished request permission on IOS, permission: ",d);if(!(d===uu.Granted))return[3,13];pu("Initialise subscription for: "+this.config.browser+" by default notification");return[4,_u()];case 9:if(!!p.sent())return[3,11];pu("getPushServiceWorker = null, registerServiceWorker start");return[4,Fu({browser:iu.browser,expirationSWChrome:iu.expirationSWChrome,swPath:iu.swPath})];case 10:p.sent();pu("registerServiceWorker complete");p.label=11;case 11:pu("subscribeSafariNativePush","start");return[4,this.subscribeSafariNativePush({match:r,update:i,customData:s})];case 12:p.sent();pu("subscribeSafariNativePush","complete");return[3,14];case 13:pu("Permission === denied");p.label=14;case 14:return[2]}}))}))};e.prototype.initialize=function(e){return Gu(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return Ju(this,(function(c){switch(c.label){case 0:t=e.match,n=e.update,r=e.customData;pu("initialize akPush","start");i=wu();o=ku(this.config);if(Notification.permission===uu.Default){if(i&&o){pu("should use firebase");pu('Initialise subscription for: "'+this.config.browser+'" with Firebase');try{pu("firebase.initializeApp","start");Vr({appId:this.config.firebase.appId,apiKey:this.config.firebase.apiKey,projectId:this.config.firebase.projectId,messagingSenderId:this.config.firebase.messagingSenderId,storageBucket:[this.config.firebase.projectId,this.config.firebase.bucketSubdomain].join("."),authDomain:[this.config.firebase.projectId,this.config.firebase.authSubdomain].join("."),databaseURL:[this.config.firebase.projectId,this.config.firebase.dbSubdomain].join(".")});pu("firebase.initializeApp","complete")}catch(e){pu("err firebase.initializeApp",e)}}}if(!(Notification.permission!==uu.Denied))return[3,15];s=this.config.browser;switch(s){case"Chrome":return[3,1];case"Firefox":return[3,1];case"Yandex Browser":return[3,1];case"Samsung Internet for Android":return[3,1];case"Opera":return[3,1];case"Safari":return[3,11]}return[3,13];case 1:if(!i)return[3,9];pu("can use service worker");if(!o)return[3,6];c.label=2;case 2:c.trys.push([2,4,,5]);pu("activateFirebasePush","start");return[4,this.initialiseFirebaseNotification({match:t,update:n,customData:r})];case 3:c.sent();pu("activateFirebasePush","complete");pu("initialize akPush","complete");return[3,5];case 4:a=c.sent();pu("err with register, update or active firebase push",a);return[3,5];case 5:return[3,8];case 6:pu("should not use firebase");return[4,this.initialiseDefaultNotification({match:t,update:n,customData:r})];case 7:c.sent();pu("initialize akPush","complete");c.label=8;case 8:return[3,10];case 9:console.error("There is no serviceWorker");c.label=10;case 10:return[3,14];case 11:return[4,this.initialiseSafariNotification({match:t,update:n,customData:r})];case 12:c.sent();pu("initialize akPush","complete");return[3,14];case 13:return[2,undefined];case 14:return[3,16];case 15:pu("initialize akPush","Notification permission is ",Notification.permission);c.label=16;case 16:return[2,undefined]}}))}))};e.prototype.getSubscriptionParams=function(e){return Gu(this,void 0,void 0,(function(){var t,n,r,i,o,s,r,a,c;return Ju(this,(function(u){switch(u.label){case 0:t={provider:null,subscription:null};n=this.config.browser;switch(n){case"Chrome":return[3,1];case"Firefox":return[3,1];case"Yandex Browser":return[3,1];case"Samsung Internet for Android":return[3,1];case"Opera":return[3,1];case"Safari":return[3,8]}return[3,16];case 1:if(!ku(this.config))return[3,2];pu("should use firebase");t.provider=Su(this.config.browser||"")+"Firebase";if(e){pu("found firebase tokenCached");t.subscription={endpoint:e||""}}else{pu("not found firebase tokenCached");return[2,t]}return[3,7];case 2:t.provider=Su(this.config.browser||"");pu("should not use firebase");pu("getPushServiceWorker","start");return[4,_u()];case 3:r=u.sent();pu("getPushServiceWorker","complete");pu(r);u.label=4;case 4:u.trys.push([4,6,,7]);pu("serviceWorkerRegistration.pushManager.subscribe","start");if(!r){pu("getPushServiceWorker has empty, exit func");return[2,t]}i=t;return[4,r.pushManager.subscribe({userVisibleOnly:true})];case 5:i.subscription=u.sent();pu("serviceWorkerRegistration.pushManager.subscribe","complete");return[3,7];case 6:o=u.sent();pu(o);return[2,t];case 7:return[3,17];case 8:pu("should use safari");t.provider="Safari";u.label=9;case 9:u.trys.push([9,14,,15]);s=void 0;if(!mu())return[3,10];s=window.safari.pushNotification.permission(this.config.browsers.Safari.websitePushID);if(s.deviceToken){t.subscription={endpoint:s.deviceToken||""}}else{return[2,t]}return[3,13];case 10:s={permission:Notification.permission};pu("getPushServiceWorker","start");return[4,_u()];case 11:r=u.sent();pu("getPushServiceWorker","complete");pu(r);if(!r){pu("getPushServiceWorker has empty, exit func");return[2,t]}a=t;return[4,r.pushManager.getSubscription().then((function(e){if(e){return{endpoint:e.endpoint,keys:e.toJSON().keys}}return e}))];case 12:a.subscription=u.sent();if(!t.subscription){return[2,t]}pu("pushManager.getSubscription",s);u.label=13;case 13:return[3,15];case 14:c=u.sent();pu(c);return[2,t];case 15:return[3,17];case 16:return[2,t];case 17:return[2,t]}}))}))};e.prototype.suspend=function(t){return Gu(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u,f,l,d;return Ju(this,(function(h){switch(h.label){case 0:n=t.match,r=t.update,i=t.customData;pu("get cached token","start");return[4,Pu(this.config.randomPrefix)];case 1:o=h.sent();pu("get cached token","complete:",o);return[4,this.getSubscriptionParams(o)];case 2:s=h.sent(),a=s.provider,c=s.subscription;if(!(a&&(c===null||c===void 0?void 0:c.endpoint)))return[3,7];pu("fetch suspend subscription","start");h.label=3;case 3:h.trys.push([3,5,,6]);return[4,Wu({action:"suspend",provider:a,subscription:c,match:n,update:r,customData:i,resourceToken:this.config.resourceToken,serverURL:this.config.serverURL})];case 4:u=h.sent();pu("fetch suspend subscription","complete");if(u&&e.events){f=fu.suspendSubscription;l={browser:this.config.browser||"",provider:a,tokenCached:o,token:o};pu("emit "+f,l);e.events.emit(f,l)}return[3,6];case 5:d=h.sent();pu("fail to suspend subscription",d);return[3,6];case 6:return[3,8];case 7:pu("fail to suspend subscription");pu("provider or subscription not available",a&&c);h.label=8;case 8:return[2]}}))}))};e.prototype.update=function(t){return Gu(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u,f,l,d,h;return Ju(this,(function(p){switch(p.label){case 0:n=t.match,r=t.update,i=t.customData,o=t.inexclusive;if(Notification.permission!==uu.Granted){return[2,{status:qu.Fail}]}pu("get cached token","start");return[4,Pu(this.config.randomPrefix)];case 1:s=p.sent();pu("get cached token","complete",s);return[4,this.getSubscriptionParams(s)];case 2:a=p.sent(),c=a.provider,u=a.subscription;if(!(c&&(u===null||u===void 0?void 0:u.endpoint)))return[3,7];pu("fetch update subscription","start");p.label=3;case 3:p.trys.push([3,5,,6]);return[4,Wu({action:"update",provider:c,subscription:u,match:n,update:r,customData:i,inexclusive:o,resourceToken:this.config.resourceToken,serverURL:this.config.serverURL})];case 4:f=p.sent();pu("fetch update subscription","complete");if(f&&e.events){l=fu.updateSubscription;d={browser:this.config.browser||"",provider:c,tokenCached:s,token:s};pu("emit "+l,d);e.events.emit(l,d);return[2,{status:qu.Ok}]}return[3,6];case 5:h=p.sent();return[2,{status:qu.Fail}];case 6:return[3,8];case 7:pu("provider or subscription not available",c&&u);return[2,{status:qu.Fail}];case 8:return[2,{status:qu.Fail}]}}))}))};e.prototype.updateSubscription=function(e,t,n){return Gu(this,void 0,void 0,(function(){var r;var i=this;return Ju(this,(function(o){r={match:e||{},update:t||{},customData:{}};if(typeof n==="boolean"){r.inexclusive=n}else{r.customData=n||{}}if(document.readyState==="complete"||document.readyState==="interactive"){return[2,this.update(r)]}return[2,new Promise((function(e){window.addEventListener("load",(function(){return Gu(i,void 0,void 0,(function(){var t;return Ju(this,(function(n){switch(n.label){case 0:return[4,this.update(r)];case 1:t=n.sent();e(t);return[2]}}))}))}))}))]}))}))};e.prototype.initSubscription=function(e,t,n){return Gu(this,void 0,void 0,(function(){var r=this;return Ju(this,(function(i){switch(i.label){case 0:if(this.isPendingInitSubscription){pu("wait when user give an answer on confirm");return[2]}this.isPendingInitSubscription=true;if(!(document.readyState==="complete"||document.readyState==="interactive"))return[3,2];return[4,this.initialize({match:e||{},update:t||{},customData:n||{}}).finally((function(){r.isPendingInitSubscription=false}))];case 1:i.sent();return[3,3];case 2:window.addEventListener("load",(function(){return Gu(r,void 0,void 0,(function(){var r=this;return Ju(this,(function(i){switch(i.label){case 0:return[4,this.initialize({match:e||{},update:t||{},customData:n||{}}).finally((function(){r.isPendingInitSubscription=false}))];case 1:i.sent();return[2]}}))}))}));i.label=3;case 3:return[2]}}))}))};e.prototype.suspendSubscription=function(e,t,n){return Gu(this,void 0,void 0,(function(){var r;var i=this;return Ju(this,(function(o){switch(o.label){case 0:r={match:e||{},update:t||{},customData:n||{}};if(!(document.readyState==="complete"||document.readyState==="interactive"))return[3,2];return[4,this.suspend(r)];case 1:o.sent();return[3,3];case 2:window.addEventListener("load",(function(){return Gu(i,void 0,void 0,(function(){return Ju(this,(function(e){switch(e.label){case 0:return[4,this.suspend(r)];case 1:e.sent();return[2]}}))}))}));o.label=3;case 3:return[2]}}))}))};e.removeToken=Nu;return e}();const ef=Yu;var tf=undefined&&undefined.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r["throw"](e))}catch(e){o(e)}}function c(e){e.done?n(e.value):i(e.value).then(s,a)}c((r=r.apply(e,t||[])).next())}))};var nf=undefined&&undefined.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return c([e,t])}}function c(s){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=s[0]&2?i["return"]:s[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;if(i=0,o)s=[s[0]&2,o.value];switch(s[0]){case 0:case 1:o=s;break;case 4:n.label++;return{value:s[1],done:false};case 5:n.label++;i=s[1];s=[0];continue;case 7:s=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){n.label=s[1];break}if(s[0]===6&&n.label<o[1]){n.label=o[1];o=s;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(s);break}if(o[2])n.ops.pop();n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e];i=0}finally{r=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var rf=new e.EventEmitter;ef.events=rf;if(!window.AKPush){window.AKPush=ef}(function(){return tf(this,void 0,void 0,(function(){var e;return nf(this,(function(t){switch(t.label){case 0:iu.browser=Au(iu);pu("set browser",iu.browser);if(iu.browser==="Safari"){Iu({serverCookiePath:iu.serverCookiePath,resourceToken:iu.resourceToken,serverURL:iu.serverURL}).then((function(e){if(e){var t=Eu(e["X-Cookie"],"ak")||e.cookie_id;pu("setCookieID",t);Qu(t)}}))}pu("migrateToken start");return[4,zu(iu.randomPrefix)];case 1:e=t.sent();pu("migrateToken complete",e);pu("replaceServiceWorker start");return[4,Bu({browser:iu.browser,swPath:iu.swPath,expirationSWChrome:iu.expirationSWChrome})];case 2:t.sent();pu("replaceServiceWorker complete");pu("initializeServices","start");return[4,Lu(iu,rf)];case 3:t.sent();pu("initializeServices","complete");return[2]}}))}))})()})()})();